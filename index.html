<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AV Tools Suite</title>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Styles -->
    <style>
        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .dark ::-webkit-scrollbar-track { background: #1e293b; }
        .dark ::-webkit-scrollbar-thumb { background: #475569; }
        
        /* Animation utilities */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slideUp { animation: slideUp 0.3s ease-out; }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
    <div id="root"></div>

    <!-- Application Logic -->
    <!-- 1. Core Utilities & Security -->
    <script src="js/core.js"></script>
    <script src="js/security.js"></script>

    <!-- 2. Shared Components -->
    <script src="js/components/ResetConfirmModal.js"></script>

    <!-- 3. Tool Calculators (The 16 Tools) -->
    <!-- Video Tools -->
    <script src="js/tools/bandwidth-calculator.js"></script>
    <script src="js/tools/projector-calculator.js"></script>
    <script src="js/tools/brightness-calculator.js"></script>
    <script src="js/tools/viewing-angle-calculator.js"></script>
    <script src="js/tools/dvled-calculator.js"></script>
    <script src="js/tools/videowall-controller.js"></script>
    <script src="js/tools/videowall-builder.js"></script>
    <script src="js/tools/display-size-calculator.js"></script>
    <script src="js/tools/camera-calculator.js"></script>
    
    <!-- Audio & IT Tools -->
    <script src="js/tools/conduit-calculator.js"></script>
    <script src="js/tools/audio-calculator.js"></script>
    <script src="js/tools/poe-calculator.js"></script>
    <script src="js/tools/cooling-calculator.js"></script>
    <script src="js/tools/speaker-calculator.js"></script>
    <script src="js/tools/dsp-calculator.js"></script>
    <script src="js/tools/rack-builder.js"></script>

    <!-- 4. Main Application Shell -->
    <script src="AVToolsWebsite.js"></script>

    <!-- 5. Mount Script -->
    <script>
        // Mount the React Application
        function checkAndMount() {
            if (window.React && window.ReactDOM && window.AVToolsWebsite) {
                try {
                    const root = ReactDOM.createRoot(document.getElementById('root'));
                    root.render(React.createElement(window.AVToolsWebsite));
                    console.log("AV Tools mounted successfully");
                } catch (e) {
                    console.error("Mount error:", e);
                    document.getElementById('root').innerHTML = 
                        '<div class="p-8 text-center text-red-600"><h1>Application Error</h1><p>Failed to load application. Please check console.</p></div>';
                }
            } else {
                console.log("Waiting for dependencies...", {
                    React: !!window.React,
                    ReactDOM: !!window.ReactDOM,
                    App: !!window.AVToolsWebsite
                });
                setTimeout(checkAndMount, 50);
            }
        }
        
        // Start checking when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', checkAndMount);
        } else {
            checkAndMount();
        }
    </script>
</body>
</html>
