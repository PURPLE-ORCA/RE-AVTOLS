// @license Proprietary - avtoolspro.com
const _jsx = (e, t, s) => {
        const { children: a, ...r } = t || {};
        return void 0 !== s && (r.key = s), React.createElement(e, r, a);
    },
    _jsxs = (e, t, s) => {
        const { children: a, ...r } = t || {};
        return (
            void 0 !== s && (r.key = s),
            Array.isArray(a) ? React.createElement(e, r, ...a) : React.createElement(e, r, a)
        );
    },
    _Fragment = React.Fragment,
    ResetConfirmModal = ({
        isOpen: e,
        onConfirm: t,
        onCancel: s,
        title: a = "Reset Tool?",
        message: r = "This will reset all configurations to their default values. This action cannot be undone.",
    }) =>
        e
            ? _jsx("div", {
                  className: "fixed inset-0 z-50 flex items-center justify-center p-4",
                  style: { backgroundColor: "rgba(0, 0, 0, 0.5)" },
                  onClick: (e) => {
                      e.target === e.currentTarget && s();
                  },
                  children: _jsxs("div", {
                      className:
                          "bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",
                      style: { animation: "modalFadeIn 0.2s ease-out" },
                      children: [
                          _jsxs("div", {
                              className: "relative",
                              children: [
                                  _jsx("div", {
                                      className: "h-24 bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",
                                      style: { borderRadius: "0 0 50% 50% / 0 0 30px 30px" },
                                  }),
                                  _jsx("button", {
                                      onClick: s,
                                      className:
                                          "absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white dark:bg-gray-800/20 hover:bg-white dark:bg-gray-800/30 transition-colors",
                                      children: _jsx("svg", {
                                          className: "w-5 h-5 text-white",
                                          fill: "none",
                                          viewBox: "0 0 24 24",
                                          stroke: "currentColor",
                                          strokeWidth: 2,
                                          children: _jsx("path", {
                                              strokeLinecap: "round",
                                              strokeLinejoin: "round",
                                              d: "M6 18L18 6M6 6l12 12",
                                          }),
                                      }),
                                  }),
                                  _jsx("div", {
                                      className:
                                          "absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2",
                                      children: _jsx("div", {
                                          className:
                                              "w-16 h-16 bg-white dark:bg-gray-800 rounded-full shadow-lg dark:shadow-gray-950/30 flex items-center justify-center",
                                          children: _jsx("svg", {
                                              className: "w-9 h-9 text-blue-600",
                                              fill: "none",
                                              viewBox: "0 0 24 24",
                                              stroke: "currentColor",
                                              strokeWidth: 2,
                                              children: _jsx("path", {
                                                  strokeLinecap: "round",
                                                  strokeLinejoin: "round",
                                                  d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",
                                              }),
                                          }),
                                      }),
                                  }),
                              ],
                          }),
                          _jsxs("div", {
                              className: "px-6 pt-12 pb-6 text-center",
                              children: [
                                  _jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-gray-100 mb-3", children: a }),
                                  _jsx("p", { className: "text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6", children: r }),
                                  _jsxs("div", {
                                      className: "flex flex-col gap-3",
                                      children: [
                                          _jsx("button", {
                                              onClick: t,
                                              className:
                                                  "w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition-colors shadow-md dark:shadow-gray-950/20 hover:shadow-lg dark:shadow-gray-950/30",
                                              children: "Yes, Reset Tool",
                                          }),
                                          _jsx("button", {
                                              onClick: s,
                                              className:
                                                  "w-full py-2.5 px-4 text-gray-600 dark:text-gray-400 hover:text-gray-800 font-medium transition-colors",
                                              children: "Cancel",
                                          }),
                                      ],
                                  }),
                              ],
                          }),
                          _jsx("div", {
                              className: "px-6 pb-4 text-center",
                              children: _jsx("p", { className: "text-xs text-gray-400", children: "AV Tools Pro" }),
                          }),
                      ],
                  }),
              })
            : null,
    { useState: useState, useEffect: useEffect, useRef: useRef } = React,
    _0x99bba9 = (e, t = 0, s = null) => {
        if ("" === e || null == e) return t;
        const a = "string" == typeof e ? parseFloat(e) : e;
        return isNaN(a) ? t : null !== s && a < s ? s : a;
    };
function calculateCameraWithZoom(e, t, s, a) {
    (!e || e <= 0) && (e = 1920),
        (!t || t <= 0) && (t = 1),
        (!s || s < 1) && (s = 1),
        s > 100 && (s = 100),
        (!a || a <= 0) && (a = 90),
        a >= 180 && (a = 179);
    var r = e / t,
        l = 0.3048 * r,
        i = (a * Math.PI) / 180,
        n = 2 * Math.atan(Math.tan(i / 2) / s),
        o = Math.round(((180 * n) / Math.PI) * 10) / 10;
    (!isFinite(o) || o <= 0) && (o = 0.1);
    var d = Math.round(r * s * 10) / 10,
        c = Math.round(0.3048 * d * 10) / 10,
        m = Math.round((t / s) * 100) / 100,
        x = Math.round(3.28084 * m * 100) / 100,
        u = function (e) {
            return e >= 250
                ? {
                      level: "Identification",
                      color: "green",
                      ppm: 250,
                      description: "Identity established beyond reasonable doubt",
                  }
                : e >= 125
                  ? { level: "Recognition", color: "yellow", ppm: 125, description: "Recognize known individual" }
                  : e >= 62
                    ? { level: "Observation", color: "orange", ppm: 62, description: "See characteristic details" }
                    : e >= 25
                      ? { level: "Detection", color: "red", ppm: 25, description: "Detect human presence" }
                      : { level: "Monitoring", color: "gray", ppm: 0, description: "General scene monitoring" };
        },
        h = u(r),
        p = u(d),
        g = Math.round((e / 25) * 100) / 100,
        b = Math.round((e / 62) * 100) / 100,
        f = Math.round((e / 125) * 100) / 100,
        y = Math.round((e / 250) * 100) / 100,
        j = Math.round(g * s * 100) / 100,
        _ = Math.round(b * s * 100) / 100,
        v = Math.round(f * s * 100) / 100,
        N = Math.round(y * s * 100) / 100;
    return {
        basePPM: Math.round(10 * r) / 10,
        basePPF: Math.round(10 * l) / 10,
        baseDORI: h,
        baseHFOV: a,
        zoomFactor: s,
        effectiveHFOV: o,
        effectivePPM: d,
        effectivePPF: c,
        effectiveDORI: p,
        effectiveCoverageWidthM: m,
        effectiveCoverageWidthFt: x,
        doriImproved: h.level !== p.level,
        maxCoverages: {
            detect: { base: g, zoomed: j },
            observe: { base: b, zoomed: _ },
            recognize: { base: f, zoomed: v },
            identify: { base: y, zoomed: N },
        },
        standards: "IEC 62676-4:2014",
    };
}
function calculateMixedConduitFill(e, t) {
    var s = e.reduce(function (e, t) {
            return e + t.quantity;
        }, 0),
        a = 1 === s ? 53 : 2 === s ? 31 : 40,
        r = 0,
        l = e.map(function (e) {
            var t = Math.PI * Math.pow(e.diameter / 2, 2),
                s = t * e.quantity;
            return (
                (r += s),
                {
                    type: e.type,
                    description: e.description || e.type,
                    quantity: e.quantity,
                    diameter: e.diameter.toFixed(3),
                    areaPerCable: Math.round(1e4 * t) / 1e4,
                    totalArea: Math.round(1e4 * s) / 1e4,
                }
            );
        }),
        i = [
            { trade: '1/2"', id: 0.622 },
            { trade: '3/4"', id: 0.824 },
            { trade: '1"', id: 1.049 },
            { trade: '1-1/4"', id: 1.38 },
            { trade: '1-1/2"', id: 1.61 },
            { trade: '2"', id: 2.067 },
            { trade: '2-1/2"', id: 2.731 },
            { trade: '3"', id: 3.356 },
            { trade: '4"', id: 4.334 },
        ],
        n = i.map(function (t) {
            var l = Math.PI * Math.pow(t.id / 2, 2),
                i = Math.round((r / l) * 100 * 10) / 10,
                n = i <= a,
                o =
                    e.length > 0
                        ? e.reduce(function (e, t) {
                              return e + t.diameter * t.quantity;
                          }, 0) / s
                        : 0,
                d = s >= 3 ? Math.round((t.id / o) * 100) / 100 : null,
                c = "N/A";
            return (
                s >= 3 && d && (c = d < 2.8 ? "High Risk" : d <= 3.2 ? "Borderline" : "Low Risk"),
                {
                    trade: t.trade,
                    id: t.id,
                    area: Math.round(1e4 * l) / 1e4,
                    actualFillPercent: i,
                    compliant: n,
                    jamRatio: d,
                    jamStatus: c,
                    recommended: !1,
                }
            );
        }),
        o = n.find(function (e) {
            return e.compliant;
        });
    o && (o.recommended = !0);
    var d = !o,
        c = [],
        m = [];
    if (d) {
        for (
            var x = i[i.length - 1], u = Math.PI * Math.pow(x.id / 2, 2) * (a / 100), h = Math.ceil(r / u), p = h;
            p <= Math.min(h + 3, 20);
            p++
        ) {
            var g = r / p,
                b = g / (a / 100),
                f = 2 * Math.sqrt(b / Math.PI),
                y = i.find(function (e) {
                    return e.id >= f;
                });
            if (y) {
                var j = Math.PI * Math.pow(y.id / 2, 2),
                    _ = Math.round((g / j) * 100 * 10) / 10,
                    v = Math.ceil(s / p),
                    N =
                        e.reduce(function (e, t) {
                            return e + t.diameter * t.quantity;
                        }, 0) / s,
                    w = v >= 3 ? Math.round((y.id / N) * 100) / 100 : null,
                    C = "N/A";
                v >= 3 && w && (C = w < 2.8 ? "High Risk" : w <= 3.2 ? "Borderline" : "Low Risk"),
                    c.push({
                        conduitCount: p,
                        conduitSize: y.trade,
                        conduitID: y.id,
                        cablesPerConduit: v,
                        fillPercent: _,
                        compliant: _ <= a,
                        jamRatio: w,
                        jamStatus: C,
                        totalConduitArea: Math.round(j * p * 1e3) / 1e3,
                    });
            }
        }
        m =
            0 === c.length
                ? [
                      "⚠️ EXTREME CASE: " + s + " cables require " + h + "+ conduits",
                      "Cable tray is strongly recommended for this cable volume (NEC Article 392)",
                      "Consider ladder tray or solid-bottom tray based on cable type",
                      "Consult with electrical engineer for proper cable management design",
                      "May require multiple parallel cable tray runs",
                      "Ensure proper support spacing per NEC requirements",
                  ]
                : [
                      'Cable quantity exceeds maximum single 4" conduit capacity per NEC Chapter 9',
                      "Use multiple parallel conduits to distribute cables while maintaining fill compliance",
                      "Consider cable tray for large cable bundles (NEC Article 392)",
                      "Ensure equal distribution of cables across conduits for balanced fills",
                      "Maintain proper separation between conduits per NEC spacing requirements",
                      "Label conduits clearly to indicate cable routing for future maintenance",
                      "Consider future expansion needs when selecting conduit configuration",
                  ];
    }
    return {
        totalCables: s,
        totalCableArea: Math.round(1e4 * r) / 1e4,
        fillPercentAllowed: a,
        cableBreakdown: l,
        conduitOptions: n,
        recommendedConduit: o || n[n.length - 1],
        conduitType: t || "EMT",
        standards: "NEC 2023 Chapter 9, AVIXA F502.01:2018",
        exceedsMaximum: d,
        multiConduitRecommendations: c,
        bestPractices: m,
    };
}
function _0xb9cb50(e, t, s = "in") {
    const a = [
            { trade: '1/2"', id: 0.622, metric: "16mm" },
            { trade: '3/4"', id: 0.824, metric: "21mm" },
            { trade: '1"', id: 1.049, metric: "27mm" },
            { trade: '1-1/4"', id: 1.38, metric: "35mm" },
            { trade: '1-1/2"', id: 1.61, metric: "41mm" },
            { trade: '2"', id: 2.067, metric: "53mm" },
            { trade: '2-1/2"', id: 2.731, metric: "69mm" },
            { trade: '3"', id: 3.356, metric: "85mm" },
            { trade: '4"', id: 4.334, metric: "110mm" },
        ],
        r = "mm" === s ? t / 25.4 : t;
    let l;
    l = 1 === e ? 0.53 : 2 === e ? 0.31 : 0.4;
    const i = Math.sqrt((e * Math.pow(r, 2)) / l),
        n = a.find((e) => e.id >= i),
        o = a[a.length - 1],
        d = n ? n.id : o.id,
        c = (n && n.id, d / r);
    let m, x;
    e < 3
        ? ((m = "N/A"), (x = "gray"))
        : c < 2.8
          ? ((m = "High Risk"), (x = "red"))
          : c <= 3.2
            ? ((m = "Borderline"), (x = "yellow"))
            : ((m = "Low Risk"), (x = "green"));
    const u = e * Math.PI * Math.pow(r / 2, 2),
        h = (u / (Math.PI * Math.pow(d / 2, 2))) * 100;
    let p = null,
        g = 0;
    if (e >= 3) {
        const e = 3.2 * r;
        (p = a.find((t) => t.id >= e)), p && (g = p.id / r);
    }
    let b = [];
    if (e >= 3 && c < 3.2) {
        const t = Math.ceil(e / 2),
            s = Math.sqrt((t * Math.pow(r, 2)) / l),
            i = a.find((e) => e.id >= s);
        if (i) {
            const e = i.id / r;
            b.push({
                count: 2,
                cablesEach: t,
                conduit: i,
                jamRatio: Math.round(100 * e) / 100,
                jamRisk: e < 2.8 ? "High Risk" : e <= 3.2 ? "Borderline" : "Low Risk",
                fillPercent:
                    Math.round(((t * Math.PI * Math.pow(r / 2, 2)) / (Math.PI * Math.pow(i.id / 2, 2))) * 1e3) / 10,
            });
        }
        if (e >= 6) {
            const t = Math.ceil(e / 3),
                s = Math.sqrt((t * Math.pow(r, 2)) / l),
                i = a.find((e) => e.id >= s);
            if (i) {
                const e = i.id / r;
                b.push({
                    count: 3,
                    cablesEach: t,
                    conduit: i,
                    jamRatio: Math.round(100 * e) / 100,
                    jamRisk: e < 2.8 ? "High Risk" : e <= 3.2 ? "Borderline" : "Low Risk",
                    fillPercent:
                        Math.round(((t * Math.PI * Math.pow(r / 2, 2)) / (Math.PI * Math.pow(i.id / 2, 2))) * 1e3) / 10,
                });
            }
        }
    }
    const f = !n;
    let y = [],
        j = [];
    if (f) {
        const t = a[a.length - 1],
            s = Math.PI * Math.pow(t.id / 2, 2) * l,
            i = Math.ceil(u / s);
        for (let t = i; t <= Math.min(i + 3, 20); t++) {
            const s = Math.ceil(e / t),
                l = s * Math.PI * Math.pow(r / 2, 2),
                i = 1 === s ? 0.53 : 2 === s ? 0.31 : 0.4,
                n = Math.sqrt((s * Math.pow(r, 2)) / i),
                o = a.find((e) => e.id >= n);
            if (o) {
                const e = Math.PI * Math.pow(o.id / 2, 2),
                    a = Math.round((l / e) * 100 * 10) / 10,
                    n = s >= 3 ? Math.round((o.id / r) * 100) / 100 : null;
                let d = "N/A";
                s >= 3 && n && (d = n < 2.8 ? "High Risk" : n <= 3.2 ? "Borderline" : "Low Risk"),
                    y.push({
                        count: t,
                        cablesEach: s,
                        conduit: o,
                        jamRatio: n,
                        jamRisk: d,
                        fillPercent: a,
                        compliant: a <= 100 * i,
                    });
            }
        }
        j =
            0 === y.length
                ? [
                      `⚠️ EXTREME CASE: ${e} cables require ${i}+ conduits`,
                      "Cable tray is strongly recommended for this cable volume (NEC Article 392)",
                      "Consider ladder tray or solid-bottom tray based on cable type",
                      "Consult with electrical engineer for proper cable management design",
                      "May require multiple parallel cable tray runs",
                      "Ensure proper support spacing per NEC requirements",
                  ]
                : [
                      'Cable quantity exceeds maximum single 4" conduit capacity per NEC Chapter 9',
                      "Use multiple parallel conduits to distribute cables while maintaining fill compliance",
                      "Consider cable tray for large cable bundles (NEC Article 392)",
                      "Ensure equal distribution of cables across conduits for balanced fills",
                      "Maintain proper separation between conduits per NEC spacing requirements",
                      "Label conduits clearly to indicate cable routing for future maintenance",
                      "Consider future expansion needs when selecting conduit configuration",
                  ];
    }
    const _ = "mm" === s ? 25.4 : 1,
        v = s;
    return {
        minRequiredID: Math.round(i * _ * 1e3) / 1e3,
        minRequiredIDInches: Math.round(1e3 * i) / 1e3,
        _0xd93e1a: n,
        recommendedConduitID: n ? Math.round(n.id * _ * 100) / 100 : null,
        fillPercentage: 100 * l,
        actualFillPercent: Math.round(10 * h) / 10,
        jamRatio: Math.round(100 * c) / 100,
        jamRisk: m,
        jamRiskColor: x,
        safeJamConduit: p,
        safeJamRatio: Math.round(100 * g) / 100,
        multiConduitOptions: b,
        exceedsMaximum: f,
        exceedsMultiConduitOptions: y,
        bestPractices: j,
        unit: v,
        cableQty: e,
        outerDiameter: t,
        outerDiameterInches: r,
        _0xf639dc: a,
    };
}
function _0xae89d3(e, t, s, a = 0, r = 0) {
    if (e <= 0 || t <= 0 || s <= 0)
        return {
            dataRateBps: 0,
            dataRateKbps: 0,
            dataRateMbps: 0,
            fileSizeMB: 0,
            fileSizeGB: 0,
            fileSizeFormatted: "0 MB",
            totalSeconds: 0,
        };
    const l = Math.max(0, 60 * (a || 0) + (r || 0)),
        i = e * t * s,
        n = i / 1e3,
        o = n / 1e3,
        d = (i * l) / 8,
        c = d / 1048576,
        m = c / 1024;
    let x;
    if (m >= 1) x = Math.round(100 * m) / 100 + " GB";
    else if (c >= 1) x = Math.round(100 * c) / 100 + " MB";
    else {
        const e = d / 1024;
        x = Math.round(100 * e) / 100 + " KB";
    }
    return {
        dataRateBps: Math.round(i),
        dataRateKbps: Math.round(100 * n) / 100,
        dataRateMbps: Math.round(1e3 * o) / 1e3,
        fileSizeMB: Math.round(100 * c) / 100,
        fileSizeGB: Math.round(1e3 * m) / 1e3,
        fileSizeFormatted: x,
        totalSeconds: l,
    };
}
function calculateProjectorThrow(e, t, s = "in") {
    const a = e * t;
    return { throwDistance: Math.round(100 * a) / 100, unit: s };
}
function _0x78d92f(e, t = 20, s = 0, cableLengthM = 50, cableType = "cat6") {
    // Cable resistance per meter (loop resistance for one pairset) - IEEE values
    const cableResistance = {
        cat5e: 0.188,  // ~0.188 Ω/m loop resistance (24 AWG)
        cat6: 0.125,   // ~0.125 Ω/m loop resistance (23 AWG)
        cat6a: 0.09    // ~0.09 Ω/m loop resistance (22 AWG)
    };
    
    // PoE voltage (typical PSE output voltage)
    const poeVoltage = 52; // Volts (IEEE standard range is 44-57V, typical is 52V)
    
    // Calculate power requirements at PD (device) side
    const pdPowerPoe = 12.95;      // IEEE 802.3af - power at PD
    const pdPowerPoePlus = 25.5;   // IEEE 802.3at - power at PD  
    const pdPowerPoePlusPlus = 51; // IEEE 802.3bt Type 3 - power at PD
    const pdPower4PPOE = 71.3;     // IEEE 802.3bt Type 4 - power at PD
    
    // PSE power (what switch provides)
    const psePowerPoe = 15.4;
    const psePowerPoePlus = 30;
    const psePowerPoePlusPlus = 60;
    const psePower4PPOE = 90;
    
    // Get cable resistance for selected type
    const Rc = cableResistance[cableType] || cableResistance.cat6;
    
    // Calculate cable losses for each PoE type
    // Power loss formula: P_loss = I² × R × L / Np
    // Where I = P / V, R = cable resistance, L = length, Np = number of pairs
    
    const calculateCableLoss = (pdPower, psePower, numPairs) => {
        if (pdPower === 0) return { lossWatts: 0, lossPercent: 0, actualPsePower: psePower };
        
        // Current at PD: I = P / V
        const current = pdPower / poeVoltage;
        
        // Cable resistance for the run (loop = there and back)
        // For 2-pair: full resistance, for 4-pair: halved (parallel paths)
        const effectiveResistance = (Rc * cableLengthM) / numPairs;
        
        // Power loss in cable: P = I² × R
        const powerLoss = Math.pow(current, 2) * effectiveResistance * 2; // *2 for both directions
        
        // Calculate what PSE actually needs to provide
        const actualPsePower = pdPower + powerLoss;
        
        // Loss percentage
        const lossPercent = (powerLoss / actualPsePower) * 100;
        
        return {
            lossWatts: Math.round(powerLoss * 100) / 100,
            lossPercent: Math.round(lossPercent * 10) / 10,
            actualPsePower: Math.round(actualPsePower * 100) / 100
        };
    };
    
    // Calculate losses for each type (PoE/PoE+ use 2 pairs, PoE++ uses 4 pairs)
    const poeLoss = calculateCableLoss(pdPowerPoe, psePowerPoe, 2);
    const poePlusLoss = calculateCableLoss(pdPowerPoePlus, psePowerPoePlus, 2);
    const poePlusPlusLoss = calculateCableLoss(pdPowerPoePlusPlus, psePowerPoePlusPlus, 4);
    const fourPPoeLoss = calculateCableLoss(pdPower4PPOE, psePower4PPOE, 4);
    
    // Use actual PSE power requirements (accounting for cable loss)
    const a = poeLoss.actualPsePower * e.poe,
        r = poePlusLoss.actualPsePower * e.poePlus,
        l = poePlusPlusLoss.actualPsePower * e.poePlusPlus,
        i = fourPPoeLoss.actualPsePower * e.fourPPOE,
        n = a + r + l + i,
        o = n * (t / 100),
        d = n + o,
        c = d + s,
        m = e.poe + e.poePlus + e.poePlusPlus + e.fourPPOE,
        x = Math.ceil(1.2 * m);
    
    // Calculate total cable losses
    const totalCableLoss = (poeLoss.lossWatts * e.poe) + 
                           (poePlusLoss.lossWatts * e.poePlus) + 
                           (poePlusPlusLoss.lossWatts * e.poePlusPlus) + 
                           (fourPPoeLoss.lossWatts * e.fourPPOE);
    
    // Power at devices (what they actually receive)
    const powerAtDevices = (pdPowerPoe * e.poe) + 
                           (pdPowerPoePlus * e.poePlus) + 
                           (pdPowerPoePlusPlus * e.poePlusPlus) + 
                           (pdPower4PPOE * e.fourPPOE);
    
    let u = "",
        h = 0,
        p = 1,
        g = 24;
    x <= 48
        ? ((g = [8, 12, 16, 24, 48].find((e) => e >= x) || 48), (h = g), (p = 1), (u = `${g}-port switch`))
        : ((p = Math.ceil(x / 48)), (g = 48), (h = 48 * p), (u = `${p} × 48-port switches`));
    const b = h - m,
        f = Math.round((b / h) * 100);
    let y = "Non-PoE",
        j = "N/A",
        _ = "";
    e.fourPPOE > 0
        ? ((y = "PoE++ (802.3bt Type 4)"), (j = "PoE++ Type 4"), (_ = "802.3bt"))
        : e.poePlusPlus > 0
          ? ((y = "PoE++ (802.3bt Type 3)"), (j = "PoE++ Type 3"), (_ = "802.3bt"))
          : e.poePlus > 0
            ? ((y = "PoE+ (802.3at)"), (j = "PoE+"), (_ = "802.3at"))
            : e.poe > 0 && ((y = "PoE (802.3af)"), (j = "PoE"), (_ = "802.3af"));
    let v = `${p} × ${g}-port ${j} switch${p > 1 ? "es" : ""}`;
    const N = [
        { model: "Netgear M4250-9G1F-PoE+ (GSM4210PD)", budget: 110, ports: 8, type: "PoE+", brand: "Netgear M4250" },
        { model: "Netgear M4250-10G2F-PoE+ (GSM4212P)", budget: 125, ports: 8, type: "PoE+", brand: "Netgear M4250" },
        { model: "Netgear M4250-8G2XF-PoE+ (GSM4210PX)", budget: 220, ports: 8, type: "PoE+", brand: "Netgear M4250" },
        { model: "Netgear M4250-10G2XF-PoE+ (GSM4212PX)", budget: 240, ports: 8, type: "PoE+", brand: "Netgear M4250" },
        { model: "Netgear M4250-26G4F-PoE+ (GSM4230P)", budget: 300, ports: 24, type: "PoE+", brand: "Netgear M4250" },
        {
            model: "Netgear M4250-26G4XF-PoE+ (GSM4230PX)",
            budget: 480,
            ports: 24,
            type: "PoE+",
            brand: "Netgear M4250",
        },
        { model: "Netgear M4250-40G8F-PoE+ (GSM4248P)", budget: 480, ports: 40, type: "PoE+", brand: "Netgear M4250" },
        {
            model: "Netgear M4250-40G8XF-PoE+ (GSM4248PX)",
            budget: 960,
            ports: 40,
            type: "PoE+",
            brand: "Netgear M4250",
        },
        {
            model: "Netgear M4250-40G8XF-PoE++ (GSM4248UX)",
            budget: 2880,
            ports: 40,
            type: "PoE++",
            brand: "Netgear M4250",
        },
        {
            model: "Netgear M4250-26G4F-PoE++ (GSM4230UP)",
            budget: 1440,
            ports: 24,
            type: "PoE++",
            brand: "Netgear M4250",
        },
        { model: "Ubiquiti USW-Pro-24-PoE", budget: 400, ports: 24, type: "PoE++", brand: "Ubiquiti" },
        { model: "Ubiquiti USW-Pro-48-PoE", budget: 600, ports: 48, type: "PoE++", brand: "Ubiquiti" },
        { model: "Ubiquiti USW-Pro-Max-24-PoE", budget: 400, ports: 24, type: "PoE++", brand: "Ubiquiti" },
        { model: "Ubiquiti USW-Pro-Max-48-PoE", budget: 720, ports: 48, type: "PoE++", brand: "Ubiquiti" },
        { model: "Ubiquiti USW-Enterprise-48-PoE", budget: 720, ports: 48, type: "PoE++", brand: "Ubiquiti" },
    ];
    N.sort((e, t) => e.budget - t.budget);
    let w = null,
        C = 1,
        M = p;
    Math.ceil(d);
    for (const e of N)
        if (e.budget >= d && e.ports >= m) {
            (w = e), (C = 1);
            break;
        }
    if (!w) {
        const e = N.filter((e) => e.budget >= 400).sort((e, t) => t.budget - e.budget)[0] || N[N.length - 1];
        (C = Math.ceil(d / e.budget)), (M = Math.ceil(m / e.ports));
        const t = Math.max(C, M);
        (w = {
            model: `${t} × ${e.model}`,
            budget: e.budget * t,
            budgetPerSwitch: e.budget,
            ports: e.ports * t,
            type: e.type,
            brand: e.brand,
            isMultiple: !0,
            count: t,
        }),
            (C = t);
    }
    (p = Math.max(M, C)),
        (v = w.isMultiple ? `${w.count} × ${g}-port ${j} switches` : `1 × ${w.ports}-port ${j} switch`);
    const k = N.filter((e) => e.budget >= d / p && e.ports >= Math.ceil(m / p))
        .slice(0, 3)
        .map((e) => e.model);
    let S = "Cat5e or better";
    (e.fourPPOE > 0 || e.poePlusPlus > 0) && (S = "Cat6 or Cat6A recommended for Type 3/4 devices");
    const R = [];
    R.push({
        type: "success",
        title: "Recommended Switch",
        text: w.isMultiple
            ? `${w.count} × ${w.model.split(" × ")[1]} (${w.budgetPerSwitch}W each = ${w.budget}W poeTotal)`
            : `${w.model} with ${w.budget}W PoE budget`,
    }),
        k.length > 1 &&
            R.push({ type: "info", title: "Alternative Models", text: `Also consider: ${k.slice(0, 3).join(", ")}` }),
        (d > 200 || m > 10) &&
            R.push({
                type: "info",
                title: "Redundancy Consideration",
                text: `For mission-critical AV systems, consider dual power supplies or stacked switches with ${Math.round(1.5 * d)}W combined budget for N+1 redundancy.`,
            });
    const P = Math.round(1.6 * c * 1.25);
    R.push({
        type: "info",
        title: "UPS Sizing",
        text: `Minimum UPS capacity: ${P}VA (includes ${Math.round(d)}W PoE + ${s}W switch). For 15-min runtime, consider ${Math.round(1.5 * P)}VA or higher.`,
    });
    const A = Math.round(3.412 * c);
    
    // Add cable loss warning if significant
    const avgLossPercent = n > 0 ? (totalCableLoss / n) * 100 : 0;
    if (avgLossPercent > 10) {
        R.push({
            type: "warning",
            title: "High Cable Loss",
            text: `Cable losses are ${avgLossPercent.toFixed(1)}% at ${cableLengthM}m. Consider shorter runs or upgrading to Cat6A cable to reduce power waste.`,
        });
    }
    
    return (
        A > 500 &&
            R.push({
                type: "warning",
                title: "Thermal Management",
                text: `Total heat output: ~${A} BTU/hr (PoE: ${Math.round(3.412 * d)} + Switch: ${Math.round(3.412 * s)}). Ensure adequate rack ventilation or cooling for enclosed spaces.`,
            }),
        (e.fourPPOE > 0 || e.poePlusPlus > 0) &&
            R.push({
                type: "warning",
                title: "Cable Distance",
                text: "High-power PoE (Type 3/4) experiences significant voltage drop over distance. Keep cable runs under 75m for optimal performance, or use Cat6A for runs up to 100m.",
            }),
        m > 0.8 * h &&
            R.push({
                type: "warning",
                title: "Port Density",
                text: "Port utilization exceeds 80%. Industry best practice recommends 20% spare capacity for maintenance and growth.",
            }),
        {
            totalWatts: Math.round(100 * d) / 100,
            subtotalWatts: Math.round(100 * n) / 100,
            headroomWatts: Math.round(100 * o) / 100,
            headroomPercent: t,
            switchBasePower: s,
            totalSystemPower: Math.round(100 * c) / 100,
            minStandard: y,
            minStandardShort: j,
            minStandardIEEE: _,
            totalDevices: m,
            recommendedPorts: h,
            numSwitches: p,
            switchSize: g,
            switchConfig: u,
            switchRequirement: v,
            unusedPorts: b,
            unusedPercent: f,
            recommendedTier: w.brand || "Multi-Switch",
            recommendedBudget: w.budget,
            recommendedBudgetPerSwitch: w.budgetPerSwitch || w.budget,
            recommendedModel: w.model,
            recommendedBrands: k.length > 0 ? k.join(", ") : w.model,
            isMultiSwitch: w.isMultiple || !1,
            switchCount: w.count || 1,
            cableRecommendation: S,
            upsVA: P,
            btuPerHour: A,
            recommendations: R,
            breakdown: {
                poe: Math.round(100 * a) / 100,
                poePlus: Math.round(100 * r) / 100,
                poePlusPlus: Math.round(100 * l) / 100,
                fourPPOE: Math.round(100 * i) / 100,
            },
            deviceCounts: e,
            // Cable loss data
            cableLoss: {
                totalLossWatts: Math.round(100 * totalCableLoss) / 100,
                powerAtDevices: Math.round(100 * powerAtDevices) / 100,
                cableLengthM: cableLengthM,
                cableLengthFt: Math.round(cableLengthM * 3.28084),
                cableType: cableType,
                lossPercent: n > 0 ? Math.round((totalCableLoss / n) * 1000) / 10 : 0,
                perType: {
                    poe: poeLoss,
                    poePlus: poePlusLoss,
                    poePlusPlus: poePlusPlusLoss,
                    fourPPOE: fourPPoeLoss
                }
            }
        }
    );
}
function _0xac743b(e) {
    const t = (e / 3.1415926358973) * 3,
        s = 3.426 * e;
    return { nits: Math.round(100 * t) / 100, lumens: Math.round(100 * s) / 100 };
}
function _0x9860ed(e, t, s = "in") {
    const a = (2 * Math.atan(e / 2 / t) * 180) / Math.PI;
    return { angle: Math.round(100 * a) / 100, unit: s };
}
function calculateDvLEDPixelPitch(e, t = "ft") {
    const s = "m" === t ? 3.28084 * e : e,
        a = "ft" === t ? e / 3.28084 : e,
        r = s / 10,
        l = s / 11.28,
        i = s / 2,
        n = a / 2;
    return {
        pixelPitchMm: Math.round(100 * r) / 100,
        pixelPitchMmExact: Math.round(100 * l) / 100,
        closestViewerFt: Math.round(100 * s) / 100,
        closestViewerM: Math.round(100 * a) / 100,
        comfortableViewingFt: Math.round(100 * i) / 100,
        comfortableViewingM: Math.round(100 * n) / 100,
    };
}
function calculateVideoWallController(e, t, s, a, r, l, i = 60, n = 8) {
    const o = Math.round(s / r),
        d = Math.round(a / r),
        c = o * d,
        m = 3 * n,
        x = Math.floor(936e6 / (i * m)),
        u = Math.min(x, l),
        h = Math.floor(u / c),
        p = Math.floor(e / c),
        g = h * t,
        b = (c * i * m) / 1e6,
        f = ((c * h) / u) * 100;
    return {
        cabinetResolution: c,
        widthPixels: o,
        heightPixels: d,
        cabinetsPerPort: h,
        maxCabinetsTotal: Math.min(p, g),
        maxByControllerCapacity: p,
        maxByPorts: g,
        refreshRate: i,
        bitDepth: n,
        bitsPerPixel: m,
        bandwidthPerCabinet: Math.round(100 * b) / 100,
        effectivePortCapacity: u,
        calculatedPortCapacity: x,
        portUtilization: Math.round(10 * f) / 10,
    };
}
function calculateRackCooling(e, t, s, a = 1.25) {
    const r = 3.412 * e + 400 * t + 3.412 * s,
        l = r * a,
        i = l / 12e3,
        n = Math.round(l / (1.08 * 15));
    return {
        totalBTU: Math.round(l),
        subtotalBTU: Math.round(r),
        coolingTons: Math.round(100 * i) / 100,
        cfmRequired: n,
        coolingKW: Math.round(3.517 * i * 100) / 100,
    };
}
function calculateSpeakerPower(e, t, s, a, r, l = 1) {
    const i = a / r,
        n = Math.log10(i),
        o = 20 * n,
        d = e + t - s + o,
        c = d / 10,
        m = Math.pow(10, c),
        x = m * l;
    return {
        requiredWatts: x < 0.01 ? 0.01 : Math.round(100 * x) / 100,
        powerBase: Math.round(100 * m) / 100,
        exponent: Math.round(1e3 * c) / 1e3,
        numerator: Math.round(100 * d) / 100,
        distanceLoss: Math.round(100 * o) / 100,
        logDistanceRatio: Math.round(1e3 * n) / 1e3,
        distanceRatio: Math.round(100 * i) / 100,
    };
}
function _0xb402b0(e, t, s, a, r, l, i = "in") {
    let n;
    n = "BDM" === l ? e / ((t / 100) * 200) : (e * s) / 3438;
    const o = n * (a / r),
        d = Math.sqrt(Math.pow(o, 2) + Math.pow(n, 2));
    let c = d;
    return (
        "ft" === i ? (c = 12 * d) : "m" === i && (c = 39.3701 * d),
        {
            imageHeight: Math.round(100 * n) / 100,
            imageWidth: Math.round(100 * o) / 100,
            diagonalSize: Math.round(100 * d) / 100,
            diagonalInches: Math.round(100 * c) / 100,
            method: l,
            unit: i,
            acuityFactor: "BDM" === l ? 200 : 3438,
        }
    );
}
function calculateCameraDistance(e, t, s = "m") {
    (!e || e <= 0) && (e = 1), (!t || t <= 0) && (t = 90), t >= 180 && (t = 179);
    const a = (t * Math.PI) / 180;
    let r = e / (2 * Math.tan(a / 2));
    (!isFinite(r) || r < 0) && (r = 0);
    let l = r;
    "ft" === s && (l = 0.3048 * r);
    const i = "ft" === s ? 0.3048 * e : e,
        n = [
            { name: "720p HD", horizontal: 1280, vertical: 720 },
            { name: "1080p Full HD", horizontal: 1920, vertical: 1080 },
            { name: "2K QHD", horizontal: 2560, vertical: 1440 },
            { name: "4MP", horizontal: 2688, vertical: 1520 },
            { name: "5MP", horizontal: 2592, vertical: 1944 },
            { name: "4K UHD / 8MP", horizontal: 3840, vertical: 2160 },
            { name: "12MP", horizontal: 4e3, vertical: 3e3 },
        ].map((e) => {
            const t = i > 0 ? Math.round(e.horizontal / i) : 0,
                s = Math.round(0.3048 * t);
            return { ...e, ppm: t, ppf: s };
        });
    return {
        distance: Math.round(100 * r) / 100,
        distanceMeters: Math.round(100 * l) / 100,
        coverageWidth: e,
        coverageWidthMeters: Math.round(100 * i) / 100,
        hfov: t,
        unit: s,
        ppmByResolution: n,
        doriLevels: {
            detection: { ppm: 25, ppf: 8, description: "Detect presence of person/vehicle" },
            observation: { ppm: 62, ppf: 19, description: "See characteristic details (clothing)" },
            recognition: { ppm: 125, ppf: 38, description: "Recognize if person seen before" },
            identification: { ppm: 250, ppf: 76, description: "Positively identify individual" },
        },
        oodpcvsLevels: {
            overview: { ppm: 20, description: "Display moving objects at far distances" },
            outline: { ppm: 50, description: "Determine general outline and movement" },
            discern: { ppm: 100, description: "Discern individuals in a group" },
            perceive: { ppm: 200, description: "Perceive distinguishing features" },
            characterize: { ppm: 400, description: "Characterize specific details" },
            validate: { ppm: 500, description: "Validate known persons / read license plates" },
            scrutinize: { ppm: 1500, description: "Scrutinize with passport-photo detail" },
        },
    };
}
function calculateDSP(e) {
    const {
            micCount: t = 4,
            micLevelDbv: s = -50,
            nominalSystemLevelDbu: a = 4,
            maxInputLevelDbu: r = 24,
            maxOutputLevelDbu: l = 24,
            rt60Seconds: i = 0.6,
            listenerDistanceM: n = 3,
            micToSpeakerDistanceM: o = 2.5,
            targetSplType: d = "presentation",
            roomAbsorptionLossDb: c = 2,
            noiseFloorDba: m = 35,
            roomLengthM: x = 10,
            roomWidthM: u = 8,
            roomHeightM: h = 3,
            talkerToMicM: p = 0.5,
            talkerToFarthestListenerM: g = 8,
            nearestListenerToSpeakerM: b = 2,
            talkerToNearestListenerM: f = 3,
            micPattern: y = "cardioid",
            speakerDirectivityQ: j = 2,
            useAutomixer: _ = !1,
            spl95Percentile: v = null,
            spl5Percentile: N = null,
            dspBlocks: w = ["aec", "eq", "compressor", "matrix", "delay"],
            sampleRate: C = 48e3,
            bitDepth: M = 24,
            danteChannelCount: k = 16,
            networkType: S = "dante",
            inputs: R = { mics: 4, programAudio: 2, usbVoip: 2, playback: 1, wireless: 2, hdmiAudio: 2 },
            outputs: P = { loudspeakers: 4, amplifiers: 2, ucCodec: 1, overflow: 2, recording: 2 },
            adDaLatencyMs: A = 1,
            networkLatencyMs: D = 1,
        } = e,
        I = {},
        E = [],
        F = [],
        B = (e, t, s = 0.1, a = 100) =>
            e < s
                ? (E.push(`${t} (${e}m) is below minimum ${s}m - using ${s}m`), s)
                : e > a
                  ? (E.push(`${t} (${e}m) exceeds maximum ${a}m - using ${a}m`), a)
                  : e,
        T = x * u * h,
        L = 2 * (x * u + x * h + u * h),
        H = (4 * T) / L,
        U = Math.max(1, j),
        q = 0.057 * Math.sqrt((U * T) / Math.max(0.1, i));
    let $, W, V;
    i <= 0.4
        ? (($ = "Excellent"), (W = "Optimal for speech intelligibility and conferencing"))
        : i <= 0.6
          ? (($ = "Good"), (W = "Suitable for conferencing with proper DSP"))
          : i <= 0.8
            ? (($ = "Acceptable"), (W = "Consider acoustic treatment for better AEC performance"))
            : i <= 1.2
              ? (($ = "Challenging"), (W = "Acoustic treatment strongly recommended"))
              : (($ = "Difficult"), (W = "Significant acoustic treatment required before system design")),
        (V = T < 80 ? "huddle" : T < 200 ? "small" : T < 500 ? "medium" : T < 1500 ? "large" : "very-large"),
        (I.room = {
            volumeM3: Math.round(10 * T) / 10,
            surfaceAreaM2: Math.round(10 * L) / 10,
            meanFreePathM: Math.round(100 * H) / 100,
            criticalDistanceM: Math.round(100 * q) / 100,
            speakerDirectivityQ: U,
            rt60Seconds: i,
            roomSizeCategory: V,
            roomAcousticsRating: $,
            roomAcousticsAdvice: W,
            listenerBeyondCriticalDistance: n > q,
            micWithinCriticalDistance: p <= q,
            recommendedRT60: T < 200 ? "0.3-0.5s" : T < 500 ? "0.4-0.6s" : "0.5-0.8s",
        });
    const O = s + 2.2,
        z = r - a,
        G = a - O,
        X = l - a,
        J = "voice" === d ? 10 : 20,
        Q = X >= J;
    Q ||
        E.push(
            `System headroom (${X.toFixed(1)} dB) is below ${"voice" === d ? "speech" : "program audio"} requirement of ${J} dB`
        );
    const K = G > 0 && G < 60 ? "Normal" : G <= 0 ? "Pad Required" : "Excessive Gain Required";
    I.gainStructure = {
        inputHeadroomDb: Math.round(10 * z) / 10,
        requiredInputGainDb: Math.round(10 * G) / 10,
        systemHeadroomDb: Math.round(10 * X) / 10,
        headroomPass: Q,
        headroomTarget: J,
        headroomRating: X >= 20 ? "Excellent" : X >= 15 ? "Good" : X >= 10 ? "Acceptable" : "Insufficient",
        gainStagingStatus: K,
        referenceLevels: { micLevelDbu: Math.round(10 * O) / 10, nominalLevelDbu: a, maxInputDbu: r, maxOutputDbu: l },
    };
    const Y = _ ? 1 : Math.max(1, t),
        Z = 10 * Math.log10(Y),
        ee = {
            omni: { ree: 1, gainBonus: 0, description: "Equal pickup all directions" },
            cardioid: { ree: 0.333, gainBonus: 4.8, description: "Heart-shaped, -6dB at 90°" },
            supercardioid: { ree: 0.268, gainBonus: 5.7, description: "Narrower, -8.6dB at 90°" },
            hypercardioid: { ree: 0.25, gainBonus: 6, description: "Tightest, -12dB at 90°" },
            bidirectional: { ree: 0.333, gainBonus: 4.8, description: "Figure-8 pattern" },
        },
        te = ee[y] || ee.omni,
        se = te.gainBonus;
    I.nom = {
        micCount: t,
        effectiveNom: Y,
        useAutomixer: _,
        nomPenaltyDb: Math.round(10 * Z) / 10,
        automixerBenefit: _ ? Math.round(10 * Math.log10(t) * 10) / 10 : 0,
        micPattern: y,
        micDirectivityBonus: se,
        micDirectivityDescription: te.description,
        recommendation:
            Y > 6
                ? "Automixer essential - NOM penalty exceeds 7.8dB"
                : Y > 4
                  ? "Automixer strongly recommended to reduce NOM penalty"
                  : Y > 2
                    ? "Consider automixer for multi-mic environments"
                    : "NOM acceptable",
    };
    const ae = B(g, "D0 (talker to farthest listener)", 1, 50),
        re = B(o, "D1 (mic to speaker)", 0.3, 20),
        le = B(b, "D2 (speaker to nearest listener)", 0.5, 20),
        ie = B(p, "Ds (talker to mic)", 0.1, 5),
        ne = B(f || 0.4 * ae, "D3 (talker to nearest listener)", 0.5, 30),
        oe = 20 * Math.log10((ae * re) / (le * ie)),
        de = oe - 10 * Math.log10(Y) - 6 + se,
        ce = 20 * Math.log10(ae / ne),
        me = de - ce,
        xe = me >= 0;
    let ue, he;
    me >= 10
        ? ((ue = "Excellent"), (he = "System has comfortable margin - no feedback concerns"))
        : me >= 6
          ? ((ue = "Good"), (he = "Adequate margin for typical operation"))
          : me >= 3
            ? ((ue = "Marginal"), (he = "Limited margin - may ring at high gain settings"))
            : me >= 0
              ? ((ue = "At Risk"), (he = "Very limited margin - feedback likely at normal operating levels"))
              : ((ue = "Will Feedback"),
                (he = "System cannot achieve needed gain without feedback - redesign required")),
        me < 0
            ? F.push(
                  `CRITICAL: PAG (${de.toFixed(1)} dB) < NAG (${ce.toFixed(1)} dB). System will feedback before achieving needed gain. Deficit: ${Math.abs(me).toFixed(1)} dB`
              )
            : me < 6 &&
              E.push(`Low feedback margin (${me.toFixed(1)} dB). Target minimum is 6dB for stable operation.`),
        (I.pagNag = {
            pagDb: Math.round(10 * de) / 10,
            nagDb: Math.round(10 * ce) / 10,
            feedbackMarginDb: Math.round(10 * me) / 10,
            feedbackMarginPass: xe,
            feedbackRiskRating: ue,
            feedbackRiskAdvice: he,
            calculation: {
                pagRaw: Math.round(10 * oe) / 10,
                nomPenalty: Math.round(10 * Math.log10(Y) * 10) / 10,
                fsmApplied: 6,
                directivityBonus: se,
                pagFinal: Math.round(10 * de) / 10,
            },
            distances: {
                d0_talkerToFarthestListener: ae,
                d1_micToSpeaker: re,
                d2_speakerToNearestListener: le,
                ds_talkerToMic: ie,
                d3_talkerToNearestListener: ne,
            },
            improvements:
                me < 6
                    ? [
                          { action: "Halve talker-to-mic distance (Ds)", impact: "+6 dB PAG" },
                          { action: "Double mic-to-speaker distance (D1)", impact: "+6 dB PAG" },
                          { action: "Halve speaker-to-listener distance (D2)", impact: "+6 dB PAG" },
                          { action: "Enable automixer", impact: `+${Math.round(10 * Math.log10(t) * 10) / 10} dB PAG` },
                          { action: "Use supercardioid mics", impact: "+5.7 dB PAG vs omni" },
                      ]
                    : [],
        });
    const pe = "voice" === d ? 70 : 78,
        ge = 20 * Math.log10(Math.max(1, n) / 1),
        be = Math.min(6, Math.max(0, c)),
        fe = pe + ge + be;
    let ye, je, _e, ve, Ne;
    if (
        ((ye =
            fe < 85
                ? "Standard sensitivity (85-90 dB) speakers sufficient"
                : fe < 95
                  ? "High sensitivity (90-95 dB) speakers recommended"
                  : "Professional/PA grade (95+ dB) speakers required"),
        (I.splCalculation = {
            targetSplDb: pe,
            targetSplType: d,
            distanceLossDb: Math.round(10 * ge) / 10,
            roomAbsorptionLossDb: be,
            requiredSpeakerOutputDb: Math.round(10 * fe) / 10,
            listenerDistanceM: n,
            speakerSensitivityRecommendation: ye,
            splAtHalfDistance: Math.round(10 * (fe - ge + 20 * Math.log10(n / 2))) / 10,
            splAtDoubleDistance: Math.round(10 * (fe - ge + 20 * Math.log10(2 * n))) / 10,
        }),
        null !== v && null !== N)
    )
        (je = v - N), (_e = !1);
    else {
        const e = Math.max(x, u) / Math.min(x, u),
            t = e > 2 ? 2 : e > 1.5 ? 1 : 0,
            s = (P.loudspeakers || 1) / (x * u);
        (je = s > 0.1 ? 2 + t : s > 0.03 ? 4 + t : 6 + t), (_e = !0);
    }
    je <= 3
        ? ((ve = "A1 (Excellent)"), (Ne = "Uniform coverage - all listeners receive similar SPL"))
        : je <= 6
          ? ((ve = "A2 (Good)"), (Ne = "Acceptable coverage for most conferencing applications"))
          : je <= 9
            ? ((ve = "A3 (Acceptable)"), (Ne = "Noticeable variation - consider additional speakers"))
            : ((ve = "A4 (Poor)"), (Ne = "Significant coverage issues - system redesign recommended"));
    const we = je <= 6;
    we || E.push(`ACR (${je.toFixed(1)} dB) exceeds AVIXA A2 category maximum of 6 dB`),
        (I.acr = {
            acrDb: Math.round(10 * je) / 10,
            acrCalculated: _e,
            spl95Percentile: v || "estimated",
            spl5Percentile: N || "estimated",
            acrPass: we,
            acrRating: ve,
            acrAdvice: Ne,
            acrCategories: {
                A1: "≤3 dB (Excellent)",
                A2: "≤6 dB (Good)",
                A3: "≤9 dB (Acceptable)",
                A4: ">9 dB (Poor)",
            },
        });
    const Ce = Math.round(1e3 * i * 1.5);
    let Me, ke, Se;
    i <= 0.3
        ? ((Me = 100), (ke = "Excellent"), (Se = "Short RT60 - 100ms tail sufficient, fast convergence expected"))
        : i <= 0.5
          ? ((Me = 150), (ke = "Good"), (Se = "Standard conferencing room - 150ms tail recommended"))
          : i <= 0.7
            ? ((Me = 200), (ke = "Acceptable"), (Se = "Use 200ms tail (QSC recommended maximum for best performance)"))
            : i <= 1
              ? ((Me = 250), (ke = "Challenging"), (Se = "Extended tail needed - acoustic treatment strongly advised"))
              : ((Me = 300),
                (ke = "Difficult"),
                (Se = "Maximum tail length required - room treatment essential for acceptable AEC"));
    const Re = Math.min(400, Math.max(100, Me)),
        Pe = 20 * Math.log10(re / Math.max(0.5, le)),
        Ae = Math.min(6, 6 * Math.log10(U)),
        De = Math.min(4, be),
        Ie = Math.max(0, ((i - 0.4) / 0.3) * 3),
        Ee = Pe + Ae + De - Ie,
        Fe = Math.max(0, Math.min(20, Math.round(10 * Ee) / 10));
    let Be, Te;
    Fe >= 12
        ? ((Be = "Excellent"), (Te = "AEC will perform optimally with good double-talk handling"))
        : Fe >= 8
          ? ((Be = "Good"), (Te = "AEC should perform well in typical conditions"))
          : Fe >= 6
            ? ((Be = "Acceptable"), (Te = "AEC will work but may exhibit artifacts during double-talk"))
            : Fe >= 3
              ? ((Be = "Poor"), (Te = "Echo artifacts likely - increase mic/speaker separation"))
              : ((Be = "Critical"), (Te = "Severe echo expected - redesign mic and speaker placement"));
    const Le = Fe >= 6;
    Le ||
        (Fe < 3
            ? F.push(`Critical: ERL (${Fe} dB) is very low. AEC cannot function properly. Minimum 6dB required.`)
            : E.push(`ERL (${Fe} dB) is marginal. AEC may struggle. Target: ≥10dB for optimal performance.`)),
        (I.aec = {
            aecTailLengthMs: Re,
            aecTailCalculated: Ce,
            aecTailRating: ke,
            aecTailAdvice: Se,
            erlDb: Fe,
            erlPass: Le,
            erlRating: Be,
            erlAdvice: Te,
            erlBreakdown: {
                distanceComponent: Math.round(10 * Pe) / 10,
                directivityBonus: Math.round(10 * Ae) / 10,
                treatmentBonus: Math.round(10 * De) / 10,
                rt60Penalty: Math.round(10 * Ie) / 10,
            },
            thresholds: { excellent: "≥12 dB", good: "≥8 dB", acceptable: "≥6 dB", minimum: "6 dB" },
            micToSpeakerDistanceM: re,
            speakerToListenerDistanceM: le,
            rt60Seconds: i,
        });
    const He = pe,
        Ue = He - m;
    let qe, $e;
    Ue >= 35
        ? ((qe = "Excellent"), ($e = "Premium speech quality with excellent clarity"))
        : Ue >= 25
          ? ((qe = "Good"), ($e = "Good speech intelligibility for conferencing"))
          : Ue >= 15
            ? ((qe = "Acceptable"), ($e = "Basic intelligibility - reduce noise for better quality"))
            : ((qe = "Poor"), ($e = "Speech will be difficult to understand - noise reduction required"));
    const We = Ue >= 25;
    let Ve;
    We ||
        (Ue < 15
            ? F.push(`Critical: SNR (${Ue.toFixed(1)} dB) is too low for intelligible speech. Minimum 15dB required.`)
            : E.push(`SNR (${Ue.toFixed(1)} dB) is below optimal 25 dB target. Consider noise reduction measures.`)),
        (Ve =
            m <= 25
                ? "NC-20 or better"
                : m <= 30
                  ? "NC-25"
                  : m <= 35
                    ? "NC-30"
                    : m <= 40
                      ? "NC-35"
                      : m <= 45
                        ? "NC-40"
                        : "NC-45+");
    const Oe = 1e3 * Math.pow(10, s / 20),
        ze = s < -45 ? 22 : s < -35 ? 18 : 15;
    I.noiseAndSensitivity = {
        snrDb: Math.round(10 * Ue) / 10,
        snrPass: We,
        snrRating: qe,
        snrAdvice: $e,
        noiseFloorDba: m,
        estimatedNcRating: Ve,
        recommendedNcForConferencing: "NC-30 or better (≤35 dBA)",
        micSensitivityDbv: s,
        micSensitivityMvPa: Math.round(100 * Oe) / 100,
        estimatedMicSelfNoise: ze,
        desiredSpeechLevel: He,
        typicalSpeechLevel: "65-70 dB SPL at 1m",
        thresholds: { minimum: 15, target: 25, excellent: 35 },
    };
    const Ge = {
            aec: { base: 5, perChannel: 2, perTailMs: 0.02, description: "Acoustic Echo Cancellation" },
            eq: { perChannel: 1.5, description: "Parametric EQ (8-band)" },
            compressor: { perChannel: 0.8, description: "Dynamics processing" },
            limiter: { perChannel: 0.5, description: "Peak limiting" },
            gate: { perChannel: 0.4, description: "Noise gate" },
            agc: { perChannel: 1.2, description: "Automatic Gain Control" },
            noise_reduction: { perChannel: 2, description: "Adaptive noise reduction" },
            feedback_suppressor: { perChannel: 3, description: "Feedback suppression" },
            delay: { base: 0.3, description: "Delay/alignment" },
            automixer: { perChannel: 1, description: "Automixer/gating" },
            matrix: { perCrosspoint: 0.005, description: "Matrix mixer routing" },
            filter: { perChannel: 0.2, description: "Crossover/HP/LP filters" },
        },
        Xe = Object.values(R).reduce((e, t) => e + t, 0),
        Je = Object.values(P).reduce((e, t) => e + t, 0),
        Qe = Xe * Je;
    let Ke = 0;
    const Ye = {};
    w.forEach((e) => {
        const s = e.toLowerCase().replace(/\s+/g, "_"),
            a = Ge[s];
        if (a) {
            let r = a.base || 0;
            "aec" === s
                ? (r += a.perChannel * t + a.perTailMs * Re)
                : "matrix" === s
                  ? (r = a.perCrosspoint * Qe)
                  : "automixer" === s
                    ? (r = a.perChannel * t)
                    : a.perChannel && (r = a.perChannel * (Xe + Je)),
                (Ye[e] = { mips: Math.round(100 * r) / 100, description: a.description }),
                (Ke += r);
        }
    });
    const Ze = 0.3 * (Xe + Je);
    let et, tt, st;
    (Ye.system_overhead = { mips: Math.round(100 * Ze) / 100, description: "I/O and routing overhead" }),
        (Ke += Ze),
        Ke < 50
            ? ((et = "Light"), (tt = "Entry-level DSP sufficient"), (st = !0))
            : Ke < 150
              ? ((et = "Moderate"), (tt = "Mid-range DSP recommended"), (st = !0))
              : Ke < 400
                ? ((et = "Heavy"),
                  (tt = "Professional-grade DSP required"),
                  (st = !1),
                  E.push(
                      `DSP load is Heavy (${Math.round(Ke)} MIPS) - may cause audio dropouts or increased latency if DSP capacity is exceeded`
                  ))
                : ((et = "Very Heavy"),
                  (tt = "Enterprise DSP or distributed processing needed"),
                  (st = !1),
                  F.push(
                      `CRITICAL: DSP load is Very Heavy (${Math.round(Ke)} MIPS) - high risk of audio dropouts, glitches, and system instability`
                  )),
        (I.dspLoad = {
            totalMips: Math.round(10 * Ke) / 10,
            mipsBreakdown: Ye,
            loadRating: et,
            loadAdvice: tt,
            loadPass: st,
            dspBlocks: w,
            ioSummary: { totalInputs: Xe, totalOutputs: Je, matrixCrosspoints: Qe },
        });
    const at = Qe;
    let rt;
    (rt =
        at <= 64
            ? "Small (up to 8×8)"
            : at <= 256
              ? "Medium (up to 16×16)"
              : at <= 1024
                ? "Large (up to 32×32)"
                : "Enterprise (>32×32)"),
        (I.matrix = {
            totalInputs: Xe,
            totalOutputs: Je,
            matrixSize: at,
            matrixSizeRating: rt,
            inputBreakdown: R,
            outputBreakdown: P,
        });
    const lt = A / 2,
        it = A / 2,
        nt = Math.min(5, 0.8 * w.length),
        ot = {
            dante: { typical: 1, range: "0.15-5ms", description: "Dante (layer 3)" },
            avb: { typical: 2, range: "2ms guaranteed", description: "AVB/TSN (layer 2)" },
            aes67: { typical: 1, range: "1-4ms", description: "AES67 (layer 3)" },
        },
        dt = ot[S] || ot.dante,
        ct = D || dt.typical,
        mt = w.includes("aec") ? 10 : 0,
        xt = lt + nt + ct + mt + it,
        ut = 2 * xt + 50;
    let ht, pt;
    xt < 10
        ? ((ht = "Excellent"), (pt = "Imperceptible for all applications"))
        : xt < 20
          ? ((ht = "Good"), (pt = "Suitable for live reinforcement and conferencing"))
          : xt < 40
            ? ((ht = "Acceptable"), (pt = "Acceptable for conferencing, may notice in reinforcement"))
            : ((ht = "High"), (pt = "May cause echo perception - consider latency reduction"));
    const gt = xt < 20;
    gt || E.push(`Total latency (${xt.toFixed(1)}ms) exceeds 20ms target for live reinforcement`),
        (I.latency = {
            totalLatencyMs: Math.round(10 * xt) / 10,
            conferenceRoundTripMs: Math.round(ut),
            latencyPass: gt,
            latencyRating: ht,
            latencyAdvice: pt,
            breakdown: {
                adConversion: Math.round(10 * lt) / 10,
                dspProcessing: Math.round(10 * nt) / 10,
                networkTransport: Math.round(10 * ct) / 10,
                aecProcessing: mt,
                daConversion: Math.round(10 * it) / 10,
            },
            networkType: S,
            networkSpec: dt.description,
            thresholds: { excellent: "<10ms", good: "<20ms", acceptable: "<40ms", problematic: ">40ms" },
        });
    const bt = Math.pow(10, O / 20),
        ft = Math.pow(10, a / 20),
        yt = 20 * Math.log10(ft / bt),
        jt = 2 * yt;
    I.gain = {
        voltageGainDb: Math.round(10 * yt) / 10,
        powerGainDb: Math.round(10 * jt) / 10,
        inputLevelDbu: Math.round(10 * O) / 10,
        outputLevelDbu: a,
        gainStages: yt > 60 ? "May require multiple gain stages" : "Single preamp stage sufficient",
    };
    const _t = (C * M * k) / 1e6,
        vt = 1.25 * _t,
        Nt = (C * M * 1.25) / 1e3;
    let wt, Ct;
    vt < 10
        ? ((wt = "100 Mbps (Fast Ethernet)"), (Ct = Math.round(((100 - vt) / 100) * 100)))
        : vt < 100
          ? ((wt = "1 Gbps (Gigabit Ethernet)"), (Ct = Math.round(((1e3 - vt) / 1e3) * 100)))
          : ((wt = "10 Gbps Ethernet"), (Ct = Math.round(((1e4 - vt) / 1e4) * 100)));
    const Mt = Math.ceil(k / 4),
        kt = 6 * Mt;
    I.networkAudio = {
        totalBandwidthMbps: Math.round(100 * vt) / 100,
        rawBandwidthMbps: Math.round(100 * _t) / 100,
        perChannelBandwidthKbps: Math.round(10 * Nt) / 10,
        channelCount: k,
        sampleRate: C,
        bitDepth: M,
        networkType: S,
        danteFlows: Mt,
        flowBandwidthMbps: Math.round(10 * kt) / 10,
        recommendedSwitch: wt,
        networkHeadroomPercent: Ct,
        reference: {
            singleChannel48k24bit: "1.44 Mbps raw, ~1.8 Mbps with overhead",
            typicalFlow: "~6 Mbps per 4-channel flow",
            maxDanteChannels: "512×512 per network",
        },
    };
    const St = [
            { name: "Feedback Stability (PAG>NAG)", pass: I.pagNag.feedbackMarginPass, weight: 25, critical: !0 },
            { name: "Echo Control (ERL ≥6dB)", pass: I.aec.erlPass, weight: 20, critical: !0 },
            {
                name: "Speech Intelligibility (SNR ≥25dB)",
                pass: I.noiseAndSensitivity.snrPass,
                weight: 20,
                critical: !1,
            },
            { name: "System Headroom", pass: I.gainStructure.headroomPass, weight: 15, critical: !1 },
            { name: "Coverage Uniformity (ACR ≤6dB)", pass: I.acr.acrPass, weight: 10, critical: !1 },
            { name: "System Latency (<20ms)", pass: I.latency.latencyPass, weight: 10, critical: !1 },
        ],
        Rt = [];
    I.pagNag.feedbackMarginPass &&
        I.pagNag.feedbackMarginDb < 6 &&
        Rt.push({
            name: "Low Feedback Margin",
            deduction: 10,
            reason: `Feedback margin (${I.pagNag.feedbackMarginDb} dB) is below recommended 6dB safety margin`,
        }),
        I.aec.erlPass &&
            I.aec.erlDb < 8 &&
            Rt.push({
                name: "Marginal ERL",
                deduction: 5,
                reason: `ERL (${I.aec.erlDb} dB) is below optimal 10dB for reliable AEC`,
            }),
        i > 0.7 &&
            Rt.push({
                name: "High RT60",
                deduction: i > 1 ? 10 : 5,
                reason: `RT60 (${i}s) exceeds 0.6s recommended for conferencing`,
            }),
        ("Heavy" !== I.dspLoad.loadRating && "Very Heavy" !== I.dspLoad.loadRating) ||
            Rt.push({
                name: "High DSP Load",
                deduction: "Very Heavy" === I.dspLoad.loadRating ? 10 : 5,
                reason: `DSP load is ${I.dspLoad.loadRating} (${I.dspLoad.totalMips} MIPS) - ensure DSP can handle processing`,
            }),
        !_ &&
            t > 6 &&
            Rt.push({
                name: "High NOM Without Automixer",
                deduction: 5,
                reason: `${t} mics without automixer causes ${I.nom.nomPenaltyDb} dB NOM penalty`,
            }),
        I.latency.latencyPass &&
            I.latency.totalLatencyMs > 18 &&
            Rt.push({
                name: "Elevated Latency",
                deduction: 3,
                reason: `Latency (${I.latency.totalLatencyMs}ms) is approaching 20ms limit`,
            }),
        I.noiseAndSensitivity.snrPass &&
            I.noiseAndSensitivity.snrDb < 30 &&
            Rt.push({
                name: "Marginal SNR",
                deduction: 3,
                reason: `SNR (${I.noiseAndSensitivity.snrDb} dB) is passing but below optimal 30dB`,
            });
    const Pt = St.filter((e) => e.pass).length,
        At = St.length,
        Dt = St.reduce((e, t) => e + t.weight, 0),
        It = St.filter((e) => e.pass).reduce((e, t) => e + t.weight, 0),
        Et = Math.round((It / Dt) * 100),
        Ft = Rt.reduce((e, t) => e + t.deduction, 0),
        Bt = Math.max(0, Et - Ft),
        Tt = St.filter((e) => e.critical && !e.pass),
        Lt = Tt.length > 0;
    let Ht, Ut;
    Lt
        ? ((Ht = "Critical Issues"),
          (Ut = `System has critical failures: ${Tt.map((e) => e.name).join(", ")}. These must be addressed before deployment.`))
        : Bt >= 90 && 0 === Rt.length
          ? ((Ht = "Excellent"), (Ut = "System meets all design criteria with good margins - ready for deployment"))
          : Bt >= 80
            ? ((Ht = "Good"), (Ut = "System meets requirements but has some areas for optimization"))
            : Bt >= 65
              ? ((Ht = "Acceptable"), (Ut = "System is functional but review warnings for reliability improvements"))
              : Bt >= 50
                ? ((Ht = "Marginal"),
                  (Ut = "System has significant concerns - improvements recommended before deployment"))
                : ((Ht = "Needs Improvement"),
                  (Ut = "Multiple issues detected - significant design modifications required")),
        Rt.forEach((e) => {
            E.some((t) => t.includes(e.name)) || E.push(`${e.name}: ${e.reason}`);
        }),
        (I.summary = {
            overallScore: Bt,
            baseScore: Et,
            qualityDeductions: Ft,
            overallRating: Ht,
            overallAdvice: Ut,
            checksPass: Pt,
            checksTotal: At,
            hasCriticalFailure: Lt,
            criticalFailures: Tt.map((e) => e.name),
            assessmentDetails: St.map((e) => ({
                criterion: e.name,
                status: e.pass ? "PASS" : "FAIL",
                weight: e.weight,
                critical: e.critical,
            })),
            qualityFactors: Rt.map((e) => ({ factor: e.name, deduction: e.deduction, reason: e.reason })),
        });
    const qt = {},
        $t = {
            ioCount: Xe + Je,
            matrixSize: Qe,
            processingBlocks: w.length,
            aecChannels: w.includes("aec") ? t : 0,
            danteChannels: k,
            needsAutomixer: _ || t > 4,
        };
    let Wt = "entry",
        Vt = [];
    $t.ioCount > 32 || $t.matrixSize > 512 || $t.aecChannels > 16
        ? ((Wt = "enterprise"), Vt.push("High I/O, matrix, or AEC channel count requires enterprise-class DSP"))
        : $t.ioCount > 20 || $t.aecChannels > 8 || $t.matrixSize > 128
          ? ((Wt = "professional"), Vt.push("Medium-high I/O or processing requirements"))
          : $t.ioCount > 10 || $t.aecChannels > 4
            ? ((Wt = "mid-range"), Vt.push("Standard conferencing requirements"))
            : Vt.push("Basic conferencing needs - compact DSP suitable");
    const Ot = [];
    w.includes("aec") && Ot.push(`AEC (≥${Re}ms tail)`),
        (_ || w.includes("automixer")) && Ot.push("Automixer/gating"),
        "dante" === S && Ot.push("Dante connectivity"),
        "avb" === S && Ot.push("AVB connectivity"),
        "aes67" === S && Ot.push("AES67 connectivity"),
        R.usbVoip > 0 && Ot.push("USB audio interface"),
        w.includes("feedback_suppressor") && Ot.push("Feedback suppression"),
        w.includes("noise_reduction") && Ot.push("Noise reduction"),
        (qt.tier = Wt),
        (qt.tierReason = Vt),
        (qt.options = {
            entry: [
                {
                    brand: "Shure",
                    model: "IntelliMix P300",
                    channels: "8 AEC + 10 Dante in",
                    useCase: "Small-medium huddle rooms, fixed architecture, USB/Dante",
                },
                {
                    brand: "QSC",
                    model: "Core Nano",
                    channels: "64×64 network, 8×8 Dante",
                    useCase: "Small rooms, network-only I/O, Q-SYS ecosystem",
                },
                {
                    brand: "QSC",
                    model: "Core 8 Flex",
                    channels: "64×64 network + 8 flex I/O",
                    useCase: "Small rooms with analog + network endpoints",
                },
                {
                    brand: "Biamp",
                    model: "TesiraFORTÉ X 400",
                    channels: "4×4 + USB",
                    useCase: "Small meeting rooms, Teams/Zoom certified",
                },
            ],
            "mid-range": [
                {
                    brand: "Biamp",
                    model: "TesiraFORTÉ X 800",
                    channels: "8×8 + USB + Dante",
                    useCase: "Medium conference rooms, Teams certified",
                },
                {
                    brand: "Biamp",
                    model: "TesiraFORTÉ X 1600",
                    channels: "16×8 + USB + Dante",
                    useCase: "Larger meeting rooms with multiple mics",
                },
                {
                    brand: "QSC",
                    model: "Core 24f",
                    channels: "160×160 network + 24 I/O",
                    useCase: "Medium-large rooms, current flagship mid-range",
                },
                {
                    brand: "QSC",
                    model: "NV-32-H (Core Capable)",
                    channels: "64×32 + HDMI switching",
                    useCase: "Rooms needing local HDMI + audio processing",
                },
            ],
            professional: [
                {
                    brand: "Biamp",
                    model: "Tesira SERVER-IO",
                    channels: "Up to 3× DSP-2 cards + AVB/Dante",
                    useCase: "Large conference, divisible rooms, expandable",
                },
                {
                    brand: "Biamp",
                    model: "TesiraFORTÉ AVB VT4",
                    channels: "4×4 + AVB + VoIP",
                    useCase: "Conference rooms with AVB and telephony",
                },
                {
                    brand: "QSC",
                    model: "Server Core X10",
                    channels: "256×256 network, 64ch AEC",
                    useCase: "Large distributed systems, enterprise COTS server",
                },
            ],
            enterprise: [
                {
                    brand: "Biamp",
                    model: "Tesira SERVER",
                    channels: "Up to 8× DSP-2 cards",
                    useCase: "Campus-wide, large venues, max scalability",
                },
                {
                    brand: "QSC",
                    model: "Core 5200",
                    channels: "512×512 network, 160ch AEC",
                    useCase: "Enterprise scale, heavy processing",
                },
                {
                    brand: "QSC",
                    model: "Server Core X20r",
                    channels: "384×384 + redundancy",
                    useCase: "Mission-critical, dual power, 128ch AEC",
                },
            ],
        }[Wt]),
        (qt.featuresNeeded = Ot),
        (qt.roomSizeCategory = I.room.roomSizeCategory),
        (qt.complexityFactors = $t);
    const zt = [];
    return (
        I.pagNag.feedbackMarginPass ||
            zt.push({
                priority: "critical",
                category: "Feedback",
                issue: `System will feedback before achieving needed gain (deficit: ${Math.abs(I.pagNag.feedbackMarginDb).toFixed(1)} dB)`,
                actions: [
                    `Halve talker-to-mic distance (Ds: ${ie}m → ${(ie / 2).toFixed(2)}m) = +6 dB`,
                    `Double mic-to-speaker distance (D1: ${re}m → ${(2 * re).toFixed(1)}m) = +6 dB`,
                    "Use supercardioid microphones = +5.7 dB vs omni",
                    `Enable automixer = +${Math.round(10 * Math.log10(t) * 10) / 10} dB`,
                    "Consider distributed ceiling speakers to reduce D2",
                ],
            }),
        I.aec.erlDb < 3 &&
            zt.push({
                priority: "critical",
                category: "Echo",
                issue: `Very low ERL (${I.aec.erlDb} dB) - AEC cannot function properly`,
                actions: [
                    "Increase physical distance between microphones and speakers",
                    `Reduce RT60 from ${i}s to <0.5s with acoustic treatment`,
                    "Use directional ceiling speakers aimed away from microphones",
                    "Consider beamforming microphone arrays (Shure MXA, Sennheiser TeamConnect)",
                ],
            }),
        I.gainStructure.headroomPass ||
            zt.push({
                priority: "high",
                category: "Gain Structure",
                issue: `Insufficient headroom (${I.gainStructure.systemHeadroomDb} dB < ${I.gainStructure.headroomTarget} dB target)`,
                actions: [
                    "Reduce nominal operating level",
                    "Select equipment with higher maximum output capability",
                    "Review gain staging throughout signal chain",
                ],
            }),
        I.noiseAndSensitivity.snrPass ||
            zt.push({
                priority: "high",
                category: "Signal Quality",
                issue: `SNR below target (${I.noiseAndSensitivity.snrDb} dB < 25 dB)`,
                actions: [
                    `Reduce ambient noise (current: ${m} dBA, target: NC-30 or ≤35 dBA)`,
                    "Address HVAC noise with duct silencers or diffusers",
                    "Use higher sensitivity microphones",
                    "Position microphones closer to talkers",
                ],
            }),
        !I.aec.erlPass &&
            I.aec.erlDb >= 3 &&
            zt.push({
                priority: "high",
                category: "Echo",
                issue: `ERL below minimum (${I.aec.erlDb} dB < 6 dB)`,
                actions: [
                    "Increase mic-to-speaker separation",
                    `Reduce RT60 with acoustic panels (current: ${i}s)`,
                    "Use ceiling speakers with controlled directivity",
                    `Configure AEC tail length to ${Re}ms`,
                ],
            }),
        I.acr.acrPass ||
            zt.push({
                priority: "medium",
                category: "Coverage",
                issue: `Uneven coverage (ACR ${I.acr.acrDb} dB exceeds 6 dB limit)`,
                actions: [
                    "Add additional speakers for better distribution",
                    "Adjust speaker aiming and coverage patterns",
                    "Consider line array or distributed ceiling system",
                    "Use DSP delay alignment for distributed speakers",
                ],
            }),
        I.latency.latencyPass ||
            zt.push({
                priority: "medium",
                category: "Latency",
                issue: `Total latency (${I.latency.totalLatencyMs}ms) exceeds 20ms target`,
                actions: [
                    "Reduce DSP processing chain complexity",
                    "Configure Dante for lower latency (0.25ms or 0.5ms)",
                    "Minimize A/D and D/A conversion stages",
                    "Use dedicated audio network (separate from data traffic)",
                ],
            }),
        I.pagNag.feedbackMarginDb >= 0 &&
            I.pagNag.feedbackMarginDb < 6 &&
            zt.push({
                priority: "medium",
                category: "Feedback Margin",
                issue: `Low feedback margin (${I.pagNag.feedbackMarginDb} dB) - system may ring at high levels`,
                actions: [
                    "Apply PAG improvement recommendations",
                    "Add parametric feedback suppression to DSP",
                    "Implement proper automixer gating thresholds",
                    "Consider notch filtering for problematic frequencies",
                ],
            }),
        t > 4 &&
            !_ &&
            zt.push({
                priority: "recommendation",
                category: "Best Practice",
                issue: `Multiple open mics (${t}) without automixer`,
                actions: [
                    `Enable automixer to recover ${I.nom.nomPenaltyDb} dB of feedback margin`,
                    "Configure proper gating thresholds for room noise floor",
                    "Consider last-mic-on or chairman override for priority speakers",
                ],
            }),
        i > 0.6 &&
            zt.push({
                priority: "recommendation",
                category: "Room Acoustics",
                issue: `RT60 (${i}s) exceeds 0.6s recommended for conferencing`,
                actions: [
                    "Install acoustic absorption panels on walls",
                    "Add ceiling clouds or baffles",
                    "Consider carpet or acoustic flooring",
                    "Target RT60 of 0.4-0.5s per industry standards",
                ],
            }),
        "Very Heavy" === I.dspLoad.loadRating
            ? zt.push({
                  priority: "critical",
                  category: "DSP Processing",
                  issue: `DSP load is Very Heavy (${I.dspLoad.totalMips} MIPS) - system instability likely`,
                  actions: [
                      "Upgrade to enterprise-class DSP (QSC Core 5200, Biamp Tesira SERVER, QSC Server Core X20r)",
                      "Distribute processing across multiple DSP units",
                      "Reduce processing blocks - prioritize essential functions (AEC, automixer)",
                      "Remove per-channel processing from unused channels",
                      "Consider dedicated DSP for AEC if using many microphones",
                      "Keep total DSP utilization under 70% for headroom and stability",
                  ],
              })
            : "Heavy" === I.dspLoad.loadRating &&
              zt.push({
                  priority: "high",
                  category: "DSP Processing",
                  issue: `DSP load is Heavy (${I.dspLoad.totalMips} MIPS) - ensure adequate DSP capacity`,
                  actions: [
                      "Select professional-grade DSP (Biamp Tesira SERVER-IO, QSC Server Core X10, QSC Core 24f)",
                      "Keep DSP utilization under 70% to avoid dropouts during peak processing",
                      "Review processing chain - disable unused blocks",
                      "Consider reducing EQ bands or compression stages if not essential",
                      "Monitor DSP CPU usage after deployment",
                      "Plan for future expansion - select DSP with 30% capacity buffer",
                  ],
              }),
        (I.dspRecommendation = qt),
        (I.actionItems = zt),
        (I.warnings = E),
        (I.errors = F),
        I
    );
}
function AVToolsWebsite() {
    const [e, t] = useState("home"),
        [s, a] = useState(null),
        [r, l] = useState("all"),
        [theme, setTheme] = useState(() => {
            if (typeof window !== 'undefined') {
                const stored = localStorage.getItem('avtools-theme');
                if (stored) return stored;
                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            }
            return 'light';
        }),
        toggleTheme = () => {
            const newTheme = theme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
            if (typeof window !== 'undefined') {
                localStorage.setItem('avtools-theme', newTheme);
                if (newTheme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }
        },
        i = {
            bandwidth: "bandwidth-calculator",
            projector: "projector-calculator",
            brightness: "brightness-calculator",
            "viewing-angle": "viewing-angle-calculator",
            dvled: "dvled-calculator",
            videowall: "videowall-controller",
            "videowall-builder": "videowall-builder",
            "display-size": "display-size-calculator",
            camera: "camera-calculator",
            audio: "audio-calculator",
            speaker: "speaker-calculator",
            dsp: "dsp-calculator",
            conduit: "conduit-calculator",
            poe: "poe-calculator",
            cooling: "cooling-calculator",
            "rack-builder": "rack-builder",
        },
        o = () => {
            window.location.href = "/";
        };
    useEffect(() => {
        "scrollRestoration" in history && (history.scrollRestoration = "manual"), window.scrollTo(0, 0);
        const toolParam = new URLSearchParams(window.location.search).get("tool");
        console.log('[AVToolsWebsite] Loading, toolParam:', toolParam);
        if (toolParam && i[toolParam]) {
            console.log('[AVToolsWebsite] Showing tool:', toolParam);
            t("tool");
            a(toolParam);
        } else {
            console.log('[AVToolsWebsite] Showing home');
            t("home");
            a(null);
        }
    }, []),
        useEffect(() => {
            const t = "AV Tools - Professional AV/IT Calculators | AVIXA & IEC Compliant";
            if (s && "tool" === e) {
                let e = "";
                Object.values(d).forEach((t) => {
                    const a = t.tools.find((e) => e.id === s);
                    a && (e = a.name);
                }),
                    e && (document.title = t + " - " + e);
            } else document.title = t;
        }, [s, e]),
        useEffect(() => {
            if (typeof window !== 'undefined') {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }
        }, [theme]);
    const d = {
            video: {
                name: "Video",
                icon: "🎬",
                color: "blue",
                tools: [
                    {
                        id: "bandwidth",
                        name: "AVoIP Bandwidth Calculator",
                        icon: "icons/AVoIP_Bandwidth.svg",
                        desc: "Calculate bandwidth for AV over IP systems",
                    },
                    {
                        id: "projector",
                        name: "Projector Brightness & Throw",
                        icon: "icons/Projector_Throw___brightness.svg",
                        desc: "Calculate projector brightness and throw distance",
                    },
                    {
                        id: "brightness",
                        name: "Display Brightness Calculator",
                        icon: "icons/Display_Brightness.svg",
                        desc: "Calculate required display brightness",
                    },
                    {
                        id: "viewing-angle",
                        name: "Display Viewing Angle",
                        icon: "icons/Display_viewing_angle.svg",
                        desc: "Calculate optimal viewing angles (AVIXA)",
                    },
                    {
                        id: "dvled",
                        name: "DvLED Pixel Pitch Calculator",
                        icon: "icons/DvLED_Pixel_Pitch.svg",
                        desc: "Determine optimal LED pixel pitch",
                    },
                    {
                        id: "videowall",
                        name: "Video Wall Controller",
                        icon: "icons/Video_Wall_Controller.svg",
                        desc: "Calculate video wall configurations",
                    },
                    {
                        id: "videowall-builder",
                        name: "Video Wall Builder",
                        icon: "icons/Videowall-builder.svg",
                        desc: "Design video walls with display configuration and sizing",
                    },
                    {
                        id: "display-size",
                        name: "Display Size Calculator",
                        icon: "icons/Display_Size.svg",
                        desc: "Calculate optimal display size (BDM/ADM)",
                    },
                    {
                        id: "camera",
                        name: "Camera Distance Calculator",
                        icon: "icons/Camera_Distance.svg",
                        desc: "Calculate camera placement with DORI standards (IEC 62676-4)",
                    },
                ],
            },
            audio: {
                name: "Audio",
                icon: "🔊",
                color: "green",
                tools: [
                    {
                        id: "audio",
                        name: "Audio Calculator",
                        icon: "icons/Audio_Data_rate_Bandwidth.svg",
                        desc: "Data rate, Dante/AES67 bandwidth, and wavelength calculations",
                    },
                    {
                        id: "speaker",
                        name: "Speaker Design Calculator",
                        icon: "icons/Speaker_Design.svg",
                        desc: "EPR, amplifier sizing, and ceiling layout (AVIXA)",
                        advanced: !0,
                    },
                    {
                        id: "dsp",
                        name: "DSP System Calculator",
                        icon: "icons/DSP_Calculator.svg",
                        desc: "Professional DSP design: gain, AEC, latency, matrix (AVIXA/IEC)",
                        advanced: !0,
                    },
                ],
            },
            it: {
                name: "IT Infrastructure",
                icon: "🖧",
                color: "purple",
                tools: [
                    {
                        id: "conduit",
                        name: "Cable Conduit Capacity",
                        icon: "icons/Cable_Conduit_Capacity.svg",
                        desc: "Calculate required conduit size for cable runs",
                    },
                    {
                        id: "poe",
                        name: "POE Budget Calculator",
                        icon: "icons/POE_Calculator.svg",
                        desc: "Plan power over ethernet requirements",
                    },
                    {
                        id: "cooling",
                        name: "Rack Cooling Calculator",
                        icon: "icons/Rack_cooling.svg",
                        desc: "Calculate cooling requirements for equipment rooms",
                    },
                    {
                        id: "rack-builder",
                        name: "Rack Builder",
                        icon: "icons/Rack-builder.svg",
                        desc: "Design equipment racks with AVIXA best practices",
                    },
                ],
            },
        },
        c = () => Object.values(d).flatMap((e) => e.tools),
        m = (e) => {
            const t = {
                blue: {
                    bg: "bg-blue-50 dark:bg-blue-900/20",
                    border: "border-blue-200 dark:border-blue-800",
                    text: "text-blue-700",
                    hover: "hover:bg-blue-100",
                },
                green: {
                    bg: "bg-green-50 dark:bg-green-900/20",
                    border: "border-green-200 dark:border-green-800",
                    text: "text-green-700",
                    hover: "hover:bg-green-100",
                },
                purple: {
                    bg: "bg-purple-50 dark:bg-purple-900/20",
                    border: "border-purple-200 dark:border-purple-800",
                    text: "text-purple-700",
                    hover: "hover:bg-purple-100",
                },
            };
            return t[e] || t.blue;
        },
        x = () => {
            const e = "all" === r ? c() : d[r]?.tools || [];
            return _jsxs("div", {
                className: "max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",
                children: [
                    _jsxs("div", {
                        className: "text-center mb-8 sm:mb-12",
                        children: [
                            _jsx("h1", {
                                className:
                                    "text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent leading-tight",
                                children: "Professional AV/IT Calculation Tools",
                            }),
                            _jsx("p", {
                                className: "text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 dark:text-gray-400 max-w-3xl mx-auto px-2",
                                children:
                                    "Complete suite of precision calculators for audiovisual and IT professionals. Built on AVIXA standards.",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "flex flex-wrap justify-center gap-2 sm:gap-3 mb-8 sm:mb-10 px-2",
                        children: [
                            _jsxs("button", {
                                onClick: () => l("all"),
                                className:
                                    "px-3 sm:px-5 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-medium transition-all cursor-pointer " +
                                    ("all" === r
                                        ? "bg-gray-900 dark:bg-gray-700 text-white shadow-lg dark:shadow-gray-950/30"
                                        : "bg-white dark:bg-gray-800 dark:bg-gray-800 text-gray-700 dark:text-gray-300 dark:text-gray-300 border border-gray-300 dark:border-gray-600 dark:border-gray-600 hover:bg-gray-50 dark:bg-gray-900/50 dark:hover:bg-gray-700"),
                                children: ["All Tools (", c().length, ")"],
                            }),
                            Object.entries(d).map(([e, t]) => {
                                const s = m(t.color);
                                return _jsxs(
                                    "button",
                                    {
                                        onClick: () => l(e),
                                        className:
                                            "px-3 sm:px-5 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-medium transition-all cursor-pointer flex items-center gap-1 sm:gap-2 " +
                                            (r === e
                                                ? `${s.bg} ${s.text} ${s.border} border-2 shadow-md dark:shadow-gray-950/20`
                                                : "bg-white dark:bg-gray-800 dark:bg-gray-800 text-gray-700 dark:text-gray-300 dark:text-gray-300 border border-gray-300 dark:border-gray-600 dark:border-gray-600 hover:bg-gray-50 dark:bg-gray-900/50 dark:hover:bg-gray-700"),
                                        children: [
                                            _jsx("span", { children: t.icon }),
                                            _jsx("span", { className: "hidden md:inline", children: t.name }),
                                            " (",
                                            t.tools.length,
                                            ")",
                                        ],
                                    },
                                    e
                                );
                            }),
                        ],
                    }),
                    "all" !== r &&
                        _jsx("div", {
                            className: `text-center mb-6 sm:mb-8 p-3 sm:p-4 rounded-xl ${m(d[r].color).bg}`,
                            children: _jsxs("h2", {
                                className: `text-xl sm:text-2xl font-semibold ${m(d[r].color).text}`,
                                children: [d[r].icon, " ", d[r].name, " Tools"],
                            }),
                        }),
                    _jsx("div", {
                        className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",
                        children: e.map((e) => {
                            const s = Object.entries(d).find(([t, s]) => s.tools.some((t) => t.id === e.id)),
                                r = m(s ? s[1].color : "blue"),
                                l = s ? s[1].name : "";
                            return _jsxs(
                                "a",
                                {
                                     href: "?tool=" + e.id,
                                    className:
                                        "bg-white dark:bg-gray-800 dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 dark:shadow-gray-900/20 p-4 sm:p-6 border border-gray-200 dark:border-gray-700 dark:border-gray-700 hover:shadow-xl hover:border-blue-300 dark:hover:border-blue-600 hover:-translate-y-1 transition-all text-left group relative overflow-visible flex flex-col cursor-pointer no-underline",
                                    children: [
                                        e.advanced &&
                                            _jsx("span", {
                                                className:
                                                    "absolute -top-2 -right-2 text-xs px-2 sm:px-3 py-1 rounded-full bg-red-600 text-white font-bold shadow-lg dark:shadow-gray-950/30 z-10",
                                                children: "Advanced",
                                            }),
                                        _jsx("div", {
                                            className: "flex justify-end mb-2 sm:mb-3",
                                            children: _jsx("span", {
                                                className: `text-xs px-2 py-1 rounded-full ${r.bg} ${r.text}`,
                                                children: l,
                                            }),
                                        }),
                                        _jsx("div", {
                                            className: "flex justify-center items-center mb-3 sm:mb-4",
                                            children: _jsx("img", {
                                                src: e.icon,
                                                alt: e.name,
                                                className: "w-12 h-12 sm:w-16 sm:h-16 object-contain",
                                            }),
                                        }),
                                        _jsx("h3", {
                                            className:
                                                "text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 dark:text-gray-100 mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors text-center",
                                            children: e.name,
                                        }),
                                        _jsx("p", {
                                            className: "text-xs sm:text-sm text-gray-600 dark:text-gray-400 dark:text-gray-400 text-center flex-grow",
                                            children: e.desc,
                                        }),
                                    ],
                                },
                                e.id
                            );
                        }),
                    }),
                    _jsxs("div", {
                        className: "mt-10 sm:mt-16 grid grid-cols-3 gap-2 sm:gap-6 max-w-2xl mx-auto",
                        children: [
                            _jsxs("div", {
                                className: "text-center p-3 sm:p-6 bg-white dark:bg-gray-800 dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-950/10 border dark:border-gray-700",
                                children: [
                                    _jsx("div", {
                                        className: "text-2xl sm:text-3xl font-bold text-blue-600",
                                        children: c().length,
                                    }),
                                    _jsx("div", {
                                        className: "text-xs sm:text-sm text-gray-600 dark:text-gray-400 dark:text-gray-400",
                                        children: "Calculators",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "text-center p-3 sm:p-6 bg-white dark:bg-gray-800 dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-950/10 border dark:border-gray-700",
                                children: [
                                    _jsx("div", {
                                        className: "text-2xl sm:text-3xl font-bold text-green-600",
                                        children: "3",
                                    }),
                                    _jsx("div", {
                                        className: "text-xs sm:text-sm text-gray-600 dark:text-gray-400 dark:text-gray-400",
                                        children: "Categories",
                                    }),
                                ],
                            }),
                            _jsxs("a", {
                                href: "https://www.avixa.org/standards",
                                target: "_blank",
                                rel: "noopener noreferrer",
                                className:
                                    "text-center p-3 sm:p-6 bg-white dark:bg-gray-800 dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-950/10 border dark:border-gray-700 hover:shadow-md dark:shadow-gray-950/20 hover:border-purple-300 transition-all cursor-pointer block",
                                children: [
                                    _jsx("div", {
                                        className: "text-2xl sm:text-3xl font-bold text-purple-600",
                                        children: "AVIXA",
                                    }),
                                    _jsx("div", {
                                        className: "text-xs sm:text-sm text-gray-600 dark:text-gray-400 dark:text-gray-400",
                                        children: "Standards",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "mt-10 sm:mt-16 text-center px-2",
                        children: _jsxs("div", {
                            className:
                                "bg-gradient-to-r from-blue-50 via-purple-50 to-blue-50 dark:from-blue-900/20 dark:via-purple-900/20 dark:to-blue-900/20 rounded-xl sm:rounded-2xl p-5 sm:p-8 border border-blue-100 dark:border-blue-800 max-w-3xl mx-auto",
                            children: [
                                _jsx("div", { className: "text-4xl sm:text-5xl mb-3 sm:mb-4", children: "🚀" }),
                                _jsx("h2", {
                                    className: "text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100 dark:text-gray-100 mb-2 sm:mb-3",
                                    children: "More Tools Coming Soon",
                                }),
                                _jsx("p", {
                                    className: "text-sm sm:text-base text-gray-600 dark:text-gray-400 dark:text-gray-400 max-w-xl mx-auto",
                                    children:
                                        "We're continuously expanding our toolkit with new professional calculators. Stay tuned for additional AVIXA-compliant tools to help streamline your AV/IT projects.",
                                }),
                            ],
                        }),
                    }),
                    _jsx("div", {
                        className: "mt-10 sm:mt-16 px-2",
                        children: _jsx("div", {
                            className: "bg-amber-50 dark:bg-amber-900/20 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 dark:border-amber-800 rounded-xl p-4 sm:p-6 max-w-4xl mx-auto",
                            children: _jsxs("div", {
                                className: "flex items-start gap-3",
                                children: [
                                    _jsx("span", { className: "text-xl sm:text-2xl", children: "⚠️" }),
                                    _jsxs("div", {
                                        children: [
                                            _jsx("h3", {
                                                className: "font-semibold text-amber-800 dark:text-amber-200 dark:text-amber-400 text-sm sm:text-base mb-1",
                                                children: "Important Disclaimer",
                                            }),
                                            _jsx("p", {
                                                className: "text-xs sm:text-sm text-amber-700 dark:text-amber-300 leading-relaxed",
                                                children:
                                                    "These calculators are based on best practices and formulas provided by AVIXA and industry standards leaders. For any project design, please verify all results and final decisions with qualified Consultants, Senior Design Teams, and/or Manufacturers.",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        }),
                    }),
                ],
            });
        };
    return _jsxs("div", {
        className: "min-h-screen bg-gray-50 dark:bg-gray-900/50 dark:bg-gray-950 flex flex-col transition-colors",
        children: [
            _jsx("style", {
                children:
                    '\n        button { cursor: pointer !important; }\n        [role="button"] { cursor: pointer !important; }\n        a { cursor: pointer !important; }\n        select { cursor: pointer !important; }\n        input[type="range"] { cursor: pointer !important; }\n        input[type="checkbox"] { cursor: pointer !important; }\n        input[type="radio"] { cursor: pointer !important; }\n        label { cursor: pointer !important; }\n        .cursor-pointer { cursor: pointer !important; }\n        input[type="number"] { cursor: text !important; }\n        input[type="text"] { cursor: text !important; }\n        textarea { cursor: text !important; }\n        \n        /* Prevent layout shifts and scroll jumping */\n        * { overflow-anchor: none; }\n        html { overflow-anchor: none; scroll-behavior: auto; }\n        \n        /* Stable containers for dynamic content */\n        .calculator-container { \n          min-height: 100vh;\n        }\n        \n        /* Floating toolbar styles */\n        .floating-toolbar-portal {\n          position: fixed !important;\n          bottom: 24px !important;\n          left: 50% !important;\n          transform: translateX(-50%) !important;\n          z-index: 99999 !important;\n          pointer-events: auto !important;\n        }\n        \n        /* Error message progress bar animation */\n        @keyframes shrink {\n          from { width: 100%; }\n          to { width: 0%; }\n        }\n        \n        /* Reset confirmation modal animation */\n        @keyframes modalFadeIn {\n          from {\n            opacity: 0;\n            transform: scale(0.95) translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n        \n        /* Marquee animation for long rack names */\n        @keyframes marquee {\n          0%, 10% { transform: translateX(0); }\n          90%, 100% { transform: translateX(calc(-100% + 100px)); }\n        }\n        \n        .rack-name-marquee {\n          display: inline-block;\n          white-space: nowrap;\n          animation: marquee 5s ease-in-out infinite;\n          animation-play-state: paused;\n        }\n        \n        .rack-name-container:hover .rack-name-marquee {\n          animation-play-state: running;\n        }\n      ',
            }),
            _jsx(
                () =>
                    _jsx("header", {
className: "bg-white dark:bg-gray-800 dark:bg-gray-900 shadow-sm dark:shadow-gray-950/10 border-b dark:border-gray-800 sticky top-0 z-50 transition-colors",
                        children: _jsx("nav", {
                            className: "max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",
                            children: _jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [
                                    _jsx("button", {
                                        onClick: () => o(),
                                        className:
                                            "flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity cursor-pointer",
                                        children: _jsx("img", {
                                            src: "AV_TOOLS_LOGO.svg",
                                            alt: "AV Tools Logo",
                                            className: "h-8 sm:h-10 w-auto",
                                        }),
                                    }),
                                    _jsxs("div", {
                                        className: "flex gap-4 sm:gap-6 items-center",
                                        children: [
                                            _jsx("button", {
                                                onClick: () => toggleTheme(),
                                                className: "p-2 rounded-lg bg-gray-100 dark:bg-gray-700 dark:bg-gray-800 text-gray-600 dark:text-gray-400 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-700 transition-colors cursor-pointer",
                                                title: theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode',
                                                children: theme === 'light'
                                                    ? _jsx("svg", {
                                                          className: "w-5 h-5",
                                                          fill: "none",
                                                          stroke: "currentColor",
                                                          viewBox: "0 0 24 24",
                                                          children: _jsx("path", {
                                                              strokeLinecap: "round",
                                                              strokeLinejoin: "round",
                                                              strokeWidth: 2,
                                                              d: "M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z",
                                                          }),
                                                      })
                                                    : _jsx("svg", {
                                                          className: "w-5 h-5",
                                                          fill: "none",
                                                          stroke: "currentColor",
                                                          viewBox: "0 0 24 24",
                                                          children: _jsx("path", {
                                                              strokeLinecap: "round",
                                                              strokeLinejoin: "round",
                                                              strokeWidth: 2,
                                                              d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z",
                                                          }),
                                                      }),
                                            }),
                                            "tool" === e &&
                                                _jsxs("button", {
                                                    onClick: () => o(),
                                                    className:
                                                        "text-sm sm:text-base font-medium text-gray-600 dark:text-gray-400 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center gap-1 sm:gap-2 cursor-pointer",
                                                    children: [
                                                        _jsx("span", { children: "←" }),
                                                        " ",
                                                        _jsx("span", {
                                                            className: "hidden sm:inline",
                                                            children: "Back to",
                                                        }),
                                                        " Tools",
                                                    ],
                                                }),
                                        ],
                                    }),
                                ],
                            }),
                        }),
                    }),
                {}
            ),
            _jsxs("main", {
                className: "flex-grow calculator-container",
                children: [
                    "home" === e && _jsx(x, {}),
                    "tool" === e &&
                        _jsx(
                            () =>
                                ({
                                    bandwidth: _jsx(BandwidthCalculator, {}),
                                    conduit: _jsx(ConduitCalculator, {}),
                                    audio: _jsx(AudioCalculator, {}),
                                    projector: _jsx(ProjectorCalculator, {}),
                                    poe: _jsx(POECalculator, {}),
                                    brightness: _jsx(BrightnessCalculator, {}),
                                    "viewing-angle": _jsx(ViewingAngleCalculator, {}),
                                    dvled: _jsx(DvLEDCalculator, {}),
                                    videowall: _jsx(VideoWallCalculator, {}),
                                    "videowall-builder": _jsx(VideoWallBuilderCalculator, {}),
                                    cooling: _jsx(CoolingCalculator, {}),
                                    speaker: _jsx(SpeakerCalculator, {}),
                                    "display-size": _jsx(DisplaySizeCalculator, {}),
                                    camera: _jsx(CameraCalculator, {}),
                                    dsp: _jsx(DSPCalculator, {}),
                                    "rack-builder": _jsx(RackBuilderCalculator, {}),
                                })[s] ||
                                _jsxs("div", {
                                    className: "max-w-2xl mx-auto px-6 py-16 text-center",
                                    children: [
                                        _jsx("div", { className: "text-6xl mb-4", children: "🔍" }),
                                        _jsx("h2", {
                                            className: "text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",
                                            children: "Tool Not Found",
                                        }),
                                        _jsx("p", {
                                            className: "text-gray-600 dark:text-gray-400 mb-6",
                                            children: "The requested calculator could not be found.",
                                        }),
                                        _jsx("button", {
                                            onClick: () => o(),
                                            className:
                                                "px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",
                                            children: "Back to All Tools",
                                        }),
                                    ],
                                }),
                            {}
                        ),
                    "tools" === e && _jsx(x, {}),
                ],
            }),
            _jsx(
                () =>
                    _jsx("footer", {
                        className: "bg-gradient-to-r from-blue-600 to-blue-800 dark:from-blue-800 dark:to-blue-950 mt-10 sm:mt-16",
                        children: _jsx("div", {
                            className: "max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
                            children: _jsxs("div", {
                                className: "flex flex-col items-center gap-4 sm:gap-6 md:flex-row md:justify-between",
                                children: [
                                    _jsx("div", {
                                        className: "flex items-center gap-3",
                                        children: _jsx("img", {
                                            src: "AV_TOOLS_LOGO.svg",
                                            alt: "AV Tools Logo",
                                            className: "h-6 sm:h-8 w-auto brightness-0 invert",
                                        }),
                                    }),
                                    _jsxs("div", {
                                        className:
                                            "flex flex-wrap justify-center gap-2 sm:gap-4 text-xs sm:text-sm text-blue-200 dark:text-blue-300",
                                        children: [
                                            _jsx("span", { children: "Video" }),
                                            _jsx("span", { children: "•" }),
                                            _jsx("span", { children: "Audio" }),
                                            _jsx("span", { children: "•" }),
                                            _jsx("span", { children: "IT Infrastructure" }),
                                            _jsx("span", { children: "•" }),
                                            _jsx("a", {
                                                href: "/privacy-policy.html",
                                                className: "underline hover:text-white transition-colors",
                                                children: "Privacy Policy",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "text-center text-blue-100 dark:text-blue-200 text-xs sm:text-sm",
                                        children: [
                                            _jsx("p", { children: "AV Tools. All Rights Reserved." }),
                                            _jsx("a", {
                                                href: "mailto:contact@avtoolspro.com",
                                                className: "underline hover:text-white",
                                                children: "contact@avtoolspro.com",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        }),
                    }),
                {}
            ),
        ],
    });
}
function BandwidthCalculator() {
    const e = [
            { value: 23.976, label: "23.976 fps", region: "ATSC Film (Americas)", standard: "ATSC" },
            { value: 24, label: "24 fps", region: "Cinema (Worldwide)", standard: "Film" },
            { value: 25, label: "25 fps", region: "DVB/DTMB (Europe/China)", standard: "DVB" },
            { value: 29.97, label: "29.97 fps", region: "ATSC/ISDB (Americas/Japan)", standard: "ATSC" },
            { value: 30, label: "30 fps", region: "Digital/Web (Worldwide)", standard: "Digital" },
            { value: 50, label: "50 fps", region: "DVB/DTMB HFR (Europe/China)", standard: "DVB" },
            { value: 59.94, label: "59.94 fps", region: "ATSC/ISDB HFR (Americas/Japan)", standard: "ATSC" },
            { value: 60, label: "60 fps", region: "DTMB 4K / Digital HFR", standard: "Digital" },
            { value: 100, label: "100 fps", region: "DVB Premium (Europe)", standard: "DVB" },
            { value: 119.88, label: "119.88 fps", region: "ISDB 8K (Japan)", standard: "ISDB" },
            { value: 120, label: "120 fps", region: "High Frame Rate", standard: "HFR" },
        ],
        t = [
            {
                value: "4:4:4",
                label: "4:4:4 (RGB/Full Color)",
                multiplier: 3,
                description: "No subsampling - full color resolution",
                reduction: "0%",
            },
            {
                value: "4:2:2",
                label: "4:2:2 (Professional)",
                multiplier: 2,
                description: "Professional video standard - 33% bandwidth reduction",
                reduction: "33%",
            },
            {
                value: "4:2:0",
                label: "4:2:0 (Consumer)",
                multiplier: 1.5,
                description: "Consumer video standard - 50% bandwidth reduction",
                reduction: "50%",
            },
        ],
        [s, a] = useState("1920x1080"),
        [r, l] = useState(7),
        [i, n] = useState(10),
        [o, d] = useState("4:2:2"),
        [c, m] = useState(1),
        [x, u] = useState(1),
        [h, p] = useState(8),
        [g, b] = useState(null),
        [f, y] = useState(!1),
        j = e[r],
        _ = t.find((e) => e.value === o);
    return _jsxs("div", {
        className: "max-w-7xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "AVoIP Bandwidth Calculator",
                    }),
                    g !== null &&
                        _jsx("button", {
                            onClick: () => y(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: f,
                onConfirm: () => {
                    a("1920x1080"), l(7), n(10), d("4:2:2"), m(1), u(1), p(8), b(null), y(!1);
                },
                onCancel: () => y(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates the network bandwidth required for uncompressed or compressed video streams over IP. Enter your video resolution, frame rate, color settings, and number of streams to determine the total bandwidth needed and recommended network infrastructure.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",
                        children: "AVIXA Standard Formula",
                    }),
                    _jsx("p", {
                        className: "text-sm text-blue-700 font-mono",
                        children: "Bandwidth (Mbps) = (Width × Height × Frame Rate × Bits per Pixel) ÷ 1,000,000",
                    }),
                    _jsx("p", {
                        className: "text-xs text-blue-600 mt-1",
                        children:
                            "Where: Bits per Pixel = Color Depth × Chroma Subsampling Multiplier (4:4:4=3, 4:2:2=2, 4:2:0=1.5)",
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsx("h2", { className: "text-xl font-semibold mb-6", children: "Video Signal Configuration" }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Resolution",
                                    }),
                                    _jsxs("select", {
                                        value: s,
                                        onChange: (e) => a(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "1280x720", children: "720p HD (1280×720)" }),
                                            _jsx("option", {
                                                value: "1920x1080",
                                                children: "1080p Full HD (1920×1080)",
                                            }),
                                            _jsx("option", { value: "2560x1440", children: "1440p QHD (2560×1440)" }),
                                            _jsx("option", { value: "3840x2160", children: "4K UHD (3840×2160)" }),
                                            _jsx("option", { value: "4096x2160", children: "4K DCI (4096×2160)" }),
                                            _jsx("option", { value: "7680x4320", children: "8K UHD (7680×4320)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: [
                                            "Frame Rate: ",
                                            _jsx("span", { className: "font-bold text-blue-700", children: j.label }),
                                        ],
                                    }),
                                    _jsx("input", {
                                        type: "range",
                                        min: "0",
                                        max: e.length - 1,
                                        step: "1",
                                        value: r,
                                        onChange: (e) => l(Number(e.target.value)),
                                        className:
                                            "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                    }),
                                    _jsxs("div", {
                                        className: "flex justify-between text-xs text-gray-400 mt-1 px-1",
                                        children: [
                                            _jsx("span", { children: "23.976" }),
                                            _jsx("span", { children: "30" }),
                                            _jsx("span", { children: "60" }),
                                            _jsx("span", { children: "120" }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className:
                                            "mt-3 p-3 rounded-lg border " +
                                            ((v = j.standard),
                                            "PAL" === v
                                                ? "text-green-600 bg-green-50 dark:bg-green-900/20"
                                                : "NTSC" === v
                                                  ? "text-blue-600 bg-blue-50 dark:bg-blue-900/20"
                                                  : "Film" === v
                                                    ? "text-amber-600 bg-amber-50 dark:bg-amber-900/20"
                                                    : "text-purple-600 bg-purple-50 dark:bg-purple-900/20"),
                                        children: _jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [
                                                _jsx("span", {
                                                    className: "text-xl",
                                                    children: ((e) =>
                                                        "PAL" === e
                                                            ? "🇪🇺"
                                                            : "NTSC" === e
                                                              ? "🇺🇸"
                                                              : "Film" === e
                                                                ? "🎬"
                                                                : "🌐")(j.standard),
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("p", {
                                                            className: "text-sm font-semibold",
                                                            children: j.standard,
                                                        }),
                                                        _jsx("p", {
                                                            className: "text-xs opacity-80",
                                                            children: j.region,
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Color Bit Depth",
                                    }),
                                    _jsxs("select", {
                                        value: i,
                                        onChange: (e) => n(Number(e.target.value)),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "8", children: "8-bit (SDR, 16.7M colors)" }),
                                            _jsx("option", { value: "10", children: "10-bit (HDR, 1.07B colors)" }),
                                            _jsx("option", {
                                                value: "12",
                                                children: "12-bit (Professional, 68.7B colors)",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Chroma Subsampling",
                                    }),
                                    _jsx("select", {
                                        value: o,
                                        onChange: (e) => d(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: t.map((e) =>
                                            _jsxs(
                                                "option",
                                                {
                                                    value: e.value,
                                                    children: [e.label, " - ", e.reduction, " reduction"],
                                                },
                                                e.value
                                            )
                                        ),
                                    }),
                                    _jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: _.description }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Compression",
                                    }),
                                    _jsxs("select", {
                                        value: c,
                                        onChange: (e) => m(Number(e.target.value)),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", {
                                                value: "1",
                                                children: "Uncompressed (1:1) - SDI/SMPTE 2110",
                                            }),
                                            _jsx("option", { value: "2", children: "Mathematically Lossless (2:1)" }),
                                            _jsx("option", {
                                                value: "5",
                                                children: "Visually Lossless (5:1) - JPEG 2000/XS",
                                            }),
                                            _jsx("option", { value: "7", children: "ProRes 422 (7:1)" }),
                                            _jsx("option", { value: "15", children: "H.264 Low (15:1)" }),
                                            _jsx("option", { value: "30", children: "H.264 High / Blu-ray (30:1)" }),
                                            _jsx("option", { value: "50", children: "H.265/HEVC (50:1)" }),
                                            _jsx("option", { value: "100", children: "Streaming/Web (100:1)" }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children:
                                            "Compression ratio = original size ÷ compressed size. Higher ratios = smaller files but more quality loss.",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Network Overhead: ", h, "%"],
                                    }),
                                    _jsx("input", {
                                        type: "range",
                                        min: "0",
                                        max: "20",
                                        step: "1",
                                        value: h,
                                        onChange: (e) => p(Number(e.target.value)),
                                        className:
                                            "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "IP headers, encapsulation (typically 3-10%)",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "md:col-span-2",
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Number of Streams: ", x],
                                    }),
                                    _jsx("input", {
                                        type: "range",
                                        min: "1",
                                        max: "32",
                                        value: x,
                                        onChange: (e) => u(Number(e.target.value)),
                                        className:
                                            "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                    }),
                                    _jsxs("div", {
                                        className: "flex justify-between text-xs text-gray-400 mt-1",
                                        children: [
                                            _jsx("span", { children: "1" }),
                                            _jsx("span", { children: "8" }),
                                            _jsx("span", { children: "16" }),
                                            _jsx("span", { children: "24" }),
                                            _jsx("span", { children: "32" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className:
                            "mt-6 p-4 bg-gradient-to-r from-blue-50 via-green-50 to-purple-50 rounded-lg border border-gray-200 dark:border-gray-700",
                        children: [
                            _jsx("h3", {
                                className: "text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                children: "📺 Broadcast Standards Frame Rates",
                            }),
                            _jsxs("div", {
                                className: "grid grid-cols-1 md:grid-cols-4 gap-3 text-xs",
                                children: [
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-800",
                                        children: [
                                            _jsx("p", {
                                                className: "font-semibold text-blue-600 mb-2",
                                                children: "🇺🇸 ATSC (Americas/Korea)",
                                            }),
                                            _jsxs("ul", {
                                                className: "text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsx("li", { children: "• 23.976/24 fps - Film" }),
                                                    _jsx("li", { children: "• 29.97/30 fps - SD/HD" }),
                                                    _jsx("li", { children: "• 59.94/60 fps - Sports" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-green-200 dark:border-green-800",
                                        children: [
                                            _jsx("p", {
                                                className: "font-semibold text-green-600 mb-2",
                                                children: "🇪🇺 DVB (Europe/Africa/ME)",
                                            }),
                                            _jsxs("ul", {
                                                className: "text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsx("li", { children: "• 25 fps - SD/HD" }),
                                                    _jsx("li", { children: "• 50 fps - Sports/HFR" }),
                                                    _jsx("li", { children: "• 100 fps - Premium" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-orange-200",
                                        children: [
                                            _jsx("p", {
                                                className: "font-semibold text-orange-600 mb-2",
                                                children: "🇯🇵 ISDB (Japan/S.America)",
                                            }),
                                            _jsxs("ul", {
                                                className: "text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsx("li", { children: "• 29.97 fps - SD" }),
                                                    _jsx("li", { children: "• 59.94 fps - HD" }),
                                                    _jsx("li", { children: "• 119.88 fps - 8K" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-purple-200 dark:border-purple-800",
                                        children: [
                                            _jsx("p", {
                                                className: "font-semibold text-purple-600 mb-2",
                                                children: "🇨🇳 DTMB (China/Cuba/Pak)",
                                            }),
                                            _jsxs("ul", {
                                                className: "text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsx("li", { children: "• 25 fps - SD" }),
                                                    _jsx("li", { children: "• 50 fps - HD" }),
                                                    _jsx("li", { children: "• 60 fps - 4K UHD" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => {
                            const [e, t] = s.split("x").map(Number),
                                a = i * _.multiplier,
                                r = (e * t * j.value * a) / 1e6,
                                l = r / c,
                                n = l * (1 + h / 100),
                                o = n * x;
                            let d = "1Gb",
                                m = 1e3;
                            o >= 900 && ((d = "10Gb"), (m = 1e4)),
                                o >= 9e3 && ((d = "25Gb"), (m = 25e3)),
                                o >= 24e3 && ((d = "100Gb"), (m = 1e5));
                            const u = (o / m) * 100;
                            b({
                                rawBitrateMbps: Math.round(100 * r) / 100,
                                rawBitrateGbps: Math.round((r / 1e3) * 1e3) / 1e3,
                                compressedBitrate: Math.round(100 * l) / 100,
                                perStreamBitrate: Math.round(100 * n) / 100,
                                totalBitrate: Math.round(100 * o) / 100,
                                totalBitrateGbps: Math.round((o / 1e3) * 1e3) / 1e3,
                                switchType: d,
                                portSpeed: m,
                                utilization: Math.round(100 * u) / 100,
                                bitsPerPixel: Math.round(10 * a) / 10,
                                totalPixels: e * t,
                                pixelsPerSecond: e * t * j.value,
                            });
                        },
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Bandwidth",
                    }),
                ],
            }),
            g &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsx("h2", { className: "text-xl font-semibold mb-6", children: "Bandwidth Results" }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-4 gap-4 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-xs text-gray-600 dark:text-gray-400",
                                            children: "Raw Uncompressed",
                                        }),
                                        _jsx("div", {
                                            className: "text-2xl font-bold text-blue-700",
                                            children:
                                                g.rawBitrateGbps >= 1
                                                    ? `${g.rawBitrateGbps} Gbps`
                                                    : `${g.rawBitrateMbps} Mbps`,
                                        }),
                                        _jsx("div", { className: "text-xs text-gray-500 dark:text-gray-400", children: "per stream" }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-5 rounded-lg border-2 border-green-200 dark:border-green-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-xs text-gray-600 dark:text-gray-400",
                                            children: "Per Stream (w/ overhead)",
                                        }),
                                        _jsxs("div", {
                                            className: "text-2xl font-bold text-green-700",
                                            children: [g.perStreamBitrate, " Mbps"],
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                            children: c > 1 ? `${c}:1 compression` : "uncompressed",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-purple-50 dark:bg-purple-900/20 p-5 rounded-lg border-2 border-purple-200 dark:border-purple-800",
                                    children: [
                                        _jsxs("div", {
                                            className: "text-xs text-gray-600 dark:text-gray-400",
                                            children: ["Total (", x, " stream", x > 1 ? "s" : "", ")"],
                                        }),
                                        _jsx("div", {
                                            className: "text-2xl font-bold text-purple-700",
                                            children:
                                                g.totalBitrateGbps >= 1
                                                    ? `${g.totalBitrateGbps} Gbps`
                                                    : `${g.totalBitrate} Mbps`,
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-yellow-50 dark:bg-yellow-900/20 p-5 rounded-lg border-2 border-yellow-200 dark:border-yellow-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-xs text-gray-600 dark:text-gray-400",
                                            children: "Recommended Port",
                                        }),
                                        _jsx("div", {
                                            className: "text-2xl font-bold text-yellow-700",
                                            children: g.switchType,
                                        }),
                                        _jsxs("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                            children: [g.utilization, "% utilization"],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-6",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "AVIXA Calculation Breakdown",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-4 text-sm",
                                    children: [
                                        _jsxs("div", {
                                            className: "space-y-2",
                                            children: [
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Resolution:",
                                                        }),
                                                        " ",
                                                        _jsx("strong", { children: s }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Total Pixels:",
                                                        }),
                                                        " ",
                                                        _jsx("strong", { children: g.totalPixels.toLocaleString() }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Frame Rate:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [j.value, " fps"] }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Pixels/Second:",
                                                        }),
                                                        " ",
                                                        _jsx("strong", {
                                                            children: g.pixelsPerSecond.toLocaleString(),
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2",
                                            children: [
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Color Depth:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [i, "-bit"] }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Chroma Subsampling:",
                                                        }),
                                                        " ",
                                                        _jsx("strong", { children: o }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Bits per Pixel:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [g.bitsPerPixel, " bpp"] }),
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Network Overhead:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [h, "%"] }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",
                                    children: [
                                        _jsxs("p", {
                                            className: "text-xs text-gray-600 dark:text-gray-400 font-mono",
                                            children: [
                                                "Raw: ",
                                                s.split("x")[0],
                                                " × ",
                                                s.split("x")[1],
                                                " × ",
                                                j.value,
                                                " fps × ",
                                                g.bitsPerPixel,
                                                " bpp = ",
                                                _jsxs("strong", { children: [g.rawBitrateMbps, " Mbps"] }),
                                            ],
                                        }),
                                        c > 1 &&
                                            _jsxs("p", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 font-mono mt-1",
                                                children: [
                                                    "Compressed: ",
                                                    g.rawBitrateMbps,
                                                    " ÷ ",
                                                    c,
                                                    " = ",
                                                    _jsxs("strong", { children: [g.compressedBitrate, " Mbps"] }),
                                                ],
                                            }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-yellow-800 dark:text-yellow-200 mb-2",
                                    children: "Chroma Subsampling Reference (AVIXA)",
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-xs",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "border-b border-yellow-300",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "Format",
                                                        }),
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "Multiplier",
                                                        }),
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "8-bit",
                                                        }),
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "10-bit",
                                                        }),
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "12-bit",
                                                        }),
                                                        _jsx("th", {
                                                            className: "text-left py-2 px-2",
                                                            children: "Use Case",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsxs("tbody", {
                                                className: "text-yellow-900",
                                                children: [
                                                    _jsxs("tr", {
                                                        className: "border-b " + ("4:4:4" === o ? "bg-yellow-100" : ""),
                                                        children: [
                                                            _jsx("td", {
                                                                className: "py-2 px-2 font-medium",
                                                                children: "4:4:4",
                                                            }),
                                                            _jsx("td", { className: "py-2 px-2", children: "×3" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "24 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "30 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "36 bpp" }),
                                                            _jsx("td", {
                                                                className: "py-2 px-2",
                                                                children: "Graphics, Medical, Color-critical",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("tr", {
                                                        className: "border-b " + ("4:2:2" === o ? "bg-yellow-100" : ""),
                                                        children: [
                                                            _jsx("td", {
                                                                className: "py-2 px-2 font-medium",
                                                                children: "4:2:2",
                                                            }),
                                                            _jsx("td", { className: "py-2 px-2", children: "×2" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "16 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "20 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "24 bpp" }),
                                                            _jsx("td", {
                                                                className: "py-2 px-2",
                                                                children: "Professional video, Broadcast",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("tr", {
                                                        className: "4:2:0" === o ? "bg-yellow-100" : "",
                                                        children: [
                                                            _jsx("td", {
                                                                className: "py-2 px-2 font-medium",
                                                                children: "4:2:0",
                                                            }),
                                                            _jsx("td", { className: "py-2 px-2", children: "×1.5" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "12 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "15 bpp" }),
                                                            _jsx("td", { className: "py-2 px-2", children: "18 bpp" }),
                                                            _jsx("td", {
                                                                className: "py-2 px-2",
                                                                children: "Consumer video, Streaming",
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
    var v;
}
function ConduitCalculator() {
    const [e, t] = useState(4),
        [s, a] = useState(0.26),
        [r, l] = useState("in"),
        [i, n] = useState(null),
        [o, d] = useState(null),
        [c, m] = useState(null),
        [x, u] = useState("single"),
        [h, p] = useState(!1),
        g = [
            { type: "Cat5e UTP", category: "Data", diameter: 0.2, nec: "NEC 800" },
            { type: "Cat5e STP", category: "Data", diameter: 0.24, nec: "NEC 800" },
            { type: "Cat6 UTP", category: "Data", diameter: 0.25, nec: "NEC 800" },
            { type: "Cat6 STP", category: "Data", diameter: 0.28, nec: "NEC 800" },
            { type: "Cat6A UTP", category: "Data", diameter: 0.3, nec: "NEC 800" },
            { type: "Cat6A STP", category: "Data", diameter: 0.35, nec: "NEC 800" },
            { type: "RG59", category: "Coax", diameter: 0.24, nec: "NEC 820" },
            { type: "RG6", category: "Coax", diameter: 0.27, nec: "NEC 820" },
            { type: "RG6 Quad Shield", category: "Coax", diameter: 0.3, nec: "NEC 820" },
            { type: "RG11", category: "Coax", diameter: 0.41, nec: "NEC 820" },
            { type: "RG58", category: "Coax", diameter: 0.2, nec: "NEC 820" },
            { type: "HDMI Standard", category: "AV", diameter: 0.28, nec: "AVIXA" },
            { type: "HDMI Premium", category: "AV", diameter: 0.32, nec: "AVIXA" },
            { type: "HDMI Active Optical", category: "AV", diameter: 0.2, nec: "AVIXA" },
            { type: "DisplayPort", category: "AV", diameter: 0.28, nec: "AVIXA" },
            { type: "DVI Single Link", category: "AV", diameter: 0.3, nec: "AVIXA" },
            { type: "DVI Dual Link", category: "AV", diameter: 0.35, nec: "AVIXA" },
            { type: "VGA/HD15", category: "AV", diameter: 0.3, nec: "AVIXA" },
            { type: "SDI/HD-SDI", category: "AV", diameter: 0.28, nec: "AVIXA" },
            { type: "12G-SDI", category: "AV", diameter: 0.3, nec: "AVIXA" },
            { type: "USB 2.0", category: "AV", diameter: 0.2, nec: "AVIXA" },
            { type: "USB 3.0", category: "AV", diameter: 0.24, nec: "AVIXA" },
            { type: "USB-C", category: "AV", diameter: 0.22, nec: "AVIXA" },
            { type: "XLR Microphone", category: "Audio", diameter: 0.24, nec: "AVIXA" },
            { type: "Speaker 18AWG", category: "Audio", diameter: 0.18, nec: "NEC 725" },
            { type: "Speaker 16AWG", category: "Audio", diameter: 0.22, nec: "NEC 725" },
            { type: "Speaker 14AWG", category: "Audio", diameter: 0.26, nec: "NEC 725" },
            { type: "Speaker 12AWG", category: "Audio", diameter: 0.32, nec: "NEC 725" },
            { type: "Dante/AES67 (Cat6)", category: "Audio", diameter: 0.25, nec: "AES67" },
            { type: "Fiber Simplex", category: "Fiber", diameter: 0.1, nec: "NEC 770" },
            { type: "Fiber Duplex", category: "Fiber", diameter: 0.12, nec: "NEC 770" },
            { type: "Fiber 6-Strand", category: "Fiber", diameter: 0.2, nec: "NEC 770" },
            { type: "Fiber 12-Strand", category: "Fiber", diameter: 0.28, nec: "NEC 770" },
            { type: "Fiber 24-Strand", category: "Fiber", diameter: 0.35, nec: "NEC 770" },
            { type: "RS-232", category: "Control", diameter: 0.2, nec: "NEC 725" },
            { type: "RS-485", category: "Control", diameter: 0.22, nec: "NEC 725" },
            { type: "DMX 3-pin", category: "Control", diameter: 0.24, nec: "NEC 725" },
            { type: "DMX 5-pin", category: "Control", diameter: 0.26, nec: "NEC 725" },
            { type: "CEC/IR Control", category: "Control", diameter: 0.14, nec: "NEC 725" },
            { type: "12V DC 18AWG", category: "Power", diameter: 0.18, nec: "NEC 725" },
            { type: "24V DC 16AWG", category: "Power", diameter: 0.22, nec: "NEC 725" },
            { type: "48V DC 14AWG", category: "Power", diameter: 0.26, nec: "NEC 725" },
            { type: "Composite Video", category: "Legacy", diameter: 0.24, nec: "AVIXA" },
            { type: "S-Video", category: "Legacy", diameter: 0.28, nec: "AVIXA" },
            { type: "Component Video (3x)", category: "Legacy", diameter: 0.72, nec: "AVIXA" },
        ],
        [b, f] = useState([]),
        [y, j] = useState(""),
        [_, v] = useState(1),
        [N, w] = useState(0.25),
        [C, M] = useState("in"),
        [k, S] = useState(""),
        [R, P] = useState(null),
        [A, D] = useState(0),
        I = (e, t = i) => {
            if (!t || null === e || e < 0) return;
            const s = t._0xf639dc,
                a = s[e];
            if (!a) return;
            const r = t.cableQty * Math.PI * Math.pow(t.outerDiameterInches / 2, 2),
                l = Math.PI * Math.pow(a.id / 2, 2),
                n = Math.round((r / l) * 100),
                o = 1 === t.cableQty ? 53 : 2 === t.cableQty ? 31 : 40,
                d = n > o,
                c = t.cableQty >= 3 ? a.id / t.outerDiameterInches : null;
            let x = "N/A",
                u = "gray";
            t.cableQty >= 3 &&
                c &&
                (c < 2.8
                    ? ((x = "High Risk"), (u = "red"))
                    : c <= 3.2
                      ? ((x = "Borderline"), (u = "yellow"))
                      : ((x = "Low Risk"), (u = "green")));
            let h = [],
                p = "good";
            d &&
                ((p = "error"),
                h.push({
                    type: "error",
                    icon: "🚫",
                    title: "NEC Violation",
                    text: `${n}% fill exceeds NEC Chapter 9 limit of ${o}% for ${t.cableQty} cable(s). This installation would not pass inspection.`,
                }),
                h.push({
                    type: "error",
                    icon: "→",
                    title: "Required Action",
                    text: "Select a larger conduit size or reduce the number of cables.",
                })),
                t.cableQty >= 3 &&
                    ("High Risk" === x
                        ? ("error" !== p && (p = "warning"),
                          h.push({
                              type: "warning",
                              icon: "⚠️",
                              title: "High JAM Risk (AVIXA)",
                              text: `JAM ratio of ${c.toFixed(2)} is below 2.8. Per AVIXA guidelines, cables are likely to jam during pulling, potentially damaging cable jackets.`,
                          }),
                          h.push({
                              type: "info",
                              icon: "💡",
                              title: "Mitigation Options",
                              text: "Use cable pulling lubricant, pull slowly, or consider splitting into multiple conduit runs.",
                          }))
                        : "Borderline" === x
                          ? ("good" === p && (p = "caution"),
                            h.push({
                                type: "caution",
                                icon: "⚠️",
                                title: "Borderline JAM Risk (AVIXA)",
                                text: `JAM ratio of ${c.toFixed(2)} is in the borderline range (2.8-3.2). Cable pulling may be difficult.`,
                            }),
                            h.push({
                                type: "info",
                                icon: "💡",
                                title: "Recommendation",
                                text: "Use cable pulling lubricant and pull cables slowly to minimize risk.",
                            }))
                          : "Low Risk" === x &&
                            h.push({
                                type: "success",
                                icon: "✅",
                                title: "Safe JAM Ratio (AVIXA)",
                                text: `JAM ratio of ${c.toFixed(2)} exceeds 3.2. Cables should pull smoothly without jamming.`,
                            })),
                d ||
                    (n <= 0.5 * o
                        ? h.push({
                              type: "info",
                              icon: "ℹ️",
                              title: "Low Fill Percentage",
                              text: `${n}% fill is well below NEC limit. This provides room for future cable additions.`,
                          })
                        : n <= 0.75 * o
                          ? h.push({
                                type: "success",
                                icon: "✅",
                                title: "Good Fill Percentage",
                                text: `${n}% fill is within recommended range. Allows for easy pulling and some expansion.`,
                            })
                          : h.push({
                                type: "caution",
                                icon: "ℹ️",
                                title: "Near Maximum Fill",
                                text: `${n}% fill is close to NEC limit of ${o}%. Limited room for future cables.`,
                            }));
            const g = s.findIndex((e) => e.trade === t._0xd93e1a?.trade);
            let b = "";
            (b = e < g ? "undersized" : e > g ? "oversized" : "minimum"),
                m({
                    conduit: a,
                    conduitIndex: e,
                    fillPercent: n,
                    necLimit: o,
                    exceedsNEC: d,
                    jamRatio: c ? c.toFixed(2) : "N/A",
                    jamRisk: x,
                    jamRiskColor: u,
                    recommendations: h,
                    status: p,
                    comparison: b,
                    necMinConduit: t._0xd93e1a,
                });
        },
        E = (e) => {
            d(e), I(e);
        },
        F = (e) => {
            const t = {
                "High Risk": "bg-red-600 text-white",
                Borderline: "bg-yellow-50 dark:bg-yellow-900/200 text-white",
                "Low Risk": "bg-green-600 text-white",
                "N/A": "bg-gray-400 text-white",
            };
            return t[e] || t["N/A"];
        };
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Cable Conduit Capacity Calculator",
                    }),
                    (i || b.length > 0) &&
                        _jsx("button", {
                            onClick: () => p(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: h,
                onConfirm: () => {
                    t(4),
                        a(0.26),
                        l("in"),
                        n(null),
                        d(null),
                        m(null),
                        u("single"),
                        f([]),
                        j(""),
                        v(1),
                        w(0.25),
                        M("in"),
                        S(""),
                        P(null),
                        D(0),
                        p(!1);
                },
                onCancel: () => p(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Determines the correct EMT conduit size for your cable runs based on NEC Chapter 9 fill requirements. Enter the number of cables and their outer diameter to get the recommended conduit size, fill percentage, and JAM ratio risk assessment for cable pulls with 3+ conductors.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "flex gap-2 mb-6",
                children: [
                    _jsx("button", {
                        type: "button",
                        onClick: () => u("single"),
                        className:
                            "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                            ("single" === x ? "bg-blue-600 text-white" : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700"),
                        children: "📏 Single Cable Type",
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => u("mixed"),
                        className:
                            "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                            ("mixed" === x ? "bg-blue-600 text-white" : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700"),
                        children: "🔀 Multiple Cable Types",
                    }),
                ],
            }),
            "mixed" === x &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-6 border",
                    children: [
                        _jsx("h2", {
                            className: "text-lg font-semibold text-gray-800 mb-4",
                            children: "Mixed Cable Configuration",
                        }),
                        _jsx("p", {
                            className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                            children: "Select cable types from the NEC/AVIXA database or add custom cables:",
                        }),
                        _jsxs("div", {
                            className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",
                            children: [
                                _jsx("h3", { className: "font-semibold text-blue-800 dark:text-blue-200 mb-3", children: "Add Cable" }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-3 gap-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Cable Type",
                                                }),
                                                _jsxs("select", {
                                                    value: y,
                                                    onChange: (e) => j(e.target.value),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", { value: "", children: "-- Select Cable --" }),
                                                        _jsx("optgroup", {
                                                            label: "Data Cables",
                                                            children: g
                                                                .filter((e) => "Data" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "AV Cables",
                                                            children: g
                                                                .filter((e) => "AV" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "Audio Cables",
                                                            children: g
                                                                .filter((e) => "Audio" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "Coaxial Cables",
                                                            children: g
                                                                .filter((e) => "Coax" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "Fiber Optic",
                                                            children: g
                                                                .filter((e) => "Fiber" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "Control Cables",
                                                            children: g
                                                                .filter((e) => "Control" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("optgroup", {
                                                            label: "Power (Low Voltage)",
                                                            children: g
                                                                .filter((e) => "Power" === e.category)
                                                                .map((e) =>
                                                                    _jsxs(
                                                                        "option",
                                                                        {
                                                                            value: e.type,
                                                                            children: [
                                                                                e.type,
                                                                                " (",
                                                                                e.diameter,
                                                                                '" OD)',
                                                                            ],
                                                                        },
                                                                        e.type
                                                                    )
                                                                ),
                                                        }),
                                                        _jsx("option", {
                                                            value: "custom",
                                                            children: "📏 Custom Cable...",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Quantity",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    value: _,
                                                    onChange: (e) =>
                                                        v("" === e.target.value ? "" : parseInt(e.target.value) || ""),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "flex items-end",
                                            children: _jsx("button", {
                                                type: "button",
                                                onClick: () => {
                                                    if ("custom" === y) {
                                                        if (!k.trim())
                                                            return void alert(
                                                                "Please enter a name for the custom cable"
                                                            );
                                                        const e = "mm" === C ? N / 25.4 : N;
                                                        f([
                                                            ...b,
                                                            {
                                                                type: k || "Custom Cable",
                                                                description: `Custom (${N} ${C})`,
                                                                diameter: e,
                                                                quantity: _,
                                                            },
                                                        ]),
                                                            S("");
                                                    } else if (y) {
                                                        const e = g.find((e) => e.type === y);
                                                        if (e) {
                                                            const t = b.findIndex((t) => t.type === e.type);
                                                            if (t >= 0) {
                                                                const e = [...b];
                                                                (e[t].quantity += _), f(e);
                                                            } else
                                                                f([
                                                                    ...b,
                                                                    {
                                                                        type: e.type,
                                                                        description: `${e.category} - ${e.nec}`,
                                                                        diameter: e.diameter,
                                                                        quantity: _,
                                                                    },
                                                                ]);
                                                        }
                                                    }
                                                    v(1);
                                                },
                                                disabled: !y,
                                                className:
                                                    "w-full py-2 rounded-lg font-medium cursor-pointer " +
                                                    (y
                                                        ? "bg-blue-600 text-white hover:bg-blue-700"
                                                        : "bg-gray-300 text-gray-500 dark:text-gray-400 cursor-not-allowed"),
                                                children: "+ Add Cable",
                                            }),
                                        }),
                                    ],
                                }),
                                "custom" === y &&
                                    _jsxs("div", {
                                        className: "mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg border",
                                        children: [
                                            _jsx("h4", {
                                                className: "font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                children: "Custom Cable Details",
                                            }),
                                            _jsxs("div", {
                                                className: "grid grid-cols-3 gap-3",
                                                children: [
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Cable Name",
                                                            }),
                                                            _jsx("input", {
                                                                type: "text",
                                                                value: k,
                                                                onChange: (e) => S(e.target.value),
                                                                placeholder: "e.g., Custom Cat7",
                                                                className: "w-full px-2 py-1 text-sm border rounded",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Outer Diameter",
                                                            }),
                                                            _jsx("input", {
                                                                type: "number",
                                                                step: "0.01",
                                                                min: "0.01",
                                                                value: N,
                                                                onChange: (e) =>
                                                                    w(
                                                                        "" === e.target.value
                                                                            ? ""
                                                                            : parseFloat(e.target.value) || ""
                                                                    ),
                                                                className: "w-full px-2 py-1 text-sm border rounded",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Unit",
                                                            }),
                                                            _jsxs("select", {
                                                                value: C,
                                                                onChange: (e) => M(e.target.value),
                                                                className: "w-full px-2 py-1 text-sm border rounded",
                                                                children: [
                                                                    _jsx("option", { value: "in", children: "inches" }),
                                                                    _jsx("option", { value: "mm", children: "mm" }),
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                            ],
                        }),
                        b.length > 0 &&
                            _jsxs("div", {
                                className: "mb-4",
                                children: [
                                    _jsx("h3", {
                                        className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Selected Cables",
                                    }),
                                    _jsx("div", {
                                        className: "space-y-2",
                                        children: b.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className:
                                                        "flex items-center justify-between bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg border",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex-1",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "font-medium",
                                                                    children: e.type,
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "text-gray-500 dark:text-gray-400 text-sm ml-2",
                                                                    children: ["(", e.diameter.toFixed(3), '" OD)'],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "1",
                                                                    value: e.quantity,
                                                                    onChange: (e) =>
                                                                        ((e, t) => {
                                                                            const s = [...b];
                                                                            if ("" === t || void 0 === t)
                                                                                s[e].quantity = "";
                                                                            else {
                                                                                const a = parseInt(t);
                                                                                s[e].quantity = isNaN(a) ? "" : a;
                                                                            }
                                                                            f(s);
                                                                        })(t, e.target.value),
                                                                    className:
                                                                        "w-16 px-2 py-1 text-sm border rounded text-center",
                                                                }),
                                                                _jsx("button", {
                                                                    type: "button",
                                                                    onClick: () => {
                                                                        return (
                                                                            (e = t), void f(b.filter((t, s) => s !== e))
                                                                        );
                                                                        var e;
                                                                    },
                                                                    className: "text-red-600 hover:text-red-800 dark:text-red-200 px-2",
                                                                    children: "✕",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        _jsx("button", {
                            type: "button",
                            onClick: () => {
                                if (0 === b.length) return void alert("Please add at least one cable type");
                                const e = calculateMixedConduitFill(b, "EMT");
                                P(e);
                                const t = e.conduitOptions.findIndex((e) => e.recommended);
                                D(t >= 0 ? t : 0);
                            },
                            disabled: 0 === b.length,
                            className:
                                "w-full py-3 rounded-lg font-semibold cursor-pointer " +
                                (b.length > 0
                                    ? "bg-blue-600 hover:bg-blue-700 text-white"
                                    : "bg-gray-300 text-gray-500 dark:text-gray-400 cursor-not-allowed"),
                            children: "Calculate Conduit Size",
                        }),
                    ],
                }),
            "mixed" === x &&
                R &&
                _jsxs(_Fragment, {
                    children: [
                        R.exceedsMaximum &&
                            _jsxs("div", {
                                className: "bg-red-50 dark:bg-red-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-6 border-2 border-red-300",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-3",
                                        children: [
                                            _jsx("span", { className: "text-2xl", children: "⚠️" }),
                                            _jsx("h2", {
                                                className: "text-xl font-bold text-red-800 dark:text-red-200",
                                                children: "Exceeds Maximum Single Conduit Capacity",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-red-700 mb-4",
                                        children:
                                            'The total cable area exceeds what can fit in a single 4" conduit per NEC Chapter 9. Multiple conduits are required.',
                                    }),
                                    R.multiConduitRecommendations &&
                                        R.multiConduitRecommendations.length > 0 &&
                                        _jsxs("div", {
                                            className: "mb-4",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-red-800 dark:text-red-200 mb-2",
                                                    children: "📋 Multi-Conduit Recommendations:",
                                                }),
                                                _jsx("div", {
                                                    className: "grid sm:grid-cols-2 lg:grid-cols-3 gap-3",
                                                    children: R.multiConduitRecommendations.map((e, t) =>
                                                        _jsxs(
                                                            "div",
                                                            {
                                                                className:
                                                                    "p-3 rounded-lg border-2 " +
                                                                    (0 === t
                                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-400"
                                                                        : "bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"),
                                                                children: [
                                                                    0 === t &&
                                                                        _jsx("div", {
                                                                            className:
                                                                                "text-xs font-bold text-green-700 mb-1",
                                                                            children: "✓ RECOMMENDED",
                                                                        }),
                                                                    _jsxs("div", {
                                                                        className: "text-lg font-bold text-gray-800",
                                                                        children: [
                                                                            e.conduitCount,
                                                                            "× ",
                                                                            e.conduitSize,
                                                                            " Conduits",
                                                                        ],
                                                                    }),
                                                                    _jsxs("div", {
                                                                        className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                                        children: [
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Cables per conduit: ~",
                                                                                    e.cablesPerConduit,
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Fill: ",
                                                                                    e.fillPercent,
                                                                                    "% ",
                                                                                    e.compliant ? "✓" : "⚠",
                                                                                ],
                                                                            }),
                                                                            e.jamRatio &&
                                                                                _jsxs("div", {
                                                                                    children: [
                                                                                        "JAM Ratio: ",
                                                                                        e.jamRatio,
                                                                                        " (",
                                                                                        e.jamStatus,
                                                                                        ")",
                                                                                    ],
                                                                                }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                    R.bestPractices &&
                                        R.bestPractices.length > 0 &&
                                        _jsxs("div", {
                                            className: "mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg",
                                            children: [
                                                _jsx("h4", {
                                                    className: "font-semibold text-gray-800 mb-2",
                                                    children: "💡 Best Practices:",
                                                }),
                                                _jsx("ul", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                    children: R.bestPractices.map((e, t) =>
                                                        _jsxs(
                                                            "li",
                                                            {
                                                                className: "flex items-start gap-2",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "text-blue-500",
                                                                        children: "•",
                                                                    }),
                                                                    e,
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4",
                                    children: R.exceedsMaximum
                                        ? "Mixed Cable Results (Exceeds Single Conduit)"
                                        : "Mixed Cable Results",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: R.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-5 rounded-lg border-2 border-red-200 dark:border-red-800 text-center"
                                                : "bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-200 dark:border-blue-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: R.exceedsMaximum
                                                        ? "Largest Conduit"
                                                        : "Recommended Conduit",
                                                }),
                                                _jsx("div", {
                                                    className: R.exceedsMaximum
                                                        ? "text-3xl font-bold text-red-700"
                                                        : "text-3xl font-bold text-blue-700",
                                                    children: R.recommendedConduit.trade,
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: ["EMT - ID: ", R.recommendedConduit.id, '"'],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: R.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-5 rounded-lg border-2 border-red-200 dark:border-red-800 text-center"
                                                : "bg-green-50 dark:bg-green-900/20 p-5 rounded-lg border-2 border-green-200 dark:border-green-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Actual Fill",
                                                }),
                                                _jsxs("div", {
                                                    className:
                                                        "text-3xl font-bold " +
                                                        (R.recommendedConduit.actualFillPercent <= R.fillPercentAllowed
                                                            ? "text-green-700"
                                                            : "text-red-600"),
                                                    children: [R.recommendedConduit.actualFillPercent, "%"],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: [
                                                        R.exceedsMaximum ? "❌ Exceeds " : "NEC limit: ",
                                                        R.fillPercentAllowed,
                                                        "%",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-5 rounded-lg border-2 border-purple-200 dark:border-purple-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Total Cables",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-purple-700",
                                                    children: R.totalCables,
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: [R.cableBreakdown.length, " type(s)"],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mb-4",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Cable Breakdown",
                                        }),
                                        _jsx("div", {
                                            className: "overflow-x-auto",
                                            children: _jsxs("table", {
                                                className: "w-full text-sm",
                                                children: [
                                                    _jsx("thead", {
                                                        children: _jsxs("tr", {
                                                            className: "bg-gray-50 dark:bg-gray-900/50",
                                                            children: [
                                                                _jsx("th", {
                                                                    className: "px-3 py-2 text-left",
                                                                    children: "Type",
                                                                }),
                                                                _jsx("th", {
                                                                    className: "px-3 py-2 text-center",
                                                                    children: "Qty",
                                                                }),
                                                                _jsx("th", {
                                                                    className: "px-3 py-2 text-right",
                                                                    children: "OD (in)",
                                                                }),
                                                                _jsx("th", {
                                                                    className: "px-3 py-2 text-right",
                                                                    children: "Area (sq in)",
                                                                }),
                                                            ],
                                                        }),
                                                    }),
                                                    _jsx("tbody", {
                                                        children: R.cableBreakdown.map((e, t) =>
                                                            _jsxs(
                                                                "tr",
                                                                {
                                                                    className: "border-t",
                                                                    children: [
                                                                        _jsx("td", {
                                                                            className: "px-3 py-2 font-medium",
                                                                            children: e.type,
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "px-3 py-2 text-center",
                                                                            children: e.quantity,
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "px-3 py-2 text-right",
                                                                            children: e.diameter,
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "px-3 py-2 text-right",
                                                                            children: e.totalArea,
                                                                        }),
                                                                    ],
                                                                },
                                                                t
                                                            )
                                                        ),
                                                    }),
                                                ],
                                            }),
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        !R.exceedsMaximum &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                                children: [
                                    _jsx("h2", {
                                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-2",
                                        children: "Adjust Conduit Size",
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                                        children:
                                            "Slide to explore different conduit sizes and see how they affect fill percentage and JAM risk per NEC and AVIXA standards.",
                                    }),
                                    _jsxs("div", {
                                        className: "mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex justify-between items-center mb-2",
                                                children: [
                                                    _jsxs("label", {
                                                        className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                        children: [
                                                            "Selected Conduit: ",
                                                            _jsx("span", {
                                                                className: "font-bold text-blue-600 text-lg",
                                                                children: R.conduitOptions[A]?.trade || "--",
                                                            }),
                                                        ],
                                                    }),
                                                    R.conduitOptions[A]?.trade === R.recommendedConduit.trade &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded",
                                                            children: "NEC Minimum",
                                                        }),
                                                    A <
                                                        R.conduitOptions.findIndex(
                                                            (e) => e.trade === R.recommendedConduit.trade
                                                        ) &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-red-100 text-red-700 rounded",
                                                            children: "Below NEC Minimum",
                                                        }),
                                                    A >
                                                        R.conduitOptions.findIndex(
                                                            (e) => e.trade === R.recommendedConduit.trade
                                                        ) &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-green-100 text-green-700 rounded",
                                                            children: "Above NEC Minimum",
                                                        }),
                                                ],
                                            }),
                                            _jsx("input", {
                                                type: "range",
                                                min: "0",
                                                max: String(R.conduitOptions.length - 1),
                                                value: A,
                                                onChange: (e) => D(parseInt(e.target.value)),
                                                className:
                                                    "w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                            }),
                                            _jsx("div", {
                                                className:
                                                    "flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1 overflow-x-auto",
                                                children: R.conduitOptions.map((e, t) =>
                                                    _jsx(
                                                        "span",
                                                        {
                                                            className: `px-1 ${t === A ? "font-bold text-blue-600" : ""} ${R.recommendedConduit.trade === e.trade ? "text-blue-500" : ""}`,
                                                            children: e.trade,
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                            _jsxs("div", {
                                                className: "flex flex-wrap gap-2 mt-4",
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 self-center",
                                                        children: "Quick Select:",
                                                    }),
                                                    R.conduitOptions
                                                        .slice(0, 6)
                                                        .map((e, t) =>
                                                            _jsxs(
                                                                "button",
                                                                {
                                                                    type: "button",
                                                                    onClick: () => D(t),
                                                                    className:
                                                                        "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                                        (A === t
                                                                            ? "bg-blue-600 text-white border-blue-600"
                                                                            : R.recommendedConduit.trade === e.trade
                                                                              ? "bg-blue-50 dark:bg-blue-900/20 text-blue-700 border-blue-300 hover:bg-blue-100"
                                                                              : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:bg-gray-900/50"),
                                                                    children: [
                                                                        e.trade,
                                                                        R.recommendedConduit.trade === e.trade &&
                                                                            _jsx("span", {
                                                                                className: "ml-1 text-xs",
                                                                                children: "★",
                                                                            }),
                                                                    ],
                                                                },
                                                                t
                                                            )
                                                        ),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className:
                                            "p-4 rounded-lg border-2 " +
                                            (R.conduitOptions[A]?.compliant
                                                ? "High Risk" === R.conduitOptions[A]?.jamStatus
                                                    ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                                    : "Borderline" === R.conduitOptions[A]?.jamStatus
                                                      ? "bg-amber-50 dark:bg-amber-900/20 border-amber-300"
                                                      : "bg-green-50 dark:bg-green-900/20 border-green-300"
                                                : "bg-red-50 dark:bg-red-900/20 border-red-300"),
                                        children: [
                                            _jsxs("div", {
                                                className: "grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "text-center p-3 bg-white dark:bg-gray-800 rounded-lg border",
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                children: "Conduit",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-xl font-bold text-gray-800",
                                                                children: R.conduitOptions[A]?.trade,
                                                            }),
                                                            _jsxs("div", {
                                                                className: "text-xs text-gray-400",
                                                                children: ["ID: ", R.conduitOptions[A]?.id, '"'],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className:
                                                            "text-center p-3 rounded-lg border " +
                                                            (R.conduitOptions[A]?.compliant
                                                                ? "bg-white dark:bg-gray-800"
                                                                : "bg-red-100 border-red-300"),
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                children: "Fill %",
                                                            }),
                                                            _jsxs("div", {
                                                                className:
                                                                    "text-xl font-bold " +
                                                                    (R.conduitOptions[A]?.compliant
                                                                        ? "text-green-600"
                                                                        : "text-red-600"),
                                                                children: [R.conduitOptions[A]?.actualFillPercent, "%"],
                                                            }),
                                                            _jsxs("div", {
                                                                className: "text-xs text-gray-400",
                                                                children: ["Limit: ", R.fillPercentAllowed, "%"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-center p-3 bg-white dark:bg-gray-800 rounded-lg border",
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                children: "JAM Ratio",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-xl font-bold text-purple-600",
                                                                children:
                                                                    R.totalCables >= 3 && R.conduitOptions[A]?.jamRatio
                                                                        ? R.conduitOptions[A].jamRatio
                                                                        : "N/A",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-400",
                                                                children:
                                                                    R.totalCables >= 3
                                                                        ? "ID ÷ Avg OD"
                                                                        : "N/A (<3 cables)",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className:
                                                            "text-center p-3 rounded-lg border " +
                                                            ("High Risk" === R.conduitOptions[A]?.jamStatus
                                                                ? "bg-red-100 border-red-300"
                                                                : "Borderline" === R.conduitOptions[A]?.jamStatus
                                                                  ? "bg-yellow-100 border-yellow-300"
                                                                  : "Low Risk" === R.conduitOptions[A]?.jamStatus
                                                                    ? "bg-green-100 border-green-300"
                                                                    : "bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"),
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                children: "JAM Risk",
                                                            }),
                                                            _jsx("div", {
                                                                className:
                                                                    "text-xl font-bold " +
                                                                    ("High Risk" === R.conduitOptions[A]?.jamStatus
                                                                        ? "text-red-600"
                                                                        : "Borderline" ===
                                                                            R.conduitOptions[A]?.jamStatus
                                                                          ? "text-yellow-600"
                                                                          : "Low Risk" ===
                                                                              R.conduitOptions[A]?.jamStatus
                                                                            ? "text-green-600"
                                                                            : "text-gray-600 dark:text-gray-400"),
                                                                children: R.conduitOptions[A]?.jamStatus || "N/A",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-xs text-gray-400",
                                                                children:
                                                                    "Low Risk" === R.conduitOptions[A]?.jamStatus
                                                                        ? "> 3.2"
                                                                        : "Borderline" ===
                                                                            R.conduitOptions[A]?.jamStatus
                                                                          ? "2.8 - 3.2"
                                                                          : "High Risk" ===
                                                                              R.conduitOptions[A]?.jamStatus
                                                                            ? "< 2.8"
                                                                            : "--",
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "space-y-2",
                                                children: [
                                                    _jsx("h4", {
                                                        className: "font-semibold text-gray-700 dark:text-gray-300 text-sm",
                                                        children: "Analysis & Recommendations:",
                                                    }),
                                                    !R.conduitOptions[A]?.compliant &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-red-100 border-red-200 dark:border-red-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "❌" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className: "font-semibold text-red-800 dark:text-red-200",
                                                                                children: "NEC Violation: ",
                                                                            }),
                                                                            _jsxs("span", {
                                                                                className: "text-red-700",
                                                                                children: [
                                                                                    "Fill exceeds ",
                                                                                    R.fillPercentAllowed,
                                                                                    "% limit. Select a larger conduit.",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                    R.conduitOptions[A]?.compliant &&
                                                        R.totalCables >= 3 &&
                                                        "High Risk" === R.conduitOptions[A]?.jamStatus &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-red-100 border-red-200 dark:border-red-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "⚠️" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className: "font-semibold text-red-800 dark:text-red-200",
                                                                                children: "High JAM Risk (AVIXA): ",
                                                                            }),
                                                                            _jsxs("span", {
                                                                                className: "text-red-700",
                                                                                children: [
                                                                                    "JAM ratio of ",
                                                                                    R.conduitOptions[A]?.jamRatio,
                                                                                    " is below 2.8. High probability of cables jamming during pull.",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                    R.conduitOptions[A]?.compliant &&
                                                        R.totalCables >= 3 &&
                                                        "Borderline" === R.conduitOptions[A]?.jamStatus &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-yellow-100 border-yellow-200 dark:border-yellow-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "⚠️" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "font-semibold text-yellow-800 dark:text-yellow-200",
                                                                                children:
                                                                                    "Borderline JAM Risk (AVIXA): ",
                                                                            }),
                                                                            _jsxs("span", {
                                                                                className: "text-yellow-700",
                                                                                children: [
                                                                                    "JAM ratio of ",
                                                                                    R.conduitOptions[A]?.jamRatio,
                                                                                    " is in the borderline range (2.8-3.2). Cable pulling may be difficult.",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                    R.conduitOptions[A]?.compliant &&
                                                        R.totalCables >= 3 &&
                                                        ("Borderline" === R.conduitOptions[A]?.jamStatus ||
                                                            "High Risk" === R.conduitOptions[A]?.jamStatus) &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-amber-100 border-amber-200 dark:border-amber-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "💡" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "font-semibold text-amber-800 dark:text-amber-200",
                                                                                children: "Recommendation: ",
                                                                            }),
                                                                            _jsx("span", {
                                                                                className: "text-amber-700",
                                                                                children:
                                                                                    "Use cable pulling lubricant and pull cables slowly to minimize risk.",
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                    R.conduitOptions[A]?.compliant &&
                                                        R.conduitOptions[A]?.actualFillPercent >=
                                                            R.fillPercentAllowed - 5 &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "ℹ️" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "font-semibold text-blue-800 dark:text-blue-200",
                                                                                children: "Near Maximum Fill: ",
                                                                            }),
                                                                            _jsxs("span", {
                                                                                className: "text-blue-700",
                                                                                children: [
                                                                                    R.conduitOptions[A]
                                                                                        ?.actualFillPercent,
                                                                                    "% fill is close to NEC limit of ",
                                                                                    R.fillPercentAllowed,
                                                                                    "%. Limited room for future cables.",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                    R.conduitOptions[A]?.compliant &&
                                                        (R.totalCables < 3 ||
                                                            "Low Risk" === R.conduitOptions[A]?.jamStatus) &&
                                                        R.conduitOptions[A]?.actualFillPercent <
                                                            R.fillPercentAllowed - 5 &&
                                                        _jsx("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-sm bg-green-100 border-green-200 dark:border-green-800",
                                                            children: _jsxs("div", {
                                                                className: "flex gap-2",
                                                                children: [
                                                                    _jsx("span", { children: "✅" }),
                                                                    _jsxs("div", {
                                                                        children: [
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "font-semibold text-green-800 dark:text-green-200",
                                                                                children: "Good Selection: ",
                                                                            }),
                                                                            _jsx("span", {
                                                                                className: "text-green-700",
                                                                                children:
                                                                                    "This conduit size meets NEC requirements with comfortable margin and low JAM risk.",
                                                                            }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        !R.exceedsMaximum &&
                            R.totalCables >= 3 &&
                            "Low Risk" !== R.conduitOptions[A]?.jamStatus &&
                            _jsxs("div", {
                                className: "bg-amber-50 dark:bg-amber-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border border-amber-300",
                                children: [
                                    _jsxs("h2", {
                                        className:
                                            "text-lg sm:text-xl font-semibold text-amber-800 dark:text-amber-200 mb-4 flex items-center gap-2",
                                        children: [_jsx("span", { children: "⚠️" }), " JAM Risk - Recommendations"],
                                    }),
                                    (() => {
                                        const e = R.conduitOptions.find(
                                            (e) => "Low Risk" === e.jamStatus && e.compliant
                                        );
                                        return (
                                            e &&
                                            _jsxs("div", {
                                                className:
                                                    "mb-4 p-3 sm:p-4 bg-white dark:bg-gray-800 rounded-lg border border-amber-200 dark:border-amber-800",
                                                children: [
                                                    _jsx("h3", {
                                                        className: "font-semibold text-amber-700 mb-2",
                                                        children: "Option 1: Use Larger Conduit",
                                                    }),
                                                    _jsxs("p", {
                                                        className: "text-sm text-amber-800 dark:text-amber-200 mb-2",
                                                        children: [
                                                            "Upgrade to ",
                                                            _jsx("strong", { children: e.trade }),
                                                            " EMT (ID: ",
                                                            e.id,
                                                            '") for a safe JAM ratio of ',
                                                            _jsx("strong", { children: e.jamRatio }),
                                                            ".",
                                                        ],
                                                    }),
                                                    _jsx("span", {
                                                        className:
                                                            "inline-block px-2 py-1 text-xs rounded bg-green-600 text-white",
                                                        children: "Low Risk - Safe to Pull",
                                                    }),
                                                ],
                                            })
                                        );
                                    })(),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                            children: [
                                _jsx("h2", {
                                    className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                                    children: "AVIXA JAM Ratio Standard",
                                }),
                                _jsxs("p", {
                                    className: "text-xs sm:text-sm text-blue-700 mb-3",
                                    children: [
                                        _jsx("strong", { children: "JAM (Jamming)" }),
                                        " occurs when three or more cables wedge together during pulling. The JAM ratio predicts this probability using the average cable diameter.",
                                    ],
                                }),
                                _jsx("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-200 dark:border-blue-800 mb-3",
                                    children: _jsxs("p", {
                                        className: "text-xs sm:text-sm font-mono text-blue-800 dark:text-blue-200 mb-1",
                                        children: [
                                            _jsx("strong", { children: "Formula:" }),
                                            " JAM = Conduit ID ÷ Average Cable OD",
                                        ],
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-3 gap-2 sm:gap-3 text-xs",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-red-700",
                                                    children: "JAM < 2.8",
                                                }),
                                                _jsx("div", { className: "text-red-600", children: "High Risk" }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded border border-yellow-200 dark:border-yellow-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-yellow-700",
                                                    children: "JAM 2.8-3.2",
                                                }),
                                                _jsx("div", { className: "text-yellow-600", children: "Borderline" }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-green-700",
                                                    children: "JAM > 3.2",
                                                }),
                                                _jsx("div", { className: "text-green-600", children: "Low Risk" }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
            "single" === x &&
                _jsxs("div", {
                    className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                    children: [
                        _jsx("h2", {
                            className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                            children: "AVIXA JAM Ratio Standard",
                        }),
                        _jsxs("p", {
                            className: "text-xs sm:text-sm text-blue-700 mb-3",
                            children: [
                                _jsx("strong", { children: "JAM (Jamming)" }),
                                " occurs when three or more cables wedge together during pulling. The JAM ratio predicts this probability and is automatically calculated based on the recommended conduit size.",
                            ],
                        }),
                        _jsx("div", {
                            className: "bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-200 dark:border-blue-800 mb-3",
                            children: _jsxs("p", {
                                className: "text-xs sm:text-sm font-mono text-blue-800 dark:text-blue-200 mb-1",
                                children: [_jsx("strong", { children: "Formula:" }), " JAM = Conduit ID ÷ Cable OD"],
                            }),
                        }),
                        _jsxs("div", {
                            className: "grid grid-cols-3 gap-2 sm:gap-3 text-xs",
                            children: [
                                _jsxs("div", {
                                    className: "bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800 text-center",
                                    children: [
                                        _jsx("div", { className: "font-bold text-red-700", children: "JAM < 2.8" }),
                                        _jsx("div", { className: "text-red-600", children: "High Risk" }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded border border-yellow-200 dark:border-yellow-800 text-center",
                                    children: [
                                        _jsx("div", { className: "font-bold text-yellow-700", children: "2.8 - 3.2" }),
                                        _jsx("div", { className: "text-yellow-600", children: "Borderline" }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-2 rounded border border-green-200 dark:border-green-800 text-center",
                                    children: [
                                        _jsx("div", { className: "font-bold text-green-700", children: "JAM > 3.2" }),
                                        _jsx("div", { className: "text-green-600", children: "Low Risk" }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
            "single" === x &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-8 mb-6 sm:mb-8 border",
                    children: [
                        _jsx("h2", {
                            className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                            children: "Cable Configuration",
                        }),
                        _jsxs("div", {
                            className: "grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",
                            children: [
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Number of Cables",
                                        }),
                                        _jsxs("div", {
                                            className: "flex gap-2 mb-2",
                                            children: [
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    max: "100",
                                                    value: e,
                                                    onChange: (e) => {
                                                        if ("" === e.target.value) return void t("");
                                                        const s = parseInt(e.target.value);
                                                        isNaN(s) || t(Math.min(100, s));
                                                    },
                                                    className:
                                                        "w-20 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-center font-bold text-blue-600",
                                                }),
                                                _jsx("span", {
                                                    className: "text-sm text-gray-500 dark:text-gray-400 self-center",
                                                    children: "cables",
                                                }),
                                            ],
                                        }),
                                        _jsx("input", {
                                            type: "range",
                                            min: "1",
                                            max: "24",
                                            value: Math.min(e, 24),
                                            onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                            className:
                                                "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                        }),
                                        _jsxs("div", {
                                            className: "flex justify-between text-xs text-gray-400 mt-1",
                                            children: [
                                                _jsx("span", { children: "1" }),
                                                _jsx("span", { children: "6" }),
                                                _jsx("span", { children: "12" }),
                                                _jsx("span", { children: "18" }),
                                                _jsx("span", { children: "24" }),
                                            ],
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: "Use slider for quick select or type any number (1-100)",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Cable Outer Diameter",
                                        }),
                                        _jsxs("div", {
                                            className: "flex gap-2",
                                            children: [
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.01",
                                                    value: s,
                                                    onChange: (e) =>
                                                        a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "flex-1 px-3 sm:px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsxs("select", {
                                                    value: r,
                                                    onChange: (e) => {
                                                        return (t = e.target.value), l(t), void M(t);
                                                        var t;
                                                    },
                                                    className:
                                                        "px-2 sm:px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-gray-50 dark:bg-gray-900/50",
                                                    children: [
                                                        _jsx("option", { value: "in", children: "in" }),
                                                        _jsx("option", { value: "mm", children: "mm" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: "Total outer diameter including jacket",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "sm:col-span-2 lg:col-span-1",
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Common Cable Sizes",
                                        }),
                                        _jsx("div", {
                                            className: "flex flex-wrap gap-1 sm:gap-2",
                                            children: ("in" === r
                                                ? [
                                                      { label: "Cat6", od: 0.25 },
                                                      { label: "Cat6A", od: 0.32 },
                                                      { label: "RG6", od: 0.27 },
                                                      { label: "RG59", od: 0.24 },
                                                      { label: "12/2 Romex", od: 0.45 },
                                                  ]
                                                : [
                                                      { label: "Cat6", od: 6.35 },
                                                      { label: "Cat6A", od: 8.13 },
                                                      { label: "RG6", od: 6.86 },
                                                      { label: "RG59", od: 6.1 },
                                                      { label: "12/2 NM", od: 11.4 },
                                                  ]
                                            ).map((e) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => a(e.od),
                                                        className:
                                                            "px-2 py-1 text-xs rounded border transition-colors cursor-pointer " +
                                                            (Math.abs(s - e.od) < 0.01
                                                                ? "bg-blue-600 text-white border-blue-600"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                        children: e.label,
                                                    },
                                                    e.label
                                                )
                                            ),
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsx("button", {
                            type: "button",
                            onClick: () => {
                                const t = _0xb9cb50(e, s, r);
                                if ((n(t), t._0xd93e1a)) {
                                    const e = t._0xf639dc.findIndex((e) => e.trade === t._0xd93e1a.trade);
                                    d(e), I(e, t);
                                } else d(null), m(null);
                            },
                            className:
                                "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                            children: "Calculate Conduit Size & JAM Ratio",
                        }),
                    ],
                }),
            "single" === x &&
                i &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        i.exceedsMaximum &&
                            _jsxs("div", {
                                className: "bg-red-50 dark:bg-red-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border-2 border-red-300",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-3",
                                        children: [
                                            _jsx("span", { className: "text-2xl", children: "⚠️" }),
                                            _jsx("h2", {
                                                className: "text-lg sm:text-xl font-bold text-red-800 dark:text-red-200",
                                                children: "Exceeds Maximum Single Conduit Capacity",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-red-700 mb-4",
                                        children:
                                            'The cable quantity exceeds what can fit in a single 4" conduit per NEC Chapter 9. Multiple conduits are required.',
                                    }),
                                    i.exceedsMultiConduitOptions &&
                                        i.exceedsMultiConduitOptions.length > 0 &&
                                        _jsxs("div", {
                                            className: "mb-4",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-red-800 dark:text-red-200 mb-2",
                                                    children: "📋 Multi-Conduit Recommendations:",
                                                }),
                                                _jsx("div", {
                                                    className: "grid sm:grid-cols-2 lg:grid-cols-3 gap-3",
                                                    children: i.exceedsMultiConduitOptions.map((e, t) =>
                                                        _jsxs(
                                                            "div",
                                                            {
                                                                className:
                                                                    "p-3 rounded-lg border-2 " +
                                                                    (0 === t
                                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-400"
                                                                        : "bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"),
                                                                children: [
                                                                    0 === t &&
                                                                        _jsx("div", {
                                                                            className:
                                                                                "text-xs font-bold text-green-700 mb-1",
                                                                            children: "✓ RECOMMENDED",
                                                                        }),
                                                                    _jsxs("div", {
                                                                        className: "text-lg font-bold text-gray-800",
                                                                        children: [
                                                                            e.count,
                                                                            "× ",
                                                                            e.conduit.trade,
                                                                            " Conduits",
                                                                        ],
                                                                    }),
                                                                    _jsxs("div", {
                                                                        className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                                        children: [
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Cables per conduit: ",
                                                                                    e.cablesEach,
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Fill: ",
                                                                                    e.fillPercent,
                                                                                    "% ",
                                                                                    e.compliant ? "✓" : "⚠",
                                                                                ],
                                                                            }),
                                                                            e.jamRatio &&
                                                                                _jsxs("div", {
                                                                                    children: [
                                                                                        "JAM Ratio: ",
                                                                                        e.jamRatio,
                                                                                        " (",
                                                                                        e.jamRisk,
                                                                                        ")",
                                                                                    ],
                                                                                }),
                                                                        ],
                                                                    }),
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                    i.bestPractices &&
                                        i.bestPractices.length > 0 &&
                                        _jsxs("div", {
                                            className: "mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg",
                                            children: [
                                                _jsx("h4", {
                                                    className: "font-semibold text-gray-800 mb-2",
                                                    children: "💡 Best Practices:",
                                                }),
                                                _jsx("ul", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                    children: i.bestPractices.map((e, t) =>
                                                        _jsxs(
                                                            "li",
                                                            {
                                                                className: "flex items-start gap-2",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "text-blue-500",
                                                                        children: "•",
                                                                    }),
                                                                    e,
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsxs("div", {
                                    className: "mb-4",
                                    children: _jsx("h2", {
                                        className: "text-lg sm:text-xl font-semibold text-gray-800",
                                        children: i.exceedsMaximum
                                            ? "Largest Available Conduit (Insufficient)"
                                            : "Recommended Conduit",
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: i.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-4 sm:p-5 rounded-lg border-2 border-red-300"
                                                : "bg-blue-50 dark:bg-blue-900/20 p-4 sm:p-5 rounded-lg border-2 border-blue-300",
                                            children: [
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs text-red-600 font-medium"
                                                        : "text-xs text-blue-600 font-medium",
                                                    children: i.exceedsMaximum
                                                        ? "Largest Conduit"
                                                        : "Recommended Conduit",
                                                }),
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-2xl sm:text-3xl font-bold text-red-700"
                                                        : "text-2xl sm:text-3xl font-bold text-blue-700",
                                                    children: i._0xd93e1a ? i._0xd93e1a.trade : '4"',
                                                }),
                                                _jsxs("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs sm:text-sm text-red-600"
                                                        : "text-xs sm:text-sm text-blue-600",
                                                    children: [
                                                        "ID: ",
                                                        i._0xd93e1a ? i._0xd93e1a.id : "4.334",
                                                        '" (',
                                                        i._0xd93e1a
                                                            ? Math.round(25.4 * i._0xd93e1a.id * 10) / 10
                                                            : "110.1",
                                                        "mm)",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: i.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-4 sm:p-5 rounded-lg border-2 border-red-300"
                                                : "bg-green-50 dark:bg-green-900/20 p-4 sm:p-5 rounded-lg border-2 border-green-300",
                                            children: [
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs text-red-600 font-medium"
                                                        : "text-xs text-green-600 font-medium",
                                                    children: "Conduit Fill",
                                                }),
                                                _jsxs("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-2xl sm:text-3xl font-bold text-red-700"
                                                        : "text-2xl sm:text-3xl font-bold text-green-700",
                                                    children: [i.actualFillPercent, "%"],
                                                }),
                                                _jsxs("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs sm:text-sm text-red-600"
                                                        : "text-xs sm:text-sm text-green-600",
                                                    children: [
                                                        i.exceedsMaximum ? "❌ Exceeds " : "Max allowed: ",
                                                        i.fillPercentage,
                                                        "%",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: i.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-4 sm:p-5 rounded-lg border-2 border-red-300"
                                                : "bg-purple-50 dark:bg-purple-900/20 p-4 sm:p-5 rounded-lg border-2 border-purple-300",
                                            children: [
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs text-red-600 font-medium"
                                                        : "text-xs text-purple-600 font-medium",
                                                    children: "JAM Ratio",
                                                }),
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-2xl sm:text-3xl font-bold text-red-700"
                                                        : "text-2xl sm:text-3xl font-bold text-purple-700",
                                                    children: i.exceedsMaximum ? "N/A" : i.jamRatio,
                                                }),
                                                _jsxs("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs sm:text-sm text-red-600"
                                                        : "text-xs sm:text-sm text-purple-600",
                                                    children: i.exceedsMaximum
                                                        ? "Fill limit exceeded"
                                                        : [
                                                              i._0xd93e1a ? i._0xd93e1a.id : "4.334",
                                                              '" ÷ ',
                                                              i.outerDiameterInches.toFixed(3),
                                                              '"',
                                                          ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: i.exceedsMaximum
                                                ? "bg-red-50 dark:bg-red-900/20 p-4 sm:p-5 rounded-lg border-2 border-red-300"
                                                : `p-4 sm:p-5 rounded-lg border-2 ${((e) => {
                                                      const t = {
                                                          red: "bg-red-100 border-red-300 text-red-800 dark:text-red-200",
                                                          yellow: "bg-yellow-100 border-yellow-300 text-yellow-800 dark:text-yellow-200",
                                                          green: "bg-green-100 border-green-300 text-green-800 dark:text-green-200",
                                                          gray: "bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400",
                                                      };
                                                      return t[e] || t.gray;
                                                  })(i.jamRiskColor)}`,
                                            children: [
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs text-red-600 font-medium"
                                                        : "text-xs font-medium opacity-80",
                                                    children: "JAM Risk",
                                                }),
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-2xl sm:text-3xl font-bold text-red-700"
                                                        : "text-2xl sm:text-3xl font-bold",
                                                    children: i.exceedsMaximum ? "N/A" : i.jamRisk,
                                                }),
                                                _jsx("div", {
                                                    className: i.exceedsMaximum
                                                        ? "text-xs sm:text-sm text-red-600"
                                                        : "text-xs sm:text-sm opacity-80",
                                                    children: i.exceedsMaximum
                                                        ? "⚠ Fill exceeded"
                                                        : "N/A" === i.jamRisk
                                                          ? "Only for 3+ cables"
                                                          : "Low Risk" === i.jamRisk
                                                            ? "✓ Safe to pull"
                                                            : "Borderline" === i.jamRisk
                                                              ? "⚠ Use caution"
                                                              : "⚠ See recommendations",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "p-3 sm:p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg text-xs sm:text-sm",
                                    children: _jsxs("div", {
                                        className: "grid sm:grid-cols-3 gap-2 sm:gap-4",
                                        children: [
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Cables:" }),
                                                    " ",
                                                    _jsxs("strong", {
                                                        children: [i.cableQty, " × ", i.outerDiameter, " ", i.unit],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Min ID Required:",
                                                    }),
                                                    " ",
                                                    _jsxs("strong", {
                                                        children: [
                                                            i.minRequiredIDInches,
                                                            '" (',
                                                            Math.round(25.4 * i.minRequiredIDInches * 10) / 10,
                                                            "mm)",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "NEC Fill Rule:",
                                                    }),
                                                    " ",
                                                    _jsxs("strong", {
                                                        children: [
                                                            i.fillPercentage,
                                                            "% (",
                                                            i.cableQty >= 3
                                                                ? "3+ cables"
                                                                : 2 === i.cableQty
                                                                  ? "2 cables"
                                                                  : "1 cable",
                                                            ")",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                        !i.exceedsMaximum &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                                children: [
                                    _jsx("h2", {
                                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-2",
                                        children: "Adjust Conduit Size",
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                                        children:
                                            "Slide to explore different conduit sizes and see how they affect fill percentage and JAM risk per NEC and AVIXA standards.",
                                    }),
                                    _jsxs("div", {
                                        className: "mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex justify-between items-center mb-2",
                                                children: [
                                                    _jsxs("label", {
                                                        className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                        children: [
                                                            "Selected Conduit: ",
                                                            _jsx("span", {
                                                                className: "font-bold text-blue-600 text-lg",
                                                                children: i._0xf639dc[o]?.trade || "--",
                                                            }),
                                                        ],
                                                    }),
                                                    c &&
                                                        "minimum" === c.comparison &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded",
                                                            children: "NEC Minimum",
                                                        }),
                                                    c &&
                                                        "undersized" === c.comparison &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-red-100 text-red-700 rounded",
                                                            children: "Below NEC Minimum",
                                                        }),
                                                    c &&
                                                        "oversized" === c.comparison &&
                                                        _jsx("span", {
                                                            className:
                                                                "px-2 py-1 text-xs bg-green-100 text-green-700 rounded",
                                                            children: "Above NEC Minimum",
                                                        }),
                                                ],
                                            }),
                                            _jsx("input", {
                                                type: "range",
                                                min: "0",
                                                max: i._0xf639dc.length - 1,
                                                value: null !== o ? o : 0,
                                                onChange: (e) => E(parseInt(e.target.value)),
                                                className:
                                                    "w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                            }),
                                            _jsx("div", {
                                                className:
                                                    "flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1 overflow-x-auto",
                                                children: i._0xf639dc.map((e, t) =>
                                                    _jsx(
                                                        "span",
                                                        {
                                                            className: `px-1 ${t === o ? "font-bold text-blue-600" : ""} ${i._0xd93e1a?.trade === e.trade ? "text-blue-500" : ""}`,
                                                            children: e.trade,
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                            _jsxs("div", {
                                                className: "flex flex-wrap gap-2 mt-4",
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 self-center",
                                                        children: "Quick Select:",
                                                    }),
                                                    i._0xf639dc
                                                        .slice(0, 6)
                                                        .map((e, t) =>
                                                            _jsxs(
                                                                "button",
                                                                {
                                                                    onClick: () => E(t),
                                                                    className:
                                                                        "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                                        (o === t
                                                                            ? "bg-blue-600 text-white border-blue-600"
                                                                            : i._0xd93e1a?.trade === e.trade
                                                                              ? "bg-blue-50 dark:bg-blue-900/20 text-blue-700 border-blue-300 hover:bg-blue-100"
                                                                              : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:bg-gray-900/50"),
                                                                    children: [
                                                                        e.trade,
                                                                        i._0xd93e1a?.trade === e.trade &&
                                                                            _jsx("span", {
                                                                                className: "ml-1 text-xs",
                                                                                children: "★",
                                                                            }),
                                                                    ],
                                                                },
                                                                t
                                                            )
                                                        ),
                                                ],
                                            }),
                                        ],
                                    }),
                                    c &&
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border-2 " +
                                                ("error" === c.status
                                                    ? "bg-red-50 dark:bg-red-900/20 border-red-300"
                                                    : "warning" === c.status
                                                      ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                                      : "caution" === c.status
                                                        ? "bg-amber-50 dark:bg-amber-900/20 border-amber-300"
                                                        : "bg-green-50 dark:bg-green-900/20 border-green-300"),
                                            children: [
                                                _jsxs("div", {
                                                    className: "grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "text-center p-3 bg-white dark:bg-gray-800 rounded-lg border",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                    children: "Conduit",
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xl font-bold text-gray-800",
                                                                    children: c.conduit.trade,
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children: ["ID: ", c.conduit.id, '"'],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className:
                                                                "text-center p-3 rounded-lg border " +
                                                                (c.exceedsNEC
                                                                    ? "bg-red-100 border-red-300"
                                                                    : "bg-white dark:bg-gray-800"),
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                    children: "Fill %",
                                                                }),
                                                                _jsxs("div", {
                                                                    className:
                                                                        "text-xl font-bold " +
                                                                        (c.exceedsNEC
                                                                            ? "text-red-600"
                                                                            : "text-green-600"),
                                                                    children: [c.fillPercent, "%"],
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children: ["Limit: ", c.necLimit, "%"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "text-center p-3 bg-white dark:bg-gray-800 rounded-lg border",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                    children: "JAM Ratio",
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xl font-bold text-purple-600",
                                                                    children: c.jamRatio,
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children:
                                                                        i.cableQty >= 3 ? "ID ÷ OD" : "N/A (<3 cables)",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className:
                                                                "text-center p-3 rounded-lg border " +
                                                                ("red" === c.jamRiskColor
                                                                    ? "bg-red-100 border-red-300"
                                                                    : "yellow" === c.jamRiskColor
                                                                      ? "bg-yellow-100 border-yellow-300"
                                                                      : "green" === c.jamRiskColor
                                                                        ? "bg-green-100 border-green-300"
                                                                        : "bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"),
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400 font-medium",
                                                                    children: "JAM Risk",
                                                                }),
                                                                _jsx("div", {
                                                                    className:
                                                                        "text-xl font-bold " +
                                                                        ("red" === c.jamRiskColor
                                                                            ? "text-red-600"
                                                                            : "yellow" === c.jamRiskColor
                                                                              ? "text-yellow-600"
                                                                              : "green" === c.jamRiskColor
                                                                                ? "text-green-600"
                                                                                : "text-gray-600 dark:text-gray-400"),
                                                                    children: c.jamRisk,
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children:
                                                                        "Low Risk" === c.jamRisk
                                                                            ? "> 3.2"
                                                                            : "Borderline" === c.jamRisk
                                                                              ? "2.8 - 3.2"
                                                                              : "High Risk" === c.jamRisk
                                                                                ? "< 2.8"
                                                                                : "--",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-2",
                                                    children: [
                                                        _jsx("h4", {
                                                            className: "font-semibold text-gray-700 dark:text-gray-300 text-sm",
                                                            children: "Analysis & Recommendations:",
                                                        }),
                                                        c.recommendations.map((e, t) =>
                                                            _jsx(
                                                                "div",
                                                                {
                                                                    className:
                                                                        "p-3 rounded-lg border text-sm " +
                                                                        ("error" === e.type
                                                                            ? "bg-red-100 border-red-200 dark:border-red-800"
                                                                            : "warning" === e.type
                                                                              ? "bg-yellow-100 border-yellow-200 dark:border-yellow-800"
                                                                              : "caution" === e.type
                                                                                ? "bg-amber-100 border-amber-200 dark:border-amber-800"
                                                                                : "success" === e.type
                                                                                  ? "bg-green-100 border-green-200 dark:border-green-800"
                                                                                  : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),
                                                                    children: _jsxs("div", {
                                                                        className: "flex gap-2",
                                                                        children: [
                                                                            _jsx("span", { children: e.icon }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    _jsxs("span", {
                                                                                        className:
                                                                                            "font-semibold " +
                                                                                            ("error" === e.type
                                                                                                ? "text-red-800 dark:text-red-200"
                                                                                                : "warning" === e.type
                                                                                                  ? "text-yellow-800 dark:text-yellow-200"
                                                                                                  : "caution" === e.type
                                                                                                    ? "text-amber-800 dark:text-amber-200"
                                                                                                    : "success" ===
                                                                                                        e.type
                                                                                                      ? "text-green-800 dark:text-green-200"
                                                                                                      : "text-blue-800 dark:text-blue-200"),
                                                                                        children: [e.title, ": "],
                                                                                    }),
                                                                                    _jsx("span", {
                                                                                        className:
                                                                                            "error" === e.type
                                                                                                ? "text-red-700"
                                                                                                : "warning" === e.type
                                                                                                  ? "text-yellow-700"
                                                                                                  : "caution" === e.type
                                                                                                    ? "text-amber-700"
                                                                                                    : "success" ===
                                                                                                        e.type
                                                                                                      ? "text-green-700"
                                                                                                      : "text-blue-700",
                                                                                        children: e.text,
                                                                                    }),
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                },
                                                                t
                                                            )
                                                        ),
                                                    ],
                                                }),
                                                "minimum" !== c.comparison &&
                                                    _jsxs("div", {
                                                        className: "mt-3 p-2 bg-white dark:bg-gray-800 rounded text-xs text-gray-600 dark:text-gray-400",
                                                        children: [
                                                            _jsx("strong", { children: "Note:" }),
                                                            " NEC minimum for ",
                                                            i.cableQty,
                                                            " × ",
                                                            i.outerDiameter,
                                                            i.unit,
                                                            " cables is ",
                                                            _jsx("strong", { children: c.necMinConduit?.trade }),
                                                            ".",
                                                            "oversized" === c.comparison &&
                                                                " You have selected a larger size, which improves pull ease and allows for future expansion.",
                                                            "undersized" === c.comparison &&
                                                                " The selected size is too small and would violate NEC requirements.",
                                                        ],
                                                    }),
                                            ],
                                        }),
                                ],
                            }),
                        !i.exceedsMaximum &&
                            i.cableQty >= 3 &&
                            "Low Risk" !== i.jamRisk &&
                            _jsxs("div", {
                                className: "bg-amber-50 dark:bg-amber-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border border-amber-300",
                                children: [
                                    _jsxs("h2", {
                                        className:
                                            "text-lg sm:text-xl font-semibold text-amber-800 dark:text-amber-200 mb-4 flex items-center gap-2",
                                        children: [_jsx("span", { children: "⚠️" }), " JAM Risk - Recommendations"],
                                    }),
                                    i.safeJamConduit &&
                                        _jsxs("div", {
                                            className: "mb-4 p-3 sm:p-4 bg-white dark:bg-gray-800 rounded-lg border border-amber-200 dark:border-amber-800",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-amber-700 mb-2",
                                                    children: "Option 1: Use Larger Conduit",
                                                }),
                                                _jsxs("p", {
                                                    className: "text-sm text-amber-800 dark:text-amber-200 mb-2",
                                                    children: [
                                                        "Upgrade to ",
                                                        _jsx("strong", { children: i.safeJamConduit.trade }),
                                                        " EMT (ID: ",
                                                        i.safeJamConduit.id,
                                                        '") for a safe JAM ratio of ',
                                                        _jsx("strong", { children: i.safeJamRatio }),
                                                        ".",
                                                    ],
                                                }),
                                                _jsx("span", {
                                                    className: `inline-block px-2 py-1 text-xs rounded ${F("Low Risk")}`,
                                                    children: "Low Risk - Safe to Pull",
                                                }),
                                            ],
                                        }),
                                    i.multiConduitOptions.length > 0 &&
                                        _jsxs("div", {
                                            className: "p-3 sm:p-4 bg-white dark:bg-gray-800 rounded-lg border border-amber-200 dark:border-amber-800",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-amber-700 mb-3",
                                                    children:
                                                        "Option 2: Split Into Multiple Conduits (AVIXA Best Practice)",
                                                }),
                                                _jsx("div", {
                                                    className: "grid sm:grid-cols-2 gap-3",
                                                    children: i.multiConduitOptions.map((e, t) =>
                                                        _jsxs(
                                                            "div",
                                                            {
                                                                className:
                                                                    "p-3 rounded-lg border " +
                                                                    ("Low Risk" === e.jamRisk
                                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                                        : "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"),
                                                                children: [
                                                                    _jsxs("div", {
                                                                        className: "font-semibold text-gray-800 mb-1",
                                                                        children: [
                                                                            e.count,
                                                                            " × ",
                                                                            e.conduit.trade,
                                                                            " Conduits",
                                                                        ],
                                                                    }),
                                                                    _jsxs("div", {
                                                                        className:
                                                                            "text-xs sm:text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                                        children: [
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    e.cablesEach,
                                                                                    " cables per conduit",
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "JAM Ratio: ",
                                                                                    _jsx("strong", {
                                                                                        children: e.jamRatio,
                                                                                    }),
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Fill: ",
                                                                                    e.fillPercent,
                                                                                    "%",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                    _jsx("span", {
                                                                        className: `inline-block mt-2 px-2 py-1 text-xs rounded ${F(e.jamRisk)}`,
                                                                        children: e.jamRisk,
                                                                    }),
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-amber-700 mt-3",
                                                    children:
                                                        "💡 Splitting cables into multiple conduits reduces JAM risk and makes future cable additions easier.",
                                                }),
                                            ],
                                        }),
                                ],
                            }),
                        !i.exceedsMaximum &&
                            i.cableQty >= 3 &&
                            "Low Risk" === i.jamRisk &&
                            _jsxs("div", {
                                className: "bg-green-50 dark:bg-green-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border border-green-300",
                                children: [
                                    _jsxs("h2", {
                                        className:
                                            "text-lg sm:text-xl font-semibold text-green-800 dark:text-green-200 mb-2 flex items-center gap-2",
                                        children: [_jsx("span", { children: "✅" }), " Safe Configuration"],
                                    }),
                                    _jsxs("p", {
                                        className: "text-sm text-green-700",
                                        children: [
                                            "With a JAM ratio of ",
                                            i.jamRatio,
                                            ", the recommended ",
                                            i._0xd93e1a?.trade,
                                            " conduit provides low risk of cable jamming during installation. Safe to proceed with cable pull.",
                                        ],
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "NEC Conduit Fill Requirements",
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-3 gap-2 sm:gap-3 text-xs sm:text-sm mb-4",
                                    children: [
                                        _jsxs("div", {
                                            className:
                                                "p-3 rounded-lg border-2 text-center " +
                                                (1 === i.cableQty
                                                    ? "bg-blue-100 border-blue-400"
                                                    : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"),
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-gray-700 dark:text-gray-300",
                                                    children: "1 Cable",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-blue-600",
                                                    children: "53%",
                                                }),
                                                _jsx("div", { className: "text-gray-500 dark:text-gray-400", children: "Max Fill" }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "p-3 rounded-lg border-2 text-center " +
                                                (2 === i.cableQty
                                                    ? "bg-blue-100 border-blue-400"
                                                    : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"),
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-gray-700 dark:text-gray-300",
                                                    children: "2 Cables",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-blue-600",
                                                    children: "31%",
                                                }),
                                                _jsx("div", { className: "text-gray-500 dark:text-gray-400", children: "Max Fill" }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "p-3 rounded-lg border-2 text-center " +
                                                (i.cableQty >= 3
                                                    ? "bg-blue-100 border-blue-400"
                                                    : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"),
                                            children: [
                                                _jsx("div", {
                                                    className: "font-bold text-gray-700 dark:text-gray-300",
                                                    children: "3+ Cables",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-blue-600",
                                                    children: "40%",
                                                }),
                                                _jsx("div", { className: "text-gray-500 dark:text-gray-400", children: "Max Fill" }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsxs("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: [
                                        "EMT Conduit Sizes Reference",
                                        i.exceedsMaximum &&
                                            _jsx("span", {
                                                className: "ml-2 text-sm font-normal text-red-600",
                                                children: "(All sizes exceeded - multiple conduits required)",
                                            }),
                                        !i.exceedsMaximum &&
                                            c &&
                                            c.conduit &&
                                            _jsxs("span", {
                                                className: "ml-2 text-sm font-normal text-purple-600",
                                                children: ["(selected: ", c.conduit.trade, ")"],
                                            }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-xs sm:text-sm",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "bg-gray-100 dark:bg-gray-700",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "Trade Size",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "Actual ID",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "Metric",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "Fill %",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "JAM Ratio*",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-2 sm:px-3 py-2 text-left",
                                                            children: "Status",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsx("tbody", {
                                                children: i._0xf639dc.map((e, t) => {
                                                    const s = e.id / i.outerDiameterInches,
                                                        a =
                                                            i.cableQty *
                                                            Math.PI *
                                                            Math.pow(i.outerDiameterInches / 2, 2),
                                                        r = Math.PI * Math.pow(e.id / 2, 2),
                                                        l = Math.round((a / r) * 100),
                                                        n = i._0xd93e1a?.trade === e.trade,
                                                        o = !i.exceedsMaximum && c?.conduit?.trade === e.trade,
                                                        d = !i.exceedsMaximum && i.safeJamConduit?.trade === e.trade;
                                                    let m =
                                                        i.cableQty < 3
                                                            ? "N/A"
                                                            : s < 2.8
                                                              ? "High Risk"
                                                              : s <= 3.2
                                                                ? "Borderline"
                                                                : "Low Risk";
                                                    const x = l > (1 === i.cableQty ? 53 : 2 === i.cableQty ? 31 : 40),
                                                        u = i.exceedsMaximum
                                                            ? "bg-red-50 dark:bg-red-900/20"
                                                            : o
                                                              ? "bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800"
                                                              : n
                                                                ? "bg-blue-50 dark:bg-blue-900/20"
                                                                : d
                                                                  ? "bg-green-50 dark:bg-green-900/20"
                                                                  : "";
                                                    return _jsxs(
                                                        "tr",
                                                        {
                                                            className: `border-b ${u}`,
                                                            children: [
                                                                _jsxs("td", {
                                                                    className: "px-2 sm:px-3 py-2 font-medium",
                                                                    children: [
                                                                        e.trade,
                                                                        i.exceedsMaximum &&
                                                                            t === i._0xf639dc.length - 1 &&
                                                                            _jsx("span", {
                                                                                className: "ml-1 text-red-600 text-xs",
                                                                                children: "← Largest",
                                                                            }),
                                                                        !i.exceedsMaximum &&
                                                                            o &&
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "ml-1 text-purple-600 text-xs",
                                                                                children: "← Selected",
                                                                            }),
                                                                        !i.exceedsMaximum &&
                                                                            n &&
                                                                            !o &&
                                                                            _jsx("span", {
                                                                                className: "ml-1 text-blue-600 text-xs",
                                                                                children: "← NEC Min",
                                                                            }),
                                                                        !i.exceedsMaximum &&
                                                                            d &&
                                                                            !n &&
                                                                            !o &&
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "ml-1 text-green-600 text-xs",
                                                                                children: "← Safe JAM",
                                                                            }),
                                                                    ],
                                                                }),
                                                                _jsxs("td", {
                                                                    className: "px-2 sm:px-3 py-2",
                                                                    children: [e.id, '"'],
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-2 sm:px-3 py-2",
                                                                    children: e.metric,
                                                                }),
                                                                _jsxs("td", {
                                                                    className:
                                                                        "px-2 sm:px-3 py-2 " +
                                                                        (x ? "text-red-600 font-semibold" : ""),
                                                                    children: [
                                                                        l,
                                                                        "%",
                                                                        x &&
                                                                            _jsx("span", {
                                                                                className: "text-xs ml-1",
                                                                                children: "⚠️",
                                                                            }),
                                                                    ],
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-2 sm:px-3 py-2",
                                                                    children: Math.round(100 * s) / 100,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-2 sm:px-3 py-2",
                                                                    children: _jsx("span", {
                                                                        className: `px-2 py-0.5 rounded text-xs ${i.exceedsMaximum && x ? "bg-red-600 text-white" : F(m)}`,
                                                                        children:
                                                                            i.exceedsMaximum && x ? "Exceeded" : m,
                                                                    }),
                                                                }),
                                                            ],
                                                        },
                                                        t
                                                    );
                                                }),
                                            }),
                                        ],
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "flex flex-wrap gap-4 mt-3 text-xs text-gray-500 dark:text-gray-400",
                                    children: [
                                        _jsxs("span", {
                                            children: [
                                                "* JAM ratio calculated for cable OD of ",
                                                i.outerDiameter,
                                                " ",
                                                i.unit,
                                            ],
                                        }),
                                        _jsxs("span", {
                                            children: [
                                                "• NEC max fill: ",
                                                1 === i.cableQty ? "53%" : 2 === i.cableQty ? "31%" : "40%",
                                                " for ",
                                                i.cableQty,
                                                " cable(s)",
                                            ],
                                        }),
                                    ],
                                }),
                                i.exceedsMaximum
                                    ? _jsxs("div", {
                                          className: "flex flex-wrap gap-2 mt-2",
                                          children: [
                                              _jsxs("span", {
                                                  className: "flex items-center gap-1 text-xs",
                                                  children: [
                                                      _jsx("span", {
                                                          className: "w-3 h-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded",
                                                      }),
                                                      " All Exceeded",
                                                  ],
                                              }),
                                              _jsxs("span", {
                                                  className: "flex items-center gap-1 text-xs text-red-600",
                                                  children: [
                                                      _jsx("span", { children: "⚠️" }),
                                                      " Multiple conduits required",
                                                  ],
                                              }),
                                          ],
                                      })
                                    : _jsxs("div", {
                                          className: "flex flex-wrap gap-2 mt-2",
                                          children: [
                                              _jsxs("span", {
                                                  className: "flex items-center gap-1 text-xs",
                                                  children: [
                                                      _jsx("span", {
                                                          className:
                                                              "w-3 h-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded",
                                                      }),
                                                      " NEC Minimum",
                                                  ],
                                              }),
                                              _jsxs("span", {
                                                  className: "flex items-center gap-1 text-xs",
                                                  children: [
                                                      _jsx("span", {
                                                          className:
                                                              "w-3 h-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded",
                                                      }),
                                                      " Safe JAM",
                                                  ],
                                              }),
                                              _jsxs("span", {
                                                  className: "flex items-center gap-1 text-xs",
                                                  children: [
                                                      _jsx("span", {
                                                          className:
                                                              "w-3 h-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded",
                                                      }),
                                                      " Selected",
                                                  ],
                                              }),
                                          ],
                                      }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function AudioCalculator() {
    const [e, t] = useState("datarate"),
        [s, a] = useState(48e3),
        [r, l] = useState(24),
        [i, n] = useState(2),
        [o, d] = useState(1),
        [c, m] = useState(0),
        [x, u] = useState(null),
        [h, p] = useState("dante"),
        [g, b] = useState(16),
        [f, y] = useState(48e3),
        [j, _] = useState(24),
        [v, N] = useState(!1),
        [w, C] = useState(null),
        [M, k] = useState(1e3),
        [S, R] = useState(20),
        [P, A] = useState(10),
        [D, I] = useState(8),
        [E, F] = useState(3),
        [B, T] = useState("m"),
        [L, H] = useState("control-room"),
        [U, q] = useState(null),
        [$, W] = useState(!1);
    return _jsxs("div", {
        className: "max-w-4xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", { className: "text-3xl font-bold text-gray-900 dark:text-gray-100", children: "Audio Calculator" }),
                    (x !== null || w !== null || U !== null) &&
                        _jsx("button", {
                            onClick: () => W(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: $,
                onConfirm: () => {
                    t("datarate"),
                        a(48e3),
                        l(24),
                        n(2),
                        d(1),
                        m(0),
                        u(null),
                        p("dante"),
                        b(16),
                        y(48e3),
                        _(24),
                        N(!1),
                        C(null),
                        k(1e3),
                        R(20),
                        A(10),
                        I(8),
                        F(3),
                        T("m"),
                        H("control-room"),
                        q(null),
                        W(!1);
                },
                onCancel: () => W(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Comprehensive audio calculations including PCM data rate, Dante/AES67 network bandwidth, and acoustic wavelength with room mode analysis.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "flex gap-2 mb-6",
                children: [
                    _jsx("button", {
                        type: "button",
                        onClick: () => t("datarate"),
                        className:
                            "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                            ("datarate" === e
                                ? "bg-green-600 text-white"
                                : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700"),
                        children: "📊 Data Rate",
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => t("dante"),
                        className:
                            "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                            ("dante" === e ? "bg-green-600 text-white" : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700"),
                        children: "🌐 Dante/AES67",
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => t("wavelength"),
                        className:
                            "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                            ("wavelength" === e
                                ? "bg-green-600 text-white"
                                : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:bg-gray-700"),
                        children: "🔊 Wavelength",
                    }),
                ],
            }),
            "datarate" === e &&
                _jsxs(_Fragment, {
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Audio Configuration",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Sampling Rate",
                                                }),
                                                _jsxs("select", {
                                                    value: s,
                                                    onChange: (e) => a(Number(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", {
                                                            value: 44100,
                                                            children: "44.1 kHz (CD Quality)",
                                                        }),
                                                        _jsx("option", {
                                                            value: 48e3,
                                                            children: "48 kHz (Professional)",
                                                        }),
                                                        _jsx("option", {
                                                            value: 96e3,
                                                            children: "96 kHz (Hi-Res Audio)",
                                                        }),
                                                        _jsx("option", {
                                                            value: 192e3,
                                                            children: "192 kHz (Studio Master)",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Bit Depth",
                                                }),
                                                _jsxs("select", {
                                                    value: r,
                                                    onChange: (e) => l(Number(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", { value: 16, children: "16-bit (CD Quality)" }),
                                                        _jsx("option", {
                                                            value: 24,
                                                            children: "24-bit (Professional)",
                                                        }),
                                                        _jsx("option", { value: 32, children: "32-bit (Float)" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Channels",
                                                }),
                                                _jsxs("select", {
                                                    value: i,
                                                    onChange: (e) => n(Number(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", { value: 1, children: "1 (Mono)" }),
                                                        _jsx("option", { value: 2, children: "2 (Stereo)" }),
                                                        _jsx("option", { value: 6, children: "6 (5.1 Surround)" }),
                                                        _jsx("option", { value: 8, children: "8 (7.1 Surround)" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Duration",
                                                }),
                                                _jsxs("div", {
                                                    className: "flex gap-2",
                                                    children: [
                                                        _jsx("input", {
                                                            type: "number",
                                                            min: "0",
                                                            value: o,
                                                            onChange: (e) =>
                                                                d(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : parseInt(e.target.value) || ""
                                                                ),
                                                            placeholder: "Min",
                                                            className: "w-1/2 px-3 py-2 border rounded-lg",
                                                        }),
                                                        _jsx("input", {
                                                            type: "number",
                                                            min: "0",
                                                            max: "59",
                                                            value: c,
                                                            onChange: (e) =>
                                                                m(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : Math.min(59, parseInt(e.target.value) || "")
                                                                ),
                                                            placeholder: "Sec",
                                                            className: "w-1/2 px-3 py-2 border rounded-lg",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("button", {
                                    type: "button",
                                    onClick: () => {
                                        u(_0xae89d3(s, r, i, o, c));
                                    },
                                    className:
                                        "w-full mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg cursor-pointer",
                                    children: "Calculate Audio Data Rate",
                                }),
                            ],
                        }),
                        x &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsx("h2", { className: "text-xl font-semibold mb-6", children: "Results" }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-3 gap-4 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className:
                                                    "bg-green-50 dark:bg-green-900/20 p-5 rounded-lg border-2 border-green-200 dark:border-green-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Data Rate",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-green-700",
                                                        children: [x.dataRateMbps, " Mbps"],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [x.dataRateKbps, " Kbps"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-200 dark:border-blue-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "File Size",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-2xl font-bold text-blue-700",
                                                        children: x.fileSizeFormatted,
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: ((e, t) => {
                                                            if (0 === e && 0 === t) return "0 seconds";
                                                            const s = [];
                                                            return (
                                                                e > 0 && s.push(`${e} min`),
                                                                t > 0 && s.push(`${t} sec`),
                                                                s.join(" ")
                                                            );
                                                        })(o, c),
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-purple-50 dark:bg-purple-900/20 p-5 rounded-lg border-2 border-purple-200 dark:border-purple-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Bits per Second",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-lg font-bold text-purple-700",
                                                        children: x.dataRateBps.toLocaleString(),
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "bps",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                    ],
                }),
            "dante" === e &&
                _jsxs(_Fragment, {
                    children: [
                        _jsxs("div", {
                            className: "bg-green-50 dark:bg-green-900/20 rounded-xl p-4 mb-6 border border-green-200 dark:border-green-800",
                            children: [
                                _jsx("h2", {
                                    className: "font-semibold text-green-800 dark:text-green-200 mb-2",
                                    children: "Protocol Selection",
                                }),
                                _jsxs("div", {
                                    className: "flex gap-4",
                                    children: [
                                        _jsx("button", {
                                            type: "button",
                                            onClick: () => p("dante"),
                                            className:
                                                "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                                                ("dante" === h
                                                    ? "bg-green-600 text-white"
                                                    : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-green-50 dark:bg-green-900/20"),
                                            children: "🎛️ Dante (Audinate)",
                                        }),
                                        _jsx("button", {
                                            type: "button",
                                            onClick: () => p("aes67"),
                                            className:
                                                "flex-1 py-3 px-4 rounded-lg font-medium transition-colors cursor-pointer " +
                                                ("aes67" === h
                                                    ? "bg-blue-600 text-white"
                                                    : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                            children: "🌐 AES67 (Open Standard)",
                                        }),
                                    ],
                                }),
                                _jsx("p", {
                                    className: "text-xs text-green-700 mt-2",
                                    children:
                                        "dante" === h
                                            ? "Dante: Proprietary Layer 3 protocol by Audinate. ~25% overhead, 4 channels per flow."
                                            : "AES67: Open interoperable standard (AES67-2018). ~20% overhead, 8 channels per stream.",
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                            children: [
                                _jsxs("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: ["dante" === h ? "Dante" : "AES67", " Configuration"],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Channel Count",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    max: "512",
                                                    value: g,
                                                    onChange: (e) =>
                                                        b("" === e.target.value ? "" : parseInt(e.target.value) || ""),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Total audio channels (1-512)",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Sample Rate",
                                                }),
                                                _jsxs("select", {
                                                    value: f,
                                                    onChange: (e) => y(Number(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", { value: 44100, children: "44.1 kHz" }),
                                                        _jsx("option", { value: 48e3, children: "48 kHz (Standard)" }),
                                                        _jsx("option", { value: 96e3, children: "96 kHz" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Bit Depth",
                                                }),
                                                _jsxs("select", {
                                                    value: j,
                                                    onChange: (e) => _(Number(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", { value: 16, children: "16-bit" }),
                                                        _jsx("option", { value: 24, children: "24-bit (Standard)" }),
                                                        _jsx("option", { value: 32, children: "32-bit float" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        "dante" === h &&
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("label", {
                                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                        children: "Redundancy (Dante Only)",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex gap-4",
                                                        children: [
                                                            _jsxs("label", {
                                                                className: "flex items-center cursor-pointer",
                                                                children: [
                                                                    _jsx("input", {
                                                                        type: "radio",
                                                                        checked: !v,
                                                                        onChange: () => N(!1),
                                                                        className: "mr-2",
                                                                    }),
                                                                    "Primary Only",
                                                                ],
                                                            }),
                                                            _jsxs("label", {
                                                                className: "flex items-center cursor-pointer",
                                                                children: [
                                                                    _jsx("input", {
                                                                        type: "radio",
                                                                        checked: v,
                                                                        onChange: () => N(!0),
                                                                        className: "mr-2",
                                                                    }),
                                                                    "Primary + Secondary",
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        "aes67" === h &&
                                            _jsx("div", {
                                                children: _jsx("p", {
                                                    className:
                                                        "text-xs text-blue-600 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",
                                                    children:
                                                        "Note: AES67 does not include built-in redundancy. For redundant streaming, SMPTE 2022-7 can be added externally.",
                                                }),
                                            }),
                                    ],
                                }),
                                _jsx("button", {
                                    type: "button",
                                    onClick: () => {
                                        const e = (g * f * j) / 1e6,
                                            t = e * ("dante" === h ? 1.25 : 1.2),
                                            s = "dante" === h ? 4 : 8,
                                            a = Math.ceil(g / s),
                                            r = t / a,
                                            l = "dante" === h && v ? 2 * t : t;
                                        let i,
                                            n = "100 Mbps";
                                        l > 80 && (n = "1 Gbps"),
                                            l > 800 && (n = "10 Gbps"),
                                            (i =
                                                "dante" === h
                                                    ? 96e3 === f
                                                        ? "0.25-1 ms"
                                                        : "0.5-2 ms"
                                                    : 96e3 === f
                                                      ? "0.5-2 ms"
                                                      : "1-4 ms"),
                                            C({
                                                protocol: h,
                                                protocolName: "dante" === h ? "Dante" : "AES67",
                                                rawBandwidthMbps: Math.round(100 * e) / 100,
                                                protocolBandwidthMbps: Math.round(100 * t) / 100,
                                                overhead: "dante" === h ? "25%" : "20%",
                                                totalBandwidth: Math.round(100 * l) / 100,
                                                flowsNeeded: a,
                                                bandwidthPerFlow: Math.round(100 * r) / 100,
                                                networkRecommendation: n,
                                                latency: i,
                                                redundancy: v,
                                            });
                                    },
                                    className:
                                        "w-full mt-6 " +
                                        ("dante" === h
                                            ? "bg-green-600 hover:bg-green-700"
                                            : "bg-blue-600 hover:bg-blue-700") +
                                        " text-white font-semibold py-3 rounded-lg cursor-pointer",
                                    children: "Calculate " + ("dante" === h ? "Dante" : "AES67") + " Bandwidth",
                                }),
                            ],
                        }),
                        w &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsxs("h2", {
                                        className: "text-xl font-semibold mb-6",
                                        children: [w.protocolName, " Bandwidth Results"],
                                    }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-3 gap-4 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className:
                                                    ("dante" === w.protocol
                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                        : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800") +
                                                    " p-5 rounded-lg border-2 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Total Bandwidth",
                                                    }),
                                                    _jsxs("div", {
                                                        className:
                                                            "text-2xl font-bold " +
                                                            ("dante" === w.protocol
                                                                ? "text-green-700"
                                                                : "text-blue-700"),
                                                        children: [w.totalBandwidth, " Mbps"],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children:
                                                            "dante" === w.protocol
                                                                ? w.redundancy
                                                                    ? "With redundancy"
                                                                    : "Primary only"
                                                                : "Single network",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-purple-50 dark:bg-purple-900/20 p-5 rounded-lg border-2 border-purple-200 dark:border-purple-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Network Recommendation",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-2xl font-bold text-purple-700",
                                                        children: w.networkRecommendation,
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Minimum switch port speed",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-orange-50 p-5 rounded-lg border-2 border-orange-200 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Typical Latency",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-2xl font-bold text-orange-700",
                                                        children: w.latency,
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: w.protocolName,
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border",
                                        children: [
                                            _jsxs("h3", {
                                                className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                                children: [w.protocolName, " Technical Details"],
                                            }),
                                            _jsxs("div", {
                                                className: "grid md:grid-cols-2 gap-4 text-sm",
                                                children: [
                                                    _jsxs("div", {
                                                        children: [
                                                            "Raw audio bandwidth: ",
                                                            _jsxs("span", {
                                                                className: "font-medium",
                                                                children: [w.rawBandwidthMbps, " Mbps"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            "Protocol overhead: ",
                                                            _jsx("span", {
                                                                className: "font-medium",
                                                                children: w.overhead,
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            "dante" === w.protocol ? "Flows" : "Streams",
                                                            " needed: ",
                                                            _jsx("span", {
                                                                className: "font-medium",
                                                                children: w.flowsNeeded,
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            "Bandwidth per ",
                                                            "dante" === w.protocol ? "flow" : "stream",
                                                            ": ",
                                                            _jsxs("span", {
                                                                className: "font-medium",
                                                                children: [w.bandwidthPerFlow, " Mbps"],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                    ],
                }),
            "wavelength" === e &&
                _jsxs(_Fragment, {
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Frequency & Room Parameters",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Frequency (Hz)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "20",
                                                    max: "20000",
                                                    step: "1",
                                                    value: M,
                                                    onChange: (e) =>
                                                        k("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    placeholder: "Enter frequency (20-20000 Hz)",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Human hearing range: 20 Hz - 20,000 Hz",
                                                }),
                                                _jsx("div", {
                                                    className: "flex flex-wrap gap-2 mt-2",
                                                    children: [50, 100, 250, 500, 1e3, 2e3, 4e3, 8e3].map((e) =>
                                                        _jsxs(
                                                            "button",
                                                            {
                                                                type: "button",
                                                                onClick: () => k(e),
                                                                className:
                                                                    "px-2 py-1 text-xs rounded border cursor-pointer " +
                                                                    (M === e
                                                                        ? "bg-green-600 text-white border-green-600"
                                                                        : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-green-50 dark:bg-green-900/20"),
                                                                children: [e >= 1e3 ? e / 1e3 + "k" : e, " Hz"],
                                                            },
                                                            e
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Room Purpose (ISO 3382)",
                                                }),
                                                _jsxs("select", {
                                                    value: L,
                                                    onChange: (e) => H(e.target.value),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                    children: [
                                                        _jsx("option", {
                                                            value: "control-room",
                                                            children: "🎛️ Control Room / Mixing Studio",
                                                        }),
                                                        _jsx("option", {
                                                            value: "recording-studio",
                                                            children: "🎙️ Recording Studio",
                                                        }),
                                                        _jsx("option", {
                                                            value: "home-studio",
                                                            children: "🏠 Home Studio",
                                                        }),
                                                        _jsx("option", {
                                                            value: "podcast-studio",
                                                            children: "🎤 Podcast / Voice Studio",
                                                        }),
                                                        _jsx("option", {
                                                            value: "home-theater",
                                                            children: "🎬 Home Theater",
                                                        }),
                                                        _jsx("option", {
                                                            value: "living-room",
                                                            children: "🛋️ Living Room (HiFi Listening)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "conference-room",
                                                            children: "💼 Conference Room",
                                                        }),
                                                        _jsx("option", {
                                                            value: "lecture-hall",
                                                            children: "🎓 Lecture Hall / Classroom",
                                                        }),
                                                        _jsx("option", {
                                                            value: "rehearsal-room",
                                                            children: "🎸 Music Rehearsal Room",
                                                        }),
                                                        _jsx("option", {
                                                            value: "concert-hall",
                                                            children: "🎻 Concert Hall / Auditorium",
                                                        }),
                                                        _jsx("option", {
                                                            value: "house-of-worship",
                                                            children: "⛪ House of Worship",
                                                        }),
                                                        _jsx("option", {
                                                            value: "open-office",
                                                            children: "🏢 Open Office",
                                                        }),
                                                    ],
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children:
                                                        "Room purpose determines target RT60 and treatment approach",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Temperature (°C)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "0",
                                                    max: "40",
                                                    step: "1",
                                                    value: S,
                                                    onChange: (e) =>
                                                        R("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Temperature affects speed of sound (typical: 20°C)",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "md:col-span-2",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex items-center justify-between mb-2",
                                                    children: [
                                                        _jsx("label", {
                                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300",
                                                            children: "Room Dimensions",
                                                        }),
                                                        _jsxs("select", {
                                                            value: B,
                                                            onChange: (e) => T(e.target.value),
                                                            className:
                                                                "px-3 py-1 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",
                                                            children: [
                                                                _jsx("option", { value: "m", children: "Meters (m)" }),
                                                                _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "grid grid-cols-3 gap-4",
                                                    children: [
                                                        _jsxs("div", {
                                                            children: [
                                                                _jsxs("label", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: ["Length (", B, ")"],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    step: "0.1",
                                                                    min: "0.1",
                                                                    value: P,
                                                                    onChange: (e) =>
                                                                        A(
                                                                            "" === e.target.value
                                                                                ? ""
                                                                                : parseFloat(e.target.value)
                                                                        ),
                                                                    className:
                                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            children: [
                                                                _jsxs("label", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: ["Width (", B, ")"],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    step: "0.1",
                                                                    min: "0.1",
                                                                    value: D,
                                                                    onChange: (e) =>
                                                                        I(
                                                                            "" === e.target.value
                                                                                ? ""
                                                                                : parseFloat(e.target.value)
                                                                        ),
                                                                    className:
                                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            children: [
                                                                _jsxs("label", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: ["Height (", B, ")"],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    step: "0.1",
                                                                    min: "0.1",
                                                                    value: E,
                                                                    onChange: (e) =>
                                                                        F(
                                                                            "" === e.target.value
                                                                                ? ""
                                                                                : parseFloat(e.target.value)
                                                                        ),
                                                                    className:
                                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("button", {
                                    type: "button",
                                    onClick: () => {
                                        const e = 331.3 + 0.606 * S,
                                            t = e / M,
                                            s = 100 * t,
                                            a = 3.28084 * t,
                                            r = 12 * a,
                                            l = (e) => ("ft" === B ? 0.3048 * e : e),
                                            i = l(P),
                                            n = l(D),
                                            o = l(E),
                                            d = (t, s) => {
                                                const a = [];
                                                for (let r = 1; r <= 4; r++) {
                                                    const l = (e / 2) * (r / t);
                                                    a.push({
                                                        mode: r,
                                                        frequency: Math.round(10 * l) / 10,
                                                        label: `${s}${r}`,
                                                    });
                                                }
                                                return a;
                                            },
                                            c = d(i, "L"),
                                            m = d(n, "W"),
                                            x = d(o, "H"),
                                            u = i * n * o,
                                            h = 35.3147 * u,
                                            p = {
                                                "recording-studio": {
                                                    name: "Recording Studio",
                                                    targetRT60: 0.3,
                                                    range: "0.2-0.4s",
                                                    focus: "Absorption & Isolation",
                                                    nc: "NC 15-20",
                                                },
                                                "control-room": {
                                                    name: "Control Room",
                                                    targetRT60: 0.35,
                                                    range: "0.25-0.4s",
                                                    focus: "Balanced Absorption/Diffusion",
                                                    nc: "NC 20-25",
                                                },
                                                "home-theater": {
                                                    name: "Home Theater",
                                                    targetRT60: 0.4,
                                                    range: "0.3-0.5s",
                                                    focus: "Side Absorption, Rear Diffusion",
                                                    nc: "NC 25-30",
                                                },
                                                "home-studio": {
                                                    name: "Home Studio",
                                                    targetRT60: 0.4,
                                                    range: "0.3-0.5s",
                                                    focus: "First Reflections, Bass Control",
                                                    nc: "NC 25-30",
                                                },
                                                "podcast-studio": {
                                                    name: "Podcast/Voice Studio",
                                                    targetRT60: 0.25,
                                                    range: "0.2-0.3s",
                                                    focus: "Maximum Absorption for Speech",
                                                    nc: "NC 20-25",
                                                },
                                                "lecture-hall": {
                                                    name: "Lecture Hall",
                                                    targetRT60: 0.7,
                                                    range: "0.6-0.8s",
                                                    focus: "Speech Intelligibility",
                                                    nc: "NC 25-30",
                                                },
                                                "rehearsal-room": {
                                                    name: "Music Rehearsal",
                                                    targetRT60: 1,
                                                    range: "0.8-1.2s",
                                                    focus: "Variable Acoustics",
                                                    nc: "NC 30-35",
                                                },
                                                "concert-hall": {
                                                    name: "Concert Hall",
                                                    targetRT60: 1.8,
                                                    range: "1.5-2.2s",
                                                    focus: "Diffusion, Minimal Absorption",
                                                    nc: "NC 15-20",
                                                },
                                                "house-of-worship": {
                                                    name: "House of Worship",
                                                    targetRT60: 2,
                                                    range: "1.5-3.0s",
                                                    focus: "Reverberance for Music",
                                                    nc: "NC 25-30",
                                                },
                                                "open-office": {
                                                    name: "Open Office",
                                                    targetRT60: 0.5,
                                                    range: "0.4-0.6s",
                                                    focus: "Speech Privacy, Noise Reduction",
                                                    nc: "NC 35-40",
                                                },
                                                "conference-room": {
                                                    name: "Conference Room",
                                                    targetRT60: 0.5,
                                                    range: "0.4-0.6s",
                                                    focus: "Speech Clarity",
                                                    nc: "NC 25-30",
                                                },
                                                "living-room": {
                                                    name: "Living Room (HiFi)",
                                                    targetRT60: 0.5,
                                                    range: "0.4-0.6s",
                                                    focus: "Balanced Listening",
                                                    nc: "NC 30-35",
                                                },
                                            },
                                            g = p[L] || p["control-room"],
                                            b = g.targetRT60,
                                            f = Math.round(2e3 * Math.sqrt(b / u)),
                                            y = 2 * (i * n + n * o + i * o),
                                            j = (4 * u) / y,
                                            _ = [o, n, i].sort((e, t) => e - t),
                                            v = _[1] / _[0],
                                            N = _[2] / _[0];
                                        let w = "poor",
                                            C = null;
                                        [
                                            { w: 1.14, l: 1.39 },
                                            { w: 1.28, l: 1.54 },
                                            { w: 1.6, l: 2.33 },
                                        ].forEach((e) => {
                                            const t = Math.sqrt(Math.pow(v - e.w, 2) + Math.pow(N - e.l, 2));
                                            t < 0.3 ? (w = "good") : t < 0.5 && "good" !== w && (w = "acceptable"),
                                                (!C || t < C.distance) && (C = { ...e, distance: t });
                                        });
                                        const k = Math.abs(v - 1) < 0.1 && Math.abs(N - 1) < 0.1,
                                            R = Math.abs(N - 2) < 0.15 && Math.abs(v - 1) < 0.15,
                                            A = Math.abs(N - 2) < 0.15 && Math.abs(v - 2) < 0.15,
                                            I = Math.abs(N - 4) < 0.2 && Math.abs(v - 2) < 0.15,
                                            F = Math.abs(N - 2) < 0.15 && Math.abs(v - 1) < 0.15;
                                        (k || R || A || I || F) && (w = "problematic");
                                        const T = (0.161 * u) / b,
                                            H = 0.1 * y,
                                            U = Math.max(0, T - H),
                                            $ = 0.38 * i,
                                            W = n / 2,
                                            V = ((2 * W) / e) * 1e3;
                                        let O = [],
                                            z = "";
                                        z =
                                            M < 60
                                                ? "sub-bass"
                                                : M < 250
                                                  ? "bass"
                                                  : M < 500
                                                    ? "low-mid"
                                                    : M < 2e3
                                                      ? "mid"
                                                      : M < 6e3
                                                        ? "high-mid"
                                                        : "high";
                                        const G = t / 4,
                                            X = 100 * G,
                                            J = 39.37 * G,
                                            Q = M < f,
                                            K = [...c, ...m, ...x].map((e) => e.frequency).sort((e, t) => e - t),
                                            Y = [];
                                        for (let e = 0; e < K.length - 1; e++)
                                            Math.abs(K[e] - K[e + 1]) <= 5 && Y.push(Math.round((K[e] + K[e + 1]) / 2));
                                        if (
                                            ("sub-bass" === z
                                                ? (O.push({
                                                      type: "critical",
                                                      icon: "🔴",
                                                      title: "Sub-Bass Treatment Challenge",
                                                      text: `At ${M} Hz (λ = ${t.toFixed(2)}m), wavelengths are very long. Porous absorbers would need to be ${Math.round(X)} cm (${Math.round(J)}") deep to be effective.`,
                                                  }),
                                                  O.push({
                                                      type: "recommendation",
                                                      icon: "💡",
                                                      title: "Recommended Solutions",
                                                      text: "Use membrane/panel bass traps tuned to this frequency, Helmholtz resonators, or room dimension ratios. Corner-loaded diaphragmatic absorbers are most space-efficient.",
                                                  }),
                                                  O.push({
                                                      type: "placement",
                                                      icon: "📍",
                                                      title: "Optimal Placement",
                                                      text: `Place treatment at ${G.toFixed(2)}m (${Math.round(J)}") from walls for maximum pressure zone absorption.`,
                                                  }))
                                                : "bass" === z
                                                  ? (O.push({
                                                        type: "info",
                                                        icon: "🎵",
                                                        title: "Bass Frequency Range",
                                                        text: `${M} Hz is in the bass range. This frequency ${Q ? "is below" : "is near"} the Schroeder frequency (${f} Hz), meaning ${Q ? "discrete room modes dominate" : "transitional modal/diffuse behavior"}.`,
                                                    }),
                                                    O.push({
                                                        type: "recommendation",
                                                        icon: "🧱",
                                                        title: "Bass Trap Specifications",
                                                        text: `Porous bass traps need minimum ${Math.round(X)} cm (${Math.round(J)}") depth. 6" (15cm) thick corner traps with air gap can extend effectiveness. Rockwool/mineral wool density: 40-80 kg/m³.`,
                                                    }),
                                                    O.push({
                                                        type: "placement",
                                                        icon: "📍",
                                                        title: "Corner Placement",
                                                        text: "Tri-corner placement (floor-wall-wall junction) is 35% more effective than flat wall mounting. Stack bass traps floor to ceiling in room corners.",
                                                    }))
                                                  : "low-mid" === z
                                                    ? (O.push({
                                                          type: "info",
                                                          icon: "🎵",
                                                          title: "Low-Mid Frequency Range",
                                                          text: `${M} Hz requires thicker treatment than standard panels. This range often contains voice fundamentals and kick drum body.`,
                                                      }),
                                                      O.push({
                                                          type: "recommendation",
                                                          icon: "📦",
                                                          title: "Panel Specifications",
                                                          text: `Minimum 4" (10cm) thick broadband absorbers required. For full effectiveness at ${M} Hz, use ${Math.round(J)}" depth or add air gap behind panels equal to panel thickness.`,
                                                      }),
                                                      O.push({
                                                          type: "tip",
                                                          icon: "✅",
                                                          title: "Effective Products",
                                                          text: 'Thick fiberglass panels (703/705 series), rockwool absorbers, or DIY frames with 4-6" mineral wool. NRC rating > 1.0 at 250 Hz recommended.',
                                                      }))
                                                    : "mid" === z
                                                      ? (O.push({
                                                            type: "info",
                                                            icon: "🎵",
                                                            title: "Mid Frequency Range",
                                                            text: `${M} Hz is efficiently absorbed by standard acoustic panels. This critical speech intelligibility range benefits from first reflection point treatment.`,
                                                        }),
                                                        O.push({
                                                            type: "recommendation",
                                                            icon: "📦",
                                                            title: "Panel Specifications",
                                                            text: `Standard 2" (5cm) acoustic panels effective. For ${M} Hz, λ/4 = ${Math.round(X)} cm (${J.toFixed(1)}"). Panels should have NRC ≥ 0.85.`,
                                                        }),
                                                        O.push({
                                                            type: "placement",
                                                            icon: "📍",
                                                            title: "Key Locations",
                                                            text: "First reflection points on side walls, ceiling cloud above listening position, and rear wall treatment. Use mirror trick: place panel where you see speakers reflected.",
                                                        }),
                                                        M > 1e3 &&
                                                            O.push({
                                                                type: "diffusion",
                                                                icon: "🌀",
                                                                title: "Diffusion Option",
                                                                text: `Diffusion becomes effective at ${M} Hz. QRD diffusers with well depth of ${Math.round(50 * t)} cm can scatter this frequency. Consider rear wall diffusion to maintain room liveliness.`,
                                                            }))
                                                      : "high-mid" === z
                                                        ? (O.push({
                                                              type: "info",
                                                              icon: "🎵",
                                                              title: "High-Mid Frequency Range",
                                                              text: `${M} Hz is easily controlled. Even thin materials (1-2") provide significant absorption. Risk of over-damping the room.`,
                                                          }),
                                                          O.push({
                                                              type: "recommendation",
                                                              icon: "🌀",
                                                              title: "Diffusion Recommended",
                                                              text: `Diffusion is highly effective at ${M} Hz. Recommended diffuser depth: ${Math.round(X)} cm minimum. Skyline/QRD diffusers work well on rear walls.`,
                                                          }),
                                                          O.push({
                                                              type: "warning",
                                                              icon: "⚠️",
                                                              title: "Avoid Over-Absorption",
                                                              text: 'Too much high-frequency absorption creates a "dead" room. Balance absorption with diffusion. Target 0.3-0.5s RT60 for control rooms, 0.4-0.6s for home studios.',
                                                          }))
                                                        : (O.push({
                                                              type: "info",
                                                              icon: "🎵",
                                                              title: "High Frequency Range",
                                                              text: `${M} Hz (λ = ${s.toFixed(1)} cm) is absorbed by virtually any porous material including carpet, curtains, and furniture.`,
                                                          }),
                                                          O.push({
                                                              type: "recommendation",
                                                              icon: "🌀",
                                                              title: "Diffusion Optimal",
                                                              text: "Use diffusion to scatter high frequencies while preserving energy. Small-scale diffusers (5-10cm depth) are effective. Polycylindrical diffusers add warmth.",
                                                          }),
                                                          O.push({
                                                              type: "warning",
                                                              icon: "⚠️",
                                                              title: "Preserve Air & Brightness",
                                                              text: 'High frequencies give a room "air" and detail. Excessive absorption makes rooms sound dull. Use absorbers sparingly at first reflection points only.',
                                                          })),
                                            Q)
                                        ) {
                                            const e = 5,
                                                t = [];
                                            c.forEach((s) => {
                                                Math.abs(s.frequency - M) <= e &&
                                                    t.push(`Length ${s.label} (${s.frequency} Hz)`);
                                            }),
                                                m.forEach((s) => {
                                                    Math.abs(s.frequency - M) <= e &&
                                                        t.push(`Width ${s.label} (${s.frequency} Hz)`);
                                                }),
                                                x.forEach((s) => {
                                                    Math.abs(s.frequency - M) <= e &&
                                                        t.push(`Height ${s.label} (${s.frequency} Hz)`);
                                                }),
                                                t.length > 0 &&
                                                    O.push({
                                                        type: "modal",
                                                        icon: "🎯",
                                                        title: "Room Mode Match Detected!",
                                                        text: `${M} Hz coincides with room mode(s): ${t.join(", ")}. This frequency will have significant peaks and nulls in the room. Targeted treatment strongly recommended.`,
                                                    });
                                        }
                                        Y.length > 0 &&
                                            M < 300 &&
                                            O.push({
                                                type: "warning",
                                                icon: "⚠️",
                                                title: "Mode Clustering Detected",
                                                text: `Room has clustered modes near ${Y.slice(0, 3).join(", ")} Hz. These frequencies will have exaggerated bass response. Prioritize broadband bass trapping in corners.`,
                                            }),
                                            u < 30
                                                ? O.push({
                                                      type: "room",
                                                      icon: "📐",
                                                      title: "Small Room Consideration",
                                                      text: `Room volume (${u.toFixed(1)} m³) is small. Modal problems will be more pronounced. Consider bass traps in all corners and avoid placing speakers/listeners at room center or against walls.`,
                                                  })
                                                : u > 200 &&
                                                  O.push({
                                                      type: "room",
                                                      icon: "📐",
                                                      title: "Large Room Consideration",
                                                      text: `Room volume (${u.toFixed(1)} m³) is large. Modal density is higher, making broadband treatment more effective than narrow-band solutions. Consider distributed absorber placement.`,
                                                  }),
                                            O.push({
                                                type: "purpose",
                                                icon: "🎯",
                                                title: `${g.name} Requirements (ISO 3382)`,
                                                text: `Target RT60: ${g.range}. Treatment focus: ${g.focus}. Background noise target: ${g.nc}.`,
                                            }),
                                            "problematic" === w
                                                ? O.push({
                                                      type: "warning",
                                                      icon: "⚠️",
                                                      title: "Problematic Room Ratios (Bolt Area)",
                                                      text: `Room ratios (1:${v.toFixed(2)}:${N.toFixed(2)}) are ${k ? "cubic" : "harmonic multiples"}, causing severe mode clustering. Consider room treatment or dimension changes. Bass problems will be significant.`,
                                                  })
                                                : "acceptable" === w &&
                                                  O.push({
                                                      type: "info",
                                                      icon: "ℹ️",
                                                      title: "Room Ratios (Bolt Area)",
                                                      text: `Room ratios (1:${v.toFixed(2)}:${N.toFixed(2)}) are acceptable but not optimal. Closest Bolt ratio: 1:${C.w}:${C.l}. Some mode clustering expected.`,
                                                  }),
                                            (g.name.includes("Control") ||
                                                g.name.includes("Studio") ||
                                                g.name.includes("Theater")) &&
                                                O.push({
                                                    type: "reflection",
                                                    icon: "🪞",
                                                    title: "First Reflection Points (ITU-R BS.1116)",
                                                    text: `ITDG: ${V.toFixed(1)}ms. Treat side walls at ${(W * ("ft" === B ? 3.28 : 1)).toFixed(1)}${B} from listener. Use mirror trick to locate exact points. Ceiling cloud recommended.`,
                                                }),
                                            q({
                                                frequency: M,
                                                speedOfSound: Math.round(10 * e) / 10,
                                                wavelengthM: Math.round(1e3 * t) / 1e3,
                                                wavelengthCm: Math.round(10 * s) / 10,
                                                wavelengthFt: Math.round(100 * a) / 100,
                                                wavelengthIn: Math.round(10 * r) / 10,
                                                lengthModes: c,
                                                widthModes: m,
                                                heightModes: x,
                                                schroederFreq: f,
                                                volumeM3: Math.round(10 * u) / 10,
                                                volumeFt3: Math.round(h),
                                                roomDimensionUnit: B,
                                                treatmentRec: O,
                                                freqBand: z,
                                                quarterWavelengthCm: Math.round(10 * X) / 10,
                                                quarterWavelengthIn: Math.round(10 * J) / 10,
                                                isBelowSchroeder: Q,
                                                purposeInfo: g,
                                                surfaceArea: Math.round(10 * y) / 10,
                                                meanFreePath: Math.round(100 * j) / 100,
                                                roomRatios: { w: v.toFixed(2), l: N.toFixed(2), quality: w },
                                                requiredAbsorption: Math.round(T),
                                                additionalAbsorptionNeeded: Math.round(U),
                                                firstReflectionTime: Math.round(10 * V) / 10,
                                                listenerPosition: Math.round($ * ("ft" === B ? 3.28 : 1) * 10) / 10,
                                            });
                                    },
                                    className:
                                        "w-full mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg cursor-pointer",
                                    children: "Calculate Wavelength & Room Modes",
                                }),
                            ],
                        }),
                        U &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsx("h2", {
                                        className: "text-xl font-semibold mb-6",
                                        children: "Wavelength Results",
                                    }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-4 gap-4 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className:
                                                    "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-200 dark:border-green-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Wavelength",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-green-700",
                                                        children: [
                                                            "ft" === U.roomDimensionUnit
                                                                ? U.wavelengthFt + " ft"
                                                                : U.wavelengthM + " m",
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            "ft" === U.roomDimensionUnit
                                                                ? U.wavelengthIn + " in"
                                                                : U.wavelengthCm + " cm",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Speed of Sound",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-blue-700",
                                                        children: [
                                                            "ft" === U.roomDimensionUnit
                                                                ? Math.round(3.28084 * U.speedOfSound) + " ft/s"
                                                                : U.speedOfSound + " m/s",
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: ["at ", S, "°C"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border-2 border-purple-200 dark:border-purple-800 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Schroeder Frequency",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-purple-700",
                                                        children: [U.schroederFreq, " Hz"],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Modal/diffuse transition",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "bg-orange-50 p-4 rounded-lg border-2 border-orange-200 text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Room Volume",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-orange-700",
                                                        children: [
                                                            "ft" === U.roomDimensionUnit
                                                                ? U.volumeFt3 + " ft³"
                                                                : U.volumeM3 + " m³",
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            "ft" === U.roomDimensionUnit
                                                                ? U.volumeM3 + " m³"
                                                                : U.volumeFt3 + " ft³",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    U.purposeInfo &&
                                        _jsxs("div", {
                                            className: "mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200",
                                            children: [
                                                _jsxs("h3", {
                                                    className:
                                                        "font-semibold text-indigo-800 mb-3 flex items-center gap-2",
                                                    children: ["🏠 Room Analysis - ", U.purposeInfo.name],
                                                }),
                                                _jsxs("div", {
                                                    className: "grid sm:grid-cols-2 md:grid-cols-4 gap-3",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: "Target RT60",
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-lg font-bold text-indigo-700",
                                                                    children: U.purposeInfo.range,
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children: "ISO 3382",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: "NC Rating Target",
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-lg font-bold text-indigo-700",
                                                                    children: U.purposeInfo.nc,
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children: "ANSI S12.2",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className:
                                                                "bg-white dark:bg-gray-800 p-3 rounded border text-center " +
                                                                ("problematic" === U.roomRatios?.quality
                                                                    ? "border-red-300"
                                                                    : "good" === U.roomRatios?.quality
                                                                      ? "border-green-300"
                                                                      : ""),
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: "Room Ratios (Bolt)",
                                                                }),
                                                                _jsxs("div", {
                                                                    className:
                                                                        "text-sm font-bold " +
                                                                        ("problematic" === U.roomRatios?.quality
                                                                            ? "text-red-600"
                                                                            : "good" === U.roomRatios?.quality
                                                                              ? "text-green-600"
                                                                              : "text-indigo-700"),
                                                                    children: [
                                                                        "1:",
                                                                        U.roomRatios?.w,
                                                                        ":",
                                                                        U.roomRatios?.l,
                                                                    ],
                                                                }),
                                                                _jsx("div", {
                                                                    className:
                                                                        "text-xs " +
                                                                        ("problematic" === U.roomRatios?.quality
                                                                            ? "text-red-500"
                                                                            : "good" === U.roomRatios?.quality
                                                                              ? "text-green-500"
                                                                              : "text-gray-400"),
                                                                    children:
                                                                        "problematic" === U.roomRatios?.quality
                                                                            ? "⚠️ Problematic"
                                                                            : "good" === U.roomRatios?.quality
                                                                              ? "✅ Good"
                                                                              : "Acceptable",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                                    children: "First Reflection",
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-lg font-bold text-indigo-700",
                                                                    children: [U.firstReflectionTime, " ms"],
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-gray-400",
                                                                    children: "ITDG",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "mt-3 grid sm:grid-cols-3 gap-3 text-sm",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-500 dark:text-gray-400",
                                                                    children: "Surface Area:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium",
                                                                    children: [U.surfaceArea, " m²"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-500 dark:text-gray-400",
                                                                    children: "Mean Free Path:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium",
                                                                    children: [U.meanFreePath, " m"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-500 dark:text-gray-400",
                                                                    children: "Listener Position:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium",
                                                                    children: [
                                                                        U.listenerPosition,
                                                                        " ",
                                                                        U.roomDimensionUnit,
                                                                        " from front (38% rule)",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "mt-2 text-xs text-indigo-600",
                                                    children: U.purposeInfo.focus,
                                                }),
                                            ],
                                        }),
                                    _jsxs("div", {
                                        className: "mb-6 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border",
                                        children: [
                                            _jsx("h3", {
                                                className: "font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",
                                                children: "〰️ Waveform Visualization",
                                            }),
                                            _jsx("div", {
                                                className: "bg-white dark:bg-gray-800 rounded-lg border p-2 sm:p-4 overflow-hidden",
                                                children: (() => {
                                                    const e = "undefined" != typeof window && window.innerWidth < 640,
                                                        t = e ? 300 : 500,
                                                        s = e ? 120 : 150,
                                                        a = e ? 30 : 40,
                                                        r = (s - 2 * a) / 2,
                                                        l = t - 2 * a,
                                                        i = U.frequency,
                                                        n = 1 / i,
                                                        o = i < 100 ? 1 : i < 500 ? 1.5 : i < 2e3 ? 2 : 3,
                                                        d = [];
                                                    for (let e = 0; e <= 200; e++) {
                                                        const t = a + (e / 200) * l,
                                                            i = (e / 200) * o * 2 * Math.PI,
                                                            n = s / 2 - Math.sin(i) * r * 0.85;
                                                        d.push(
                                                            `${0 === e ? "M" : "L"} ${t.toFixed(2)} ${n.toFixed(2)}`
                                                        );
                                                    }
                                                    const c = d.join(" "),
                                                        m = l / o,
                                                        x =
                                                            "ft" === U.roomDimensionUnit
                                                                ? U.wavelengthFt + " ft"
                                                                : U.wavelengthM + " m";
                                                    return _jsxs("svg", {
                                                        viewBox: `0 0 ${t} ${s}`,
                                                        className: "w-full h-auto max-h-40",
                                                        style: {
                                                            maxWidth: t + "px",
                                                            margin: "0 auto",
                                                            display: "block",
                                                        },
                                                        children: [
                                                            _jsx("line", {
                                                                x1: a,
                                                                y1: s / 2,
                                                                x2: t - a,
                                                                y2: s / 2,
                                                                stroke: "#e5e7eb",
                                                                strokeWidth: "1",
                                                                strokeDasharray: "4,4",
                                                            }),
                                                            _jsx("line", {
                                                                x1: a,
                                                                y1: a,
                                                                x2: a,
                                                                y2: s - a,
                                                                stroke: "#e5e7eb",
                                                                strokeWidth: "1",
                                                            }),
                                                            _jsx("line", {
                                                                x1: a,
                                                                y1: s / 2,
                                                                x2: t - a,
                                                                y2: s / 2,
                                                                stroke: "#9ca3af",
                                                                strokeWidth: "1",
                                                            }),
                                                            _jsx("path", {
                                                                d: c,
                                                                fill: "none",
                                                                stroke: "#10b981",
                                                                strokeWidth: e ? "2" : "2.5",
                                                                strokeLinecap: "round",
                                                            }),
                                                            _jsx("line", {
                                                                x1: a,
                                                                y1: s - a + 10,
                                                                x2: a + m,
                                                                y2: s - a + 10,
                                                                stroke: "#6366f1",
                                                                strokeWidth: "2",
                                                            }),
                                                            _jsx("line", {
                                                                x1: a,
                                                                y1: s - a + 5,
                                                                x2: a,
                                                                y2: s - a + 15,
                                                                stroke: "#6366f1",
                                                                strokeWidth: "2",
                                                            }),
                                                            _jsx("line", {
                                                                x1: a + m,
                                                                y1: s - a + 5,
                                                                x2: a + m,
                                                                y2: s - a + 15,
                                                                stroke: "#6366f1",
                                                                strokeWidth: "2",
                                                            }),
                                                            _jsx("text", {
                                                                x: a + m / 2,
                                                                y: s - 5,
                                                                textAnchor: "middle",
                                                                fontSize: e ? "10" : "12",
                                                                fill: "#6366f1",
                                                                fontWeight: "600",
                                                                children: "λ = " + x,
                                                            }),
                                                            _jsx("text", {
                                                                x: a - 5,
                                                                y: a + 5,
                                                                textAnchor: "end",
                                                                fontSize: e ? "8" : "10",
                                                                fill: "#9ca3af",
                                                                children: "+1",
                                                            }),
                                                            _jsx("text", {
                                                                x: a - 5,
                                                                y: s / 2 + 3,
                                                                textAnchor: "end",
                                                                fontSize: e ? "8" : "10",
                                                                fill: "#9ca3af",
                                                                children: "0",
                                                            }),
                                                            _jsx("text", {
                                                                x: a - 5,
                                                                y: s - a,
                                                                textAnchor: "end",
                                                                fontSize: e ? "8" : "10",
                                                                fill: "#9ca3af",
                                                                children: "-1",
                                                            }),
                                                            _jsx("text", {
                                                                x: t - a,
                                                                y: a - 5,
                                                                textAnchor: "end",
                                                                fontSize: e ? "10" : "11",
                                                                fill: "#6b7280",
                                                                children: i + " Hz",
                                                            }),
                                                            o >= 1 &&
                                                                _jsxs("g", {
                                                                    children: [
                                                                        _jsx("line", {
                                                                            x1: a,
                                                                            y1: a - 8,
                                                                            x2: a + m,
                                                                            y2: a - 8,
                                                                            stroke: "#f59e0b",
                                                                            strokeWidth: "1.5",
                                                                            strokeDasharray: "3,2",
                                                                        }),
                                                                        _jsx("text", {
                                                                            x: a + m / 2,
                                                                            y: a - 12,
                                                                            textAnchor: "middle",
                                                                            fontSize: e ? "8" : "9",
                                                                            fill: "#f59e0b",
                                                                            children:
                                                                                "T = " +
                                                                                (n >= 0.001
                                                                                    ? (1e3 * n).toFixed(2) + " ms"
                                                                                    : (1e6 * n).toFixed(1) + " µs"),
                                                                        }),
                                                                    ],
                                                                }),
                                                        ],
                                                    });
                                                })(),
                                            }),
                                            _jsxs("div", {
                                                className: "mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                style: {
                                                                    width: "12px",
                                                                    height: "3px",
                                                                    backgroundColor: "#10b981",
                                                                    borderRadius: "2px",
                                                                },
                                                            }),
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Sound wave",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                style: {
                                                                    width: "12px",
                                                                    height: "3px",
                                                                    backgroundColor: "#6366f1",
                                                                    borderRadius: "2px",
                                                                },
                                                            }),
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Wavelength (λ)",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                style: {
                                                                    width: "12px",
                                                                    height: "3px",
                                                                    backgroundColor: "#f59e0b",
                                                                    borderRadius: "2px",
                                                                    borderStyle: "dashed",
                                                                },
                                                            }),
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Period (T)",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: ["λ = v/f = ", U.speedOfSound, "/", U.frequency],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-gray-500 dark:text-gray-400 mt-2",
                                                children:
                                                    "A pure sine wave at the specified frequency. Real audio contains multiple frequencies (harmonics) that combine to create complex waveforms. The wavelength (λ) represents one complete cycle of pressure variation in air.",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "mb-6",
                                        children: [
                                            _jsx("h3", {
                                                className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                                children: "Room Axial Modes",
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-gray-500 dark:text-gray-400 mb-2",
                                                children:
                                                    "Axial modes are resonant frequencies where sound waves bounce between two parallel surfaces. At these frequencies, standing waves form causing peaks and nulls in the room's frequency response. Modes below the Schroeder frequency are particularly problematic and benefit from bass trapping.",
                                            }),
                                            _jsxs("p", {
                                                className: "text-xs text-blue-600 mb-3",
                                                children: [
                                                    _jsx("strong", { children: "💡 Practical Use:" }),
                                                    " Use these frequencies to tune parametric EQ cuts on subwoofers, identify where to place bass traps (corners absorb all three axial modes), and avoid placing speakers/listeners at room dimension midpoints where nulls occur. For critical listening rooms, look for mode clustering—multiple modes within 5 Hz indicate problem areas.",
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "grid md:grid-cols-3 gap-4",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg border",
                                                        children: [
                                                            _jsx("h4", {
                                                                className: "font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                                children: "Length Modes",
                                                            }),
                                                            _jsx("div", {
                                                                className: "space-y-1",
                                                                children: U.lengthModes.map((e) =>
                                                                    _jsxs(
                                                                        "div",
                                                                        {
                                                                            className: "text-sm flex justify-between",
                                                                            children: [
                                                                                _jsx("span", { children: e.label }),
                                                                                _jsxs("span", {
                                                                                    className: "font-medium",
                                                                                    children: [e.frequency, " Hz"],
                                                                                }),
                                                                            ],
                                                                        },
                                                                        e.label
                                                                    )
                                                                ),
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg border",
                                                        children: [
                                                            _jsx("h4", {
                                                                className: "font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                                children: "Width Modes",
                                                            }),
                                                            _jsx("div", {
                                                                className: "space-y-1",
                                                                children: U.widthModes.map((e) =>
                                                                    _jsxs(
                                                                        "div",
                                                                        {
                                                                            className: "text-sm flex justify-between",
                                                                            children: [
                                                                                _jsx("span", { children: e.label }),
                                                                                _jsxs("span", {
                                                                                    className: "font-medium",
                                                                                    children: [e.frequency, " Hz"],
                                                                                }),
                                                                            ],
                                                                        },
                                                                        e.label
                                                                    )
                                                                ),
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "bg-gray-50 dark:bg-gray-900/50 p-3 rounded-lg border",
                                                        children: [
                                                            _jsx("h4", {
                                                                className: "font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                                children: "Height Modes",
                                                            }),
                                                            _jsx("div", {
                                                                className: "space-y-1",
                                                                children: U.heightModes.map((e) =>
                                                                    _jsxs(
                                                                        "div",
                                                                        {
                                                                            className: "text-sm flex justify-between",
                                                                            children: [
                                                                                _jsx("span", { children: e.label }),
                                                                                _jsxs("span", {
                                                                                    className: "font-medium",
                                                                                    children: [e.frequency, " Hz"],
                                                                                }),
                                                                            ],
                                                                        },
                                                                        e.label
                                                                    )
                                                                ),
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    U.treatmentRec.length > 0 &&
                                        _jsxs("div", {
                                            className: "space-y-3",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex items-center justify-between",
                                                    children: [
                                                        _jsx("h3", {
                                                            className: "font-semibold text-gray-800 text-lg",
                                                            children: "🔊 Acoustic Treatment Recommendations",
                                                        }),
                                                        _jsxs("span", {
                                                            className:
                                                                "text-xs px-2 py-1 rounded-full font-medium " +
                                                                ("sub-bass" === U.freqBand || "bass" === U.freqBand
                                                                    ? "bg-red-100 text-red-700"
                                                                    : "low-mid" === U.freqBand
                                                                      ? "bg-orange-100 text-orange-700"
                                                                      : "mid" === U.freqBand
                                                                        ? "bg-green-100 text-green-700"
                                                                        : "bg-blue-100 text-blue-700"),
                                                            children: [
                                                                U.freqBand.charAt(0).toUpperCase() +
                                                                    U.freqBand.slice(1),
                                                                " Range",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "grid sm:grid-cols-3 gap-3 mb-4",
                                                    children: [
                                                        _jsxs("div", {
                                                            className:
                                                                "bg-indigo-50 p-3 rounded-lg border border-indigo-200 text-center",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-indigo-600 font-medium",
                                                                    children: "Min Absorber Depth (λ/4)",
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-lg font-bold text-indigo-700",
                                                                    children: [U.quarterWavelengthCm, " cm"],
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-xs text-indigo-500",
                                                                    children: [U.quarterWavelengthIn, '"'],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className:
                                                                "p-3 rounded-lg border text-center " +
                                                                (U.isBelowSchroeder
                                                                    ? "bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"
                                                                    : "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"),
                                                            children: [
                                                                _jsx("div", {
                                                                    className:
                                                                        "text-xs font-medium " +
                                                                        (U.isBelowSchroeder
                                                                            ? "text-amber-600"
                                                                            : "text-green-600"),
                                                                    children: "Acoustic Behavior",
                                                                }),
                                                                _jsx("div", {
                                                                    className:
                                                                        "text-sm font-bold " +
                                                                        (U.isBelowSchroeder
                                                                            ? "text-amber-700"
                                                                            : "text-green-700"),
                                                                    children: U.isBelowSchroeder
                                                                        ? "Modal Region"
                                                                        : "Diffuse Field",
                                                                }),
                                                                _jsxs("div", {
                                                                    className:
                                                                        "text-xs " +
                                                                        (U.isBelowSchroeder
                                                                            ? "text-amber-500"
                                                                            : "text-green-500"),
                                                                    children: [
                                                                        U.isBelowSchroeder ? "Below" : "Above",
                                                                        " Schroeder (",
                                                                        U.schroederFreq,
                                                                        " Hz)",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className:
                                                                "bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-800 text-center",
                                                            children: [
                                                                _jsx("div", {
                                                                    className: "text-xs text-purple-600 font-medium",
                                                                    children: "Diffuser Min Depth",
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "text-lg font-bold text-purple-700",
                                                                    children: [Math.round(U.wavelengthCm / 4), " cm"],
                                                                }),
                                                                _jsx("div", {
                                                                    className: "text-xs text-purple-500",
                                                                    children: "For effective scattering",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "space-y-2",
                                                    children: U.treatmentRec.map((e, t) =>
                                                        _jsx(
                                                            "div",
                                                            {
                                                                className:
                                                                    "p-3 rounded-lg border " +
                                                                    ("critical" === e.type
                                                                        ? "bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"
                                                                        : "warning" === e.type
                                                                          ? "bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"
                                                                          : "modal" === e.type
                                                                            ? "bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800"
                                                                            : "room" === e.type
                                                                              ? "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"
                                                                              : "diffusion" === e.type
                                                                                ? "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"
                                                                                : "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"),
                                                                children: _jsxs("div", {
                                                                    className: "flex gap-2",
                                                                    children: [
                                                                        _jsx("span", {
                                                                            className: "text-lg",
                                                                            children: e.icon,
                                                                        }),
                                                                        _jsxs("div", {
                                                                            children: [
                                                                                _jsx("div", {
                                                                                    className:
                                                                                        "font-semibold text-sm " +
                                                                                        ("critical" === e.type
                                                                                            ? "text-red-800 dark:text-red-200"
                                                                                            : "warning" === e.type
                                                                                              ? "text-amber-800 dark:text-amber-200"
                                                                                              : "modal" === e.type
                                                                                                ? "text-purple-800 dark:text-purple-200"
                                                                                                : "room" === e.type
                                                                                                  ? "text-gray-800"
                                                                                                  : "diffusion" ===
                                                                                                      e.type
                                                                                                    ? "text-blue-800 dark:text-blue-200"
                                                                                                    : "text-green-800 dark:text-green-200"),
                                                                                    children: e.title,
                                                                                }),
                                                                                _jsx("div", {
                                                                                    className:
                                                                                        "text-sm " +
                                                                                        ("critical" === e.type
                                                                                            ? "text-red-700"
                                                                                            : "warning" === e.type
                                                                                              ? "text-amber-700"
                                                                                              : "modal" === e.type
                                                                                                ? "text-purple-700"
                                                                                                : "room" === e.type
                                                                                                  ? "text-gray-700 dark:text-gray-300"
                                                                                                  : "diffusion" ===
                                                                                                      e.type
                                                                                                    ? "text-blue-700"
                                                                                                    : "text-green-700"),
                                                                                    children: e.text,
                                                                                }),
                                                                            ],
                                                                        }),
                                                                    ],
                                                                }),
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                                _jsxs("div", {
                                                    className: "mt-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg text-xs text-gray-600 dark:text-gray-400",
                                                    children: [
                                                        _jsx("strong", { children: "Standards Reference: " }),
                                                        "Recommendations based on AES/IEC acoustic treatment guidelines, Schroeder diffuser theory, and the λ/4 absorption rule. For professional applications, consult an acoustic engineer.",
                                                    ],
                                                }),
                                            ],
                                        }),
                                ],
                            }),
                    ],
                }),
        ],
    });
}
function ProjectorCalculator() {
    const [e, t] = useState(10),
        [s, a] = useState(1.5),
        [r, l] = useState("ft"),
        [i, n] = useState(300),
        [o, d] = useState(5.625),
        [c, m] = useState("16:9"),
        [x, u] = useState(1),
        [h, p] = useState(null),
        [g, b] = useState(!1),
        f = [
            { label: "16:9", w: 16, h: 9, decimal: 16 / 9 },
            { label: "16:10", w: 16, h: 10, decimal: 1.6 },
            { label: "4:3", w: 4, h: 3, decimal: 4 / 3 },
            { label: "21:9", w: 21, h: 9, decimal: 21 / 9 },
            { label: "2.35:1", w: 2.35, h: 1, decimal: 2.35 },
        ],
        y = (e, t) => {
            if ("custom" === t) return o;
            const [s, a] = t.split(":").map(Number);
            return Math.round(((e * a) / s) * 1e3) / 1e3;
        },
        j = (e, t) => {
            if (!e || !t || e <= 0 || t <= 0) return "custom";
            const s = e / t;
            for (const e of f) if (Math.abs(e.decimal - s) / e.decimal < 0.02) return e.label;
            return "custom";
        };
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Projector Brightness & Throw Calculator",
                    }),
                    h !== null &&
                        _jsx("button", {
                            onClick: () => b(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: g,
                onConfirm: () => {
                    t(10), a(1.5), l("ft"), n(300), d(5.625), m("16:9"), u(1), p(null), b(!1);
                },
                onCancel: () => b(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates the required projector brightness (lumens) and throw distance based on your screen size, ambient lighting conditions, and screen gain. Helps you select the right projector and determine optimal mounting distance.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("h2", {
                        className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                        children: [_jsx("span", { className: "text-blue-600", children: "📐" }), " Screen Size"],
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Unit",
                                    }),
                                    _jsxs("select", {
                                        value: r,
                                        onChange: (e) => l(e.target.value),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "ft", children: "Feet" }),
                                            _jsx("option", { value: "in", children: "Inches" }),
                                            _jsx("option", { value: "m", children: "Meters" }),
                                            _jsx("option", { value: "mm", children: "Millimeters" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Aspect Ratio",
                                    }),
                                    _jsxs("select", {
                                        value: c,
                                        onChange: (t) => {
                                            return (s = t.target.value), m(s), void ("custom" !== s && d(y(e, s)));
                                            var s;
                                        },
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "16:9", children: "16:9 (Widescreen)" }),
                                            _jsx("option", { value: "16:10", children: "16:10 (WXGA)" }),
                                            _jsx("option", { value: "4:3", children: "4:3 (Standard)" }),
                                            _jsx("option", { value: "21:9", children: "21:9 (Ultrawide)" }),
                                            _jsx("option", { value: "2.35:1", children: "2.35:1 (Cinemascope)" }),
                                            _jsx("option", { value: "custom", children: "Custom" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Screen Width (", r, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        min: "0.1",
                                        value: e,
                                        onChange: (e) =>
                                            ((e) => {
                                                if ((t(e), "custom" !== c)) d(y(e, c));
                                                else {
                                                    const t = j(e, o);
                                                    "custom" !== t && m(t);
                                                }
                                            })("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Screen Height (", r, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        min: "0.1",
                                        value: o,
                                        onChange: (t) =>
                                            ((t) => {
                                                d(t);
                                                const s = j(e, t);
                                                m(s);
                                            })("" === t.target.value ? "" : parseFloat(t.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 " +
                                            ("custom" === c ? "" : "bg-gray-50 dark:bg-gray-900/50"),
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children:
                                            "custom" === c
                                                ? "Enter custom height - aspect ratio will auto-detect"
                                                : "Auto-calculated from aspect ratio (edit to customize)",
                                    }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("h2", {
                        className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                        children: [_jsx("span", { className: "text-green-600", children: "📏" }), " Throw Distance"],
                    }),
                    _jsx("div", {
                        className: "grid md:grid-cols-1 gap-6",
                        children: _jsxs("div", {
                            children: [
                                _jsx("label", {
                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                    children: "Throw Ratio",
                                }),
                                _jsx("input", {
                                    type: "number",
                                    step: "0.1",
                                    min: "0.1",
                                    value: s,
                                    onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                    className:
                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                }),
                                _jsx("p", {
                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                    children: "From projector specifications (e.g., 1.5 means 1.5× screen width)",
                                }),
                            ],
                        }),
                    }),
                    _jsxs("div", {
                        className: "mt-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                        children: [
                            _jsx("div", {
                                className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Common Throw Ratios:",
                            }),
                            _jsxs("div", {
                                className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",
                                children: [
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-2 rounded border",
                                        children: [
                                            _jsx("div", {
                                                className: "font-semibold text-purple-600",
                                                children: "0.3 - 0.5",
                                            }),
                                            _jsx("div", {
                                                className: "text-xs text-gray-500 dark:text-gray-400",
                                                children: "Ultra Short Throw",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-2 rounded border",
                                        children: [
                                            _jsx("div", {
                                                className: "font-semibold text-blue-600",
                                                children: "0.5 - 1.0",
                                            }),
                                            _jsx("div", {
                                                className: "text-xs text-gray-500 dark:text-gray-400",
                                                children: "Short Throw",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-2 rounded border",
                                        children: [
                                            _jsx("div", {
                                                className: "font-semibold text-green-600",
                                                children: "1.0 - 2.0",
                                            }),
                                            _jsx("div", {
                                                className: "text-xs text-gray-500 dark:text-gray-400",
                                                children: "Standard Throw",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-2 rounded border",
                                        children: [
                                            _jsx("div", {
                                                className: "font-semibold text-orange-600",
                                                children: "2.0+",
                                            }),
                                            _jsx("div", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Long Throw" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("h2", {
                        className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                        children: [
                            _jsx("span", { className: "text-yellow-600", children: "💡" }),
                            " Projector Brightness",
                        ],
                    }),
                    _jsx("p", {
                        className: "text-sm text-gray-600 dark:text-gray-400 mb-6",
                        children:
                            "Calculate the required projector brightness (lumens) based on ambient light conditions and screen size.",
                    }),
                    _jsxs("div", {
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Ambient Light (lux)",
                            }),
                            _jsx("input", {
                                type: "number",
                                min: "0",
                                value: i,
                                onChange: (e) => n("" === e.target.value ? "" : parseFloat(e.target.value)),
                                className:
                                    "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-4",
                        children: [
                            _jsx("label", {
                                className: "block text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",
                                children: "Quick Presets:",
                            }),
                            _jsx("div", {
                                className: "flex flex-wrap gap-2",
                                children: [
                                    { label: "Theater Dark", lux: 20, desc: "Dedicated theater" },
                                    { label: "Dim", lux: 150, desc: "Controlled lighting" },
                                    { label: "Office", lux: 300, desc: "Standard office" },
                                    { label: "Bright", lux: 500, desc: "Well-lit room" },
                                    { label: "Very Bright", lux: 750, desc: "Near windows" },
                                ].map((e) =>
                                    _jsxs(
                                        "button",
                                        {
                                            type: "button",
                                            onClick: () => n(e.lux),
                                            className:
                                                "px-3 py-2 text-xs rounded-lg border transition-colors " +
                                                (i === e.lux
                                                    ? "bg-blue-600 text-white border-blue-600"
                                                    : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:text-blue-600"),
                                            children: [
                                                _jsx("div", { className: "font-semibold", children: e.label }),
                                                _jsxs("div", {
                                                    className: "text-xs opacity-75",
                                                    children: [e.lux, " lux"],
                                                }),
                                            ],
                                        },
                                        e.label
                                    )
                                ),
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-6",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Screen Gain",
                            }),
                            _jsx("input", {
                                type: "number",
                                min: "0.5",
                                max: "2.5",
                                step: "0.1",
                                value: x,
                                onChange: (e) => u("" === e.target.value ? 1 : parseFloat(e.target.value) || 1),
                                className:
                                    "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                            }),
                            _jsxs("div", {
                                className: "flex flex-wrap gap-2 mt-2",
                                children: [
                                    { label: "Matte (1.0)", gain: 1 },
                                    { label: "Standard (1.3)", gain: 1.3 },
                                    { label: "High Gain (1.8)", gain: 1.8 },
                                    { label: "ALR (0.8)", gain: 0.8 },
                                ].map((e) =>
                                    _jsx(
                                        "button",
                                        {
                                            type: "button",
                                            onClick: () => u(e.gain),
                                            className:
                                                "px-3 py-1 text-xs rounded-lg border transition-colors cursor-pointer " +
                                                (x === e.gain
                                                    ? "bg-blue-600 text-white border-blue-600"
                                                    : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:border-blue-400"),
                                            children: e.label,
                                        },
                                        e.label
                                    )
                                ),
                            }),
                            _jsx("p", {
                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                children:
                                    "Screen gain affects brightness efficiency. Higher gain = brighter but narrower viewing angle. ALR screens reject ambient light.",
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",
                        children: _jsxs("p", {
                            className: "text-xs text-blue-700",
                            children: [
                                _jsx("strong", { children: "AVIXA Formula:" }),
                                " Lumens = (Target ft-L × Screen Area ft² × π) ÷ Screen Gain",
                            ],
                        }),
                    }),
                ],
            }),
            _jsx("button", {
                onClick: () => {
                    const t = e * s;
                    let a = e,
                        l = o;
                    "in" === r
                        ? ((a = e / 12), (l = o / 12))
                        : "mm" === r
                          ? ((a = e / 304.8), (l = o / 304.8))
                          : "m" === r && ((a = 3.28084 * e), (l = 3.28084 * o));
                    const n = a * l,
                        d = n / 10.764;
                    let c;
                    c = i <= 20 ? 14 : i <= 50 ? 20 : i <= 150 ? 35 : i <= 300 ? 50 : i <= 500 ? 60 : 80;
                    const m = (c * n * Math.PI) / x,
                        u = Math.max(2e3, 35 * n),
                        h = Math.max(m, u),
                        g = (h * x) / (n * Math.PI),
                        b = 3.426 * g;
                    let f = "",
                        y = "";
                    i <= 20
                        ? ((f = "Dedicated Theater"), (y = "Full light control, cinema experience"))
                        : i <= 50
                          ? ((f = "Dark Room"), (y = "Home theater, dedicated AV rooms"))
                          : i <= 150
                            ? ((f = "Dim Room"), (y = "Conference rooms with controlled lighting"))
                            : i <= 300
                              ? ((f = "Moderate Light"), (y = "Standard office, meeting rooms"))
                              : i <= 500
                                ? ((f = "Bright Room"), (y = "Well-lit offices, classrooms"))
                                : ((f = "Very Bright"), (y = "High ambient light, ALR screen recommended"));
                    let j = "";
                    j = s < 0.5 ? "Ultra Short Throw" : s < 1 ? "Short Throw" : s < 2 ? "Standard Throw" : "Long Throw";
                    let _ = null;
                    if (h > 1e4) {
                        let e, t, s, r, i;
                        if (h <= 2e4)
                            (e = "Large Venue Laser"),
                                (t = 1),
                                (s = h),
                                (r = "Single large venue projector recommended"),
                                (i = null);
                        else if (h <= 4e4)
                            (e = "High-End Laser"),
                                (t = 1),
                                (s = h),
                                (r = "Single high-end projector. Consider 2× stacked for redundancy."),
                                (i = "Edge blending optional for brightness stacking");
                        else {
                            const n = 2e4,
                                o = 0.12,
                                d = n * (1 - o);
                            if (((t = Math.ceil(h / d)), t <= 2 && h <= 75e3))
                                (e = "Ultra High Output (Barco/Christie)"),
                                    (t = 1),
                                    (s = h),
                                    (r = "Single ultra-high-output projector (Barco UDX or Christie equivalent)"),
                                    (i = null);
                            else if (t <= 3)
                                (s = Math.ceil(h / t / (1 - o))),
                                    (e = s > 3e4 ? "Large Venue Laser" : "Professional Laser"),
                                    (r = `${t}× projector edge-blended configuration`),
                                    (i = `Edge blending with ${Math.round(100 * o)}% overlap. Each projector: ${s.toLocaleString()} lumens.`);
                            else {
                                (t = Math.ceil(h / d)), (s = n), (e = "Large Venue Laser Array");
                                const o = a / l;
                                let c, m;
                                o >= 2
                                    ? ((c = Math.ceil(Math.sqrt(t * o))), (m = Math.ceil(t / c)))
                                    : ((c = Math.ceil(Math.sqrt(t))), (m = Math.ceil(t / c))),
                                    (t = c * m),
                                    (r = `${t}× projector array (${c}×${m} grid)`),
                                    (i = `Professional edge-blending system required. Each zone: ~${Math.round(a / c)}'×${Math.round(l / m)}' coverage.`);
                            }
                            const c = [];
                            t > 1 &&
                                (c.push("Edge blending processor (Analog Way, Barco, or Christie)"),
                                c.push("Precision mounting system with micro-adjustment"),
                                c.push("Professional calibration required")),
                                h > 5e4 &&
                                    (c.push("Dedicated power circuits (20A+ per projector)"),
                                    c.push("Active cooling/ventilation planning")),
                                (_ = {
                                    required: t > 1 || h > 4e4,
                                    projectorCount: t,
                                    lumensPerProjector: Math.round(s),
                                    projectorClass: e,
                                    recommendation: r,
                                    blendingNote: i,
                                    equipmentNeeded: c,
                                    totalSystemLumens: t * s,
                                    isExtreme: h > 1e5,
                                });
                        }
                        h > 2e5 &&
                            (_ = {
                                required: !0,
                                projectorCount: Math.ceil(h / 2e4),
                                lumensPerProjector: 2e4,
                                projectorClass: "Stadium/Arena Class",
                                recommendation: "Consider LED video wall instead of projection for this scale",
                                blendingNote:
                                    "At this scale, direct-view LED typically provides better uniformity and lower maintenance",
                                equipmentNeeded: [
                                    "Professional AV integration firm required",
                                    "LED wall evaluation recommended",
                                ],
                                totalSystemLumens: h,
                                isExtreme: !0,
                                ledRecommended: !0,
                            });
                    }
                    let v = null;
                    const N = 12 * Math.sqrt(a * a + l * l);
                    N > 600 &&
                        (v = {
                            level: "info",
                            message: "Very large screen - consider seamless projection screen or LED wall",
                            diagonal: Math.round(N),
                        }),
                        N > 1200 &&
                            (v = {
                                level: "warning",
                                message: "Stadium-scale display - LED video wall strongly recommended over projection",
                                diagonal: Math.round(N),
                            }),
                        p({
                            throwDistance: Math.round(100 * t) / 100,
                            throwCategory: j,
                            requiredLumens: Math.round(h),
                            recommendedMin: Math.round(0.9 * h),
                            recommendedMax: Math.round(1.3 * h),
                            screenAreaFt: Math.round(100 * n) / 100,
                            screenAreaM2: Math.round(100 * d) / 100,
                            screenDiagonalIn: Math.round(N),
                            targetFtL: Math.round(c),
                            resultingFtL: Math.round(10 * g) / 10,
                            resultingNits: Math.round(b),
                            screenGain: x,
                            brightnessCategory: f,
                            brightnessDescription: y,
                            unit: r,
                            multiProjector: _,
                            screenSizeWarning: v,
                        });
                },
                className:
                    "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-lg transition-colors text-lg mb-8 cursor-pointer",
                children: "Calculate Brightness & Throw",
            }),
            h &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                            children: [
                                _jsx("h3", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Throw Distance Result",
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-6 rounded-lg border-2 border-green-200 dark:border-green-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Required Throw Distance",
                                        }),
                                        _jsxs("div", {
                                            className: "text-4xl font-bold text-green-700",
                                            children: [h.throwDistance, " ", h.unit],
                                        }),
                                        _jsxs("div", {
                                            className: "text-sm text-gray-500 dark:text-gray-400 mt-2",
                                            children: [
                                                e,
                                                " ",
                                                r,
                                                " × ",
                                                s,
                                                " throw ratio = ",
                                                h.throwDistance,
                                                " ",
                                                r,
                                                " (",
                                                h.throwCategory,
                                                ")",
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                            children: [
                                _jsx("h3", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Brightness Calculation Results",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border-2 border-yellow-200 dark:border-yellow-800",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Required Projector Brightness",
                                                }),
                                                _jsx("div", {
                                                    className: "text-4xl font-bold text-yellow-700",
                                                    children: h.requiredLumens.toLocaleString(),
                                                }),
                                                _jsx("div", {
                                                    className: "text-lg text-yellow-600",
                                                    children: "Lumens",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-2",
                                                    children: [
                                                        "Recommended range: ",
                                                        h.recommendedMin.toLocaleString(),
                                                        " - ",
                                                        h.recommendedMax.toLocaleString(),
                                                        " lumens",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Screen Area",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-3xl font-bold text-blue-700",
                                                    children: [h.screenAreaFt, " ft²"],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-sm text-gray-500 dark:text-gray-400",
                                                    children: [h.screenAreaM2, " m²"],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-gray-600 dark:text-gray-400",
                                                    children: "Target Brightness",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xl font-bold text-purple-700",
                                                    children: [h.targetFtL, " ft-L"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "SMPTE Standard",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-indigo-50 p-4 rounded-lg border border-indigo-200 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-gray-600 dark:text-gray-400",
                                                    children: "Resulting Brightness",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xl font-bold text-indigo-700",
                                                    children: [h.resultingNits, " nits"],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: [h.resultingFtL, " ft-L"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-teal-50 p-4 rounded-lg border border-teal-200 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-gray-600 dark:text-gray-400",
                                                    children: "Screen Gain",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xl font-bold text-teal-700",
                                                    children: h.screenGain,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children:
                                                        h.screenGain >= 1.3
                                                            ? "High Gain"
                                                            : h.screenGain <= 0.9
                                                              ? "ALR Screen"
                                                              : "Standard",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className:
                                        "bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border-2 border-purple-200 dark:border-purple-800",
                                    children: [
                                        _jsxs("div", {
                                            className: "flex items-center justify-between mb-2",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Environment Type",
                                                }),
                                                _jsxs("span", {
                                                    className:
                                                        "text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",
                                                    children: [i, " lux"],
                                                }),
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "text-2xl font-bold text-purple-700",
                                            children: h.brightnessCategory,
                                        }),
                                        _jsx("p", {
                                            className: "text-sm text-gray-600 dark:text-gray-400 mt-1",
                                            children: h.brightnessDescription,
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-6 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                                    children: [
                                        _jsx("h4", {
                                            className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                            children: "Projector Recommendations",
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                h.requiredLumens <= 3e3 &&
                                                    _jsx("p", {
                                                        className: "text-green-700",
                                                        children:
                                                            "✓ Standard home theater or portable projectors should work well",
                                                    }),
                                                h.requiredLumens > 3e3 &&
                                                    h.requiredLumens <= 5e3 &&
                                                    _jsx("p", {
                                                        className: "text-blue-700",
                                                        children:
                                                            "✓ Look for business/conference room projectors (3,000-5,000 lumens)",
                                                    }),
                                                h.requiredLumens > 5e3 &&
                                                    h.requiredLumens <= 1e4 &&
                                                    _jsx("p", {
                                                        className: "text-orange-700",
                                                        children:
                                                            "✓ Consider laser projectors or high-brightness installation projectors",
                                                    }),
                                                h.requiredLumens > 1e4 &&
                                                    _jsx("p", {
                                                        className: "text-red-700",
                                                        children:
                                                            "✓ Large venue projector required (10,000+ lumens) - consider multiple projectors or ALR screen",
                                                    }),
                                                i > 500 &&
                                                    _jsx("p", {
                                                        className: "text-purple-700",
                                                        children:
                                                            "💡 Consider an ALR (Ambient Light Rejecting) screen to improve image quality",
                                                    }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                                    children: [
                                        _jsx("h4", {
                                            className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Calculation Breakdown",
                                        }),
                                        _jsxs("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                            children: [
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("strong", { children: "Screen Area:" }),
                                                        " ",
                                                        e,
                                                        " × ",
                                                        o,
                                                        " = ",
                                                        h.screenAreaFt,
                                                        " ft²",
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("strong", { children: "Area in m²:" }),
                                                        " ",
                                                        h.screenAreaFt,
                                                        " ÷ 10.764 = ",
                                                        h.screenAreaM2,
                                                        " m²",
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    children: [
                                                        _jsx("strong", { children: "Required Lumens:" }),
                                                        " ",
                                                        i,
                                                        " lux × ",
                                                        h.screenAreaM2,
                                                        " m² × 3 = ",
                                                        _jsxs("strong", {
                                                            children: [h.requiredLumens.toLocaleString(), " lumens"],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        h.multiProjector &&
                            h.multiProjector.required &&
                            _jsxs("div", {
                                className:
                                    "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border-2 " +
                                    (h.multiProjector.ledRecommended ? "border-orange-400" : "border-purple-400"),
                                children: [
                                    _jsxs("h3", {
                                        className: "text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                        children: [
                                            _jsx("span", { children: h.multiProjector.ledRecommended ? "⚠️" : "🎬" }),
                                            h.multiProjector.ledRecommended
                                                ? " Scale Advisory"
                                                : " Multi-Projector Configuration",
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className:
                                            "p-4 rounded-lg mb-4 " +
                                            (h.multiProjector.ledRecommended
                                                ? "bg-orange-50 border border-orange-200"
                                                : "bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800"),
                                        children: [
                                            _jsxs("div", {
                                                className: "grid md:grid-cols-3 gap-4 mb-4",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "text-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                                children: "Projectors Required",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-3xl font-bold text-purple-700",
                                                                children: h.multiProjector.projectorCount,
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                                children: "Lumens per Projector",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-2xl font-bold text-purple-600",
                                                                children:
                                                                    h.multiProjector.lumensPerProjector.toLocaleString(),
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                                children: "Projector Class",
                                                            }),
                                                            _jsx("div", {
                                                                className: "text-lg font-semibold text-purple-600",
                                                                children: h.multiProjector.projectorClass,
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "font-medium text-gray-800",
                                                        children: h.multiProjector.recommendation,
                                                    }),
                                                    h.multiProjector.blendingNote &&
                                                        _jsx("div", {
                                                            className: "text-sm text-gray-600 dark:text-gray-400 mt-1",
                                                            children: h.multiProjector.blendingNote,
                                                        }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    h.multiProjector.equipmentNeeded &&
                                        h.multiProjector.equipmentNeeded.length > 0 &&
                                        _jsxs("div", {
                                            className: "bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Equipment & Considerations:",
                                                }),
                                                _jsx("ul", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                    children: h.multiProjector.equipmentNeeded.map((e, t) =>
                                                        _jsxs(
                                                            "li",
                                                            {
                                                                className: "flex items-center gap-2",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "text-purple-500",
                                                                        children: "•",
                                                                    }),
                                                                    e,
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                ],
                            }),
                        h.screenSizeWarning &&
                            _jsxs("div", {
                                className: `bg-${"warning" === h.screenSizeWarning.level ? "orange" : "blue"}-50 p-4 rounded-lg border border-${"warning" === h.screenSizeWarning.level ? "orange" : "blue"}-200 mt-4`,
                                children: [
                                    _jsxs("div", {
                                        className: `font-medium text-${"warning" === h.screenSizeWarning.level ? "orange" : "blue"}-800`,
                                        children: [
                                            "Screen Diagonal: ",
                                            h.screenSizeWarning.diagonal,
                                            '" (',
                                            Math.round(h.screenSizeWarning.diagonal / 12),
                                            " ft)",
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: `text-sm text-${"warning" === h.screenSizeWarning.level ? "orange" : "blue"}-700`,
                                        children: h.screenSizeWarning.message,
                                    }),
                                ],
                            }),
                    ],
                }),
        ],
    });
}
function POECalculator() {
    const [e, t] = useState(0),
        [s, a] = useState(0),
        [r, l] = useState(0),
        [i, n] = useState(0),
        [o, d] = useState(20),
        [c, m] = useState(50),
        [x, u] = useState(null),
        [h, p] = useState(!1),
        [cableLength, setCableLength] = useState(50),
        [cableType, setCableType] = useState("cat6"),
        [lengthUnit, setLengthUnit] = useState("m"),
        g = (e) => (t) => {
            if ("" === t.target.value) return void e("");
            const s = "" === t.target.value ? "" : parseInt(t.target.value);
            e(Math.max(0, s));
        },
        b = e + s + r + i,
        // Convert display length to meters for calculation
        cableLengthM = lengthUnit === "ft" ? cableLength / 3.28084 : cableLength,
        // Convert meters to feet for display
        displayLengthFt = Math.round(cableLength * 3.28084),
        displayLengthM = Math.round(cableLength / 3.28084);
    return _jsxs("div", {
        className: "max-w-4xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", { className: "text-3xl font-bold text-gray-900 dark:text-gray-100", children: "POE Budget Calculator" }),
                    b > 0 &&
                        _jsx("button", {
                            onClick: () => p(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: h,
                onConfirm: () => {
                    t(0), a(0), l(0), n(0), d(20), m(50), u(null), p(!1), setCableLength(50), setCableType("cat6"), setLengthUnit("m");
                },
                onCancel: () => p(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates total Power over Ethernet requirements for your network. Enter the count of devices by PoE type (PoE, PoE+, PoE++, 4PPoE) to determine the total wattage needed and recommended switch power budget with headroom.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg font-semibold text-gray-800 mb-4",
                        children: "Device Count by POE Type",
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "POE Devices (15.4W each)",
                                    }),
                                    _jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            _jsx("input", {
                                                type: "number",
                                                min: "0",
                                                value: e,
                                                onChange: g(t),
                                                className: "w-full px-4 py-2 border rounded-lg text-lg font-medium",
                                                placeholder: "0",
                                            }),
                                            _jsxs("span", {
                                                className: "text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",
                                                children: ["= ", (15.4 * e).toFixed(1), "W"],
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "IP phones, basic cameras, small APs",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "POE+ Devices (30W each)",
                                    }),
                                    _jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            _jsx("input", {
                                                type: "number",
                                                min: "0",
                                                value: s,
                                                onChange: g(a),
                                                className: "w-full px-4 py-2 border rounded-lg text-lg font-medium",
                                                placeholder: "0",
                                            }),
                                            _jsxs("span", {
                                                className: "text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",
                                                children: ["= ", (30 * s).toFixed(1), "W"],
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "PTZ cameras, video phones, advanced APs",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "POE++ Devices (60W each)",
                                    }),
                                    _jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            _jsx("input", {
                                                type: "number",
                                                min: "0",
                                                value: r,
                                                onChange: g(l),
                                                className: "w-full px-4 py-2 border rounded-lg text-lg font-medium",
                                                placeholder: "0",
                                            }),
                                            _jsxs("span", {
                                                className: "text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",
                                                children: ["= ", (60 * r).toFixed(1), "W"],
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Video conferencing, multi-radio APs, small displays",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "4PPoE / Type 4 Devices (90W each)",
                                    }),
                                    _jsxs("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            _jsx("input", {
                                                type: "number",
                                                min: "0",
                                                value: i,
                                                onChange: g(n),
                                                className: "w-full px-4 py-2 border rounded-lg text-lg font-medium",
                                                placeholder: "0",
                                            }),
                                            _jsxs("span", {
                                                className: "text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",
                                                children: ["= ", (90 * i).toFixed(1), "W"],
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Large displays, thin clients, high-power devices",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "mt-6 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border",
                        children: _jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [
                                _jsx("span", {
                                    className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                    children: "Total Devices:",
                                }),
                                _jsx("span", { className: "text-lg font-bold text-blue-700", children: b }),
                            ],
                        }),
                    }),
                    _jsxs("div", {
                        className: "mt-6",
                        children: [
                            _jsxs("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: ["Headroom: ", o, "%"],
                            }),
                            _jsx("input", {
                                type: "range",
                                min: "0",
                                max: "50",
                                step: "5",
                                value: o,
                                onChange: (e) => d("" === e.target.value ? "" : parseFloat(e.target.value)),
                                className: "w-full",
                            }),
                            _jsx("p", {
                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                children: "Additional power buffer for future expansion and safety margin",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-6 p-4 bg-orange-50 rounded-lg border border-orange-200",
                        children: [
                            _jsxs("label", {
                                className: "block text-sm font-medium text-orange-800 mb-2",
                                children: ["Switch Base Power: ", c, "W"],
                            }),
                            _jsx("input", {
                                type: "range",
                                min: "0",
                                max: "200",
                                step: "10",
                                value: c,
                                onChange: (e) => m(Number(e.target.value) || 0),
                                className: "w-full accent-orange-500",
                            }),
                            _jsxs("div", {
                                className: "flex justify-between text-xs text-orange-600 mt-1",
                                children: [
                                    _jsx("span", { children: "0W" }),
                                    _jsx("span", { children: "50W" }),
                                    _jsx("span", { children: "100W" }),
                                    _jsx("span", { children: "150W" }),
                                    _jsx("span", { children: "200W" }),
                                ],
                            }),
                            _jsx("p", {
                                className: "text-xs text-orange-700 mt-2",
                                children:
                                    "Power consumed by the switch itself (not PoE). Typical: 20-80W for managed switches, 50-150W for enterprise.",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-6 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-purple-800 dark:text-purple-200 mb-3",
                                children: "Average Cable Run Length",
                            }),
                            _jsxs("div", {
                                className: "flex items-center gap-3 mb-3",
                                children: [
                                    _jsxs("div", {
                                        className: "flex-1",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex items-center gap-2 mb-2",
                                                children: [
                                                    _jsx("input", {
                                                        type: "number",
                                                        min: "1",
                                                        max: lengthUnit === "m" ? "100" : "328",
                                                        value: cableLength,
                                                        onChange: (ev) => {
                                                            const val = parseInt(ev.target.value) || 0;
                                                            const max = lengthUnit === "m" ? 100 : 328;
                                                            setCableLength(Math.min(Math.max(1, val), max));
                                                        },
                                                        className: "w-24 px-3 py-2 border rounded-lg text-lg font-medium",
                                                    }),
                                                    _jsxs("select", {
                                                        value: lengthUnit,
                                                        onChange: (ev) => {
                                                            const newUnit = ev.target.value;
                                                            if (newUnit !== lengthUnit) {
                                                                // Convert the value
                                                                if (newUnit === "ft") {
                                                                    setCableLength(Math.round(cableLength * 3.28084));
                                                                } else {
                                                                    setCableLength(Math.round(cableLength / 3.28084));
                                                                }
                                                                setLengthUnit(newUnit);
                                                            }
                                                        },
                                                        className: "px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",
                                                        children: [
                                                            _jsx("option", { value: "m", children: "meters" }),
                                                            _jsx("option", { value: "ft", children: "feet" }),
                                                        ],
                                                    }),
                                                    _jsx("span", {
                                                        className: "text-sm text-purple-600",
                                                        children: lengthUnit === "m" 
                                                            ? `(${displayLengthFt} ft)` 
                                                            : `(${displayLengthM} m)`,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "flex gap-2 flex-wrap",
                                                children: [
                                                    _jsx("button", {
                                                        onClick: () => { setCableLength(lengthUnit === "m" ? 30 : 98); },
                                                        className: "px-3 py-1 text-xs rounded-full border border-purple-300 hover:bg-purple-100 transition-colors " + 
                                                            ((lengthUnit === "m" && cableLength === 30) || (lengthUnit === "ft" && cableLength === 98) ? "bg-purple-200" : "bg-white dark:bg-gray-800"),
                                                        children: "30m / 98ft",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => { setCableLength(lengthUnit === "m" ? 50 : 164); },
                                                        className: "px-3 py-1 text-xs rounded-full border border-purple-300 hover:bg-purple-100 transition-colors " +
                                                            ((lengthUnit === "m" && cableLength === 50) || (lengthUnit === "ft" && cableLength === 164) ? "bg-purple-200" : "bg-white dark:bg-gray-800"),
                                                        children: "50m / 164ft",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => { setCableLength(lengthUnit === "m" ? 75 : 246); },
                                                        className: "px-3 py-1 text-xs rounded-full border border-purple-300 hover:bg-purple-100 transition-colors " +
                                                            ((lengthUnit === "m" && cableLength === 75) || (lengthUnit === "ft" && cableLength === 246) ? "bg-purple-200" : "bg-white dark:bg-gray-800"),
                                                        children: "75m / 246ft",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => { setCableLength(lengthUnit === "m" ? 100 : 328); },
                                                        className: "px-3 py-1 text-xs rounded-full border border-purple-300 hover:bg-purple-100 transition-colors " +
                                                            ((lengthUnit === "m" && cableLength === 100) || (lengthUnit === "ft" && cableLength === 328) ? "bg-purple-200" : "bg-white dark:bg-gray-800"),
                                                        children: "100m / 328ft (max)",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "flex items-center gap-3",
                                children: [
                                    _jsx("label", {
                                        className: "text-sm font-medium text-purple-800 dark:text-purple-200",
                                        children: "Cable Type:",
                                    }),
                                    _jsxs("select", {
                                        value: cableType,
                                        onChange: (ev) => setCableType(ev.target.value),
                                        className: "px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",
                                        children: [
                                            _jsx("option", { value: "cat5e", children: "Cat5e (24 AWG)" }),
                                            _jsx("option", { value: "cat6", children: "Cat6 (23 AWG)" }),
                                            _jsx("option", { value: "cat6a", children: "Cat6A (22 AWG)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsx("p", {
                                className: "text-xs text-purple-700 mt-2",
                                children:
                                    "Cable length affects power loss (IEEE 802.3). Longer runs and thinner cables result in more power dissipation. Max Ethernet distance: 100m (328ft).",
                            }),
                        ],
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => u(_0x78d92f({ poe: e, poePlus: s, poePlusPlus: r, fourPPOE: i }, o, c, cableLengthM, cableType)),
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg cursor-pointer",
                        children: "Calculate POE Budget",
                    }),
                ],
            }),
            x &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsx("h2", { className: "text-xl font-semibold mb-6", children: "Results" }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-4 gap-4 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "PSE Power Required",
                                        }),
                                        _jsxs("div", {
                                            className: "text-2xl font-bold text-blue-700",
                                            children: [x.totalWatts, " W"],
                                        }),
                                        _jsxs("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: [
                                                "Incl. cable loss",
                                                x.cableLoss && x.cableLoss.totalLossWatts > 0 
                                                    ? ` (+${x.cableLoss.totalLossWatts}W)` 
                                                    : "",
                                                ` + ${x.headroomPercent}% headroom`
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-orange-50 p-5 rounded-lg border-2 border-orange-200",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Switch Base Power",
                                        }),
                                        _jsxs("div", {
                                            className: "text-2xl font-bold text-orange-700",
                                            children: [x.switchBasePower, " W"],
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: "Switch operating power",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-purple-50 dark:bg-purple-900/20 p-5 rounded-lg border-2 border-purple-200 dark:border-purple-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Total System Power",
                                        }),
                                        _jsxs("div", {
                                            className: "text-2xl font-bold text-purple-700",
                                            children: [x.totalSystemPower, " W"],
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: "PSE + Switch power",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-5 rounded-lg border-2 border-green-200 dark:border-green-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Minimum PoE Standard",
                                        }),
                                        _jsx("div", {
                                            className: "text-lg font-bold text-green-700",
                                            children: x.minStandardShort,
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: x.minStandardIEEE,
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        x.cableLoss && x.cableLoss.totalLossWatts > 0 && _jsxs("div", {
                            className: "bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border-2 border-purple-200 dark:border-purple-800 mb-6",
                            children: [
                                _jsx("h3", {
                                    className: "text-sm font-semibold text-purple-800 dark:text-purple-200 mb-3",
                                    children: "⚡ Cable Power Loss Analysis (IEEE 802.3)",
                                }),
                                _jsx("div", {
                                    className: "bg-white dark:bg-gray-800/80 rounded-lg p-3 mb-3 text-xs text-center",
                                    children: _jsxs("div", {
                                        className: "flex items-center justify-center gap-2 flex-wrap",
                                        children: [
                                            _jsxs("span", {
                                                className: "font-semibold text-blue-700",
                                                children: ["PD: ", x.cableLoss.powerAtDevices, "W"]
                                            }),
                                            _jsx("span", { className: "text-gray-400", children: "+" }),
                                            _jsxs("span", {
                                                className: "font-semibold " + (x.cableLoss.lossPercent > 15 ? "text-red-600" : x.cableLoss.lossPercent > 10 ? "text-orange-600" : "text-green-600"),
                                                children: ["Cable Loss: ", x.cableLoss.totalLossWatts, "W"]
                                            }),
                                            _jsx("span", { className: "text-gray-400", children: "=" }),
                                            _jsxs("span", {
                                                className: "font-semibold text-purple-700",
                                                children: ["PSE Output: ", x.subtotalWatts, "W"]
                                            }),
                                            _jsx("span", { className: "text-gray-400", children: "+" }),
                                            _jsxs("span", {
                                                className: "font-semibold text-gray-600 dark:text-gray-400",
                                                children: [x.headroomPercent, "% Headroom"]
                                            }),
                                            _jsx("span", { className: "text-gray-400", children: "=" }),
                                            _jsxs("span", {
                                                className: "font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded",
                                                children: ["Budget: ", x.totalWatts, "W"]
                                            }),
                                        ],
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-center mb-3",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsxs("div", {
                                                    className: "text-xl font-bold text-purple-600",
                                                    children: [x.cableLoss.cableLengthM, "m"],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: ["Cable Length (", x.cableLoss.cableLengthFt, " ft)"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xl font-bold text-orange-600",
                                                    children: x.cableLoss.cableType.toUpperCase(),
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "Cable Type",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsxs("div", {
                                                    className: "text-xl font-bold " + (x.cableLoss.lossPercent > 15 ? "text-red-600" : x.cableLoss.lossPercent > 10 ? "text-orange-600" : "text-green-600"),
                                                    children: [x.cableLoss.totalLossWatts, "W"],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: ["Total Cable Loss (", x.cableLoss.lossPercent, "%)"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsxs("div", {
                                                    className: "text-xl font-bold text-blue-600",
                                                    children: [x.cableLoss.powerAtDevices, "W"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "Power at Devices (PD)",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800/70 rounded-lg p-3",
                                    children: [
                                        _jsx("div", {
                                            className: "text-xs font-medium text-purple-800 dark:text-purple-200 mb-2",
                                            children: "Loss per PoE Type:",
                                        }),
                                        _jsxs("div", {
                                            className: "grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "PoE (802.3af):" }),
                                                        _jsxs("span", { className: "font-medium", children: [x.cableLoss.perType.poe.lossWatts, "W (", x.cableLoss.perType.poe.lossPercent, "%)"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "PoE+ (802.3at):" }),
                                                        _jsxs("span", { className: "font-medium", children: [x.cableLoss.perType.poePlus.lossWatts, "W (", x.cableLoss.perType.poePlus.lossPercent, "%)"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "PoE++ Type 3:" }),
                                                        _jsxs("span", { className: "font-medium", children: [x.cableLoss.perType.poePlusPlus.lossWatts, "W (", x.cableLoss.perType.poePlusPlus.lossPercent, "%)"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "PoE++ Type 4:" }),
                                                        _jsxs("span", { className: "font-medium", children: [x.cableLoss.perType.fourPPOE.lossWatts, "W (", x.cableLoss.perType.fourPPOE.lossPercent, "%)"] }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-2 gap-4 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-gray-50 dark:bg-gray-900/50 p-5 rounded-lg border",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Switch Configuration",
                                        }),
                                        _jsx("div", {
                                            className: "text-lg font-bold text-gray-800",
                                            children: x.switchRequirement,
                                        }),
                                        _jsxs("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: [x.recommendedPorts, " total ports (", x.unusedPorts, " spare)"],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className:
                                "bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 mb-6",
                            children: [
                                _jsx("h3", {
                                    className: "text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "🔌 Switch Requirements Summary",
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-center",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-blue-600",
                                                    children: x.numSwitches,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "Switch(es) Needed",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-green-600",
                                                    children: x.minStandardShort,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "PoE Standard",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-purple-600",
                                                    children: [x.totalWatts, "W"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "PSE Budget Required",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm dark:shadow-gray-950/10",
                                            children: [
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-orange-600",
                                                    children: [x.switchSize, "-port"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: "Switch Size",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-2 gap-4 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-orange-50 p-4 rounded-lg border border-orange-200",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm font-medium text-orange-800 mb-1",
                                            children: "🔌 UPS Sizing",
                                        }),
                                        _jsxs("div", {
                                            className: "text-lg font-bold text-orange-700",
                                            children: [x.upsVA, " VA minimum"],
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-orange-600",
                                            children: "For PoE switch + 25% headroom",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm font-medium text-red-800 dark:text-red-200 mb-1",
                                            children: "🌡️ Heat Output",
                                        }),
                                        _jsxs("div", {
                                            className: "text-lg font-bold text-red-700",
                                            children: [x.btuPerHour, " BTU/hr"],
                                        }),
                                        _jsx("div", {
                                            className: "text-xs text-red-600",
                                            children: "Consider rack cooling requirements",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-indigo-50 p-4 rounded-lg border border-indigo-200 mb-6",
                            children: [
                                _jsx("div", {
                                    className: "text-sm font-medium text-indigo-800 mb-2",
                                    children: "📋 Suggested Switch Brands",
                                }),
                                _jsx("div", { className: "text-sm text-indigo-700", children: x.recommendedBrands }),
                                _jsxs("div", {
                                    className: "text-xs text-indigo-600 mt-1",
                                    children: ["Cable: ", x.cableRecommendation],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-4",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold mb-2",
                                    children: "Power Breakdown (IEEE Standards):",
                                }),
                                _jsxs("div", {
                                    className: "space-y-1 text-sm",
                                    children: [
                                        x.deviceCounts.poe > 0 &&
                                            _jsxs("p", {
                                                children: [
                                                    "• PoE 802.3af (",
                                                    x.deviceCounts.poe,
                                                    " × 15.4W): ",
                                                    _jsxs("strong", { children: [x.breakdown.poe, "W"] }),
                                                ],
                                            }),
                                        x.deviceCounts.poePlus > 0 &&
                                            _jsxs("p", {
                                                children: [
                                                    "• PoE+ 802.3at (",
                                                    x.deviceCounts.poePlus,
                                                    " × 30W): ",
                                                    _jsxs("strong", { children: [x.breakdown.poePlus, "W"] }),
                                                ],
                                            }),
                                        x.deviceCounts.poePlusPlus > 0 &&
                                            _jsxs("p", {
                                                children: [
                                                    "• PoE++ 802.3bt Type 3 (",
                                                    x.deviceCounts.poePlusPlus,
                                                    " × 60W): ",
                                                    _jsxs("strong", { children: [x.breakdown.poePlusPlus, "W"] }),
                                                ],
                                            }),
                                        x.deviceCounts.fourPPOE > 0 &&
                                            _jsxs("p", {
                                                children: [
                                                    "• PoE++ 802.3bt Type 4 (",
                                                    x.deviceCounts.fourPPOE,
                                                    " × 90W): ",
                                                    _jsxs("strong", { children: [x.breakdown.fourPPOE, "W"] }),
                                                ],
                                            }),
                                        _jsx("hr", { className: "my-2" }),
                                        _jsxs("p", {
                                            children: [
                                                "Subtotal: ",
                                                _jsxs("strong", { children: [x.subtotalWatts, "W"] }),
                                            ],
                                        }),
                                        _jsxs("p", {
                                            children: [
                                                "+ Headroom (",
                                                x.headroomPercent,
                                                "%): ",
                                                _jsxs("strong", { children: [x.headroomWatts, "W"] }),
                                            ],
                                        }),
                                        _jsxs("p", {
                                            className: "text-lg text-blue-700 font-bold",
                                            children: ["Total Required: ", x.totalWatts, "W"],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        x.recommendations &&
                            x.recommendations.length > 0 &&
                            _jsxs("div", {
                                className: "mt-6",
                                children: [
                                    _jsx("h3", {
                                        className: "font-semibold mb-3 text-gray-800",
                                        children: "💡 Professional Recommendations",
                                    }),
                                    _jsx("div", {
                                        className: "space-y-3",
                                        children: x.recommendations.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className:
                                                        "p-3 rounded-lg border " +
                                                        ("success" === e.type
                                                            ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                            : "warning" === e.type
                                                              ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"
                                                              : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),
                                                    children: [
                                                        _jsx("div", {
                                                            className:
                                                                "font-medium text-sm " +
                                                                ("success" === e.type
                                                                    ? "text-green-800 dark:text-green-200"
                                                                    : "warning" === e.type
                                                                      ? "text-yellow-800 dark:text-yellow-200"
                                                                      : "text-blue-800 dark:text-blue-200"),
                                                            children: e.title,
                                                        }),
                                                        _jsx("div", {
                                                            className:
                                                                "text-sm " +
                                                                ("success" === e.type
                                                                    ? "text-green-700"
                                                                    : "warning" === e.type
                                                                      ? "text-yellow-700"
                                                                      : "text-blue-700"),
                                                            children: e.text,
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                    ],
                }),
        ],
    });
}
function BrightnessCalculator() {
    const [e, t] = useState(500),
        [s, a] = useState("lcd"),
        [r, l] = useState(null),
        [i, n] = useState(!1),
        o = [
            { value: "lcd", label: "LCD/LED Display", typicalNits: "300-500", maxNits: 700 },
            { value: "led", label: "Commercial LED", typicalNits: "500-1000", maxNits: 1500 },
            { value: "dvled", label: "Direct View LED", typicalNits: "800-2000", maxNits: 5e3 },
            { value: "projector", label: "Projector", typicalNits: "100-300", maxNits: 500 },
        ],
        d =
            (c = e) < 100
                ? { label: "Dark", color: "purple" }
                : c < 300
                  ? { label: "Dim", color: "indigo" }
                  : c < 500
                    ? { label: "Moderate", color: "blue" }
                    : c < 750
                      ? { label: "Bright", color: "yellow" }
                      : c < 1500
                        ? { label: "Very Bright", color: "orange" }
                        : { label: "Outdoor", color: "red" };
    var c;
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Display Brightness Calculator",
                    }),
                    r !== null &&
                        _jsx("button", {
                            onClick: () => n(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: i,
                onConfirm: () => {
                    t(500), a("lcd"), l(null), n(!1);
                },
                onCancel: () => n(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Determines the minimum display brightness (nits) required for your environment based on ambient light levels. Uses AVIXA standards to ensure adequate contrast ratio for content visibility in different lighting conditions.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                        children: "AVIXA Display Brightness Standards",
                    }),
                    _jsxs("p", {
                        className: "text-xs sm:text-sm text-blue-700 mb-3",
                        children: [
                            "AVIXA recommends display brightness based on ambient light conditions to ensure optimal viewing. The minimum recommended brightness should be approximately ",
                            _jsx("strong", { children: "3× the ambient light level" }),
                            " (in nits) to maintain adequate contrast for content visibility.",
                        ],
                    }),
                    _jsx("div", {
                        className: "bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-200 dark:border-blue-800 mb-3",
                        children: _jsxs("p", {
                            className: "text-xs sm:text-sm font-mono text-blue-800 dark:text-blue-200",
                            children: [
                                _jsx("strong", { children: "Formula:" }),
                                " Minimum Nits = (Ambient Lux ÷ π) × 3",
                            ],
                        }),
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "7:1" }),
                                    _jsx("div", { className: "text-blue-600", children: "Min Contrast (Text)" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "20:1" }),
                                    _jsx("div", { className: "text-blue-600", children: "Good Contrast" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "100:1+" }),
                                    _jsx("div", { className: "text-blue-600", children: "Excellent Contrast" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "3-5×" }),
                                    _jsx("div", { className: "text-blue-600", children: "Brightness vs Ambient" }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children: "Environment & Display Settings",
                    }),
                    _jsxs("div", {
                        className: "mb-6",
                        children: [
                            _jsxs("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: [
                                    "Ambient Light: ",
                                    _jsxs("span", { className: "font-bold text-blue-600", children: [e, " lux"] }),
                                    _jsx("span", {
                                        className:
                                            "ml-2 px-2 py-0.5 text-xs rounded " +
                                            ("purple" === d.color
                                                ? "bg-purple-100 text-purple-700"
                                                : "indigo" === d.color
                                                  ? "bg-indigo-100 text-indigo-700"
                                                  : "blue" === d.color
                                                    ? "bg-blue-100 text-blue-700"
                                                    : "yellow" === d.color
                                                      ? "bg-yellow-100 text-yellow-700"
                                                      : "orange" === d.color
                                                        ? "bg-orange-100 text-orange-700"
                                                        : "bg-red-100 text-red-700"),
                                        children: d.label,
                                    }),
                                ],
                            }),
                            _jsx("input", {
                                type: "range",
                                min: "0",
                                max: "2000",
                                step: "25",
                                value: Math.min(e, 2e3),
                                onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                className:
                                    "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                            }),
                            _jsxs("div", {
                                className: "flex justify-between text-xs text-gray-400 mt-1",
                                children: [
                                    _jsx("span", { children: "0" }),
                                    _jsx("span", { children: "500" }),
                                    _jsx("span", { children: "1000" }),
                                    _jsx("span", { children: "1500" }),
                                    _jsx("span", { children: "2000+" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "mt-3",
                                children: [
                                    _jsx("label", {
                                        className: "block text-xs text-gray-500 dark:text-gray-400 mb-2",
                                        children: "Quick Select Environment:",
                                    }),
                                    _jsx("div", {
                                        className: "flex flex-wrap gap-2",
                                        children: [
                                            { label: "Dark Room", lux: 50, icon: "🌙" },
                                            { label: "Dim/Theater", lux: 150, icon: "🎬" },
                                            { label: "Conference Room", lux: 300, icon: "🏢" },
                                            { label: "Office (Typical)", lux: 500, icon: "💼" },
                                            { label: "Bright Office", lux: 750, icon: "☀️" },
                                            { label: "Lobby/Retail", lux: 1e3, icon: "🏪" },
                                            { label: "Outdoor (Shade)", lux: 1500, icon: "🌤️" },
                                            { label: "Outdoor (Direct)", lux: 5e3, icon: "☀️" },
                                        ].map((s) =>
                                            _jsxs(
                                                "button",
                                                {
                                                    onClick: () => t(s.lux),
                                                    className:
                                                        "px-2 py-1 text-xs rounded border transition-colors cursor-pointer " +
                                                        (e === s.lux
                                                            ? "bg-blue-600 text-white border-blue-600"
                                                            : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                    children: [s.icon, " ", s.label],
                                                },
                                                s.label
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mb-6",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Display Type",
                            }),
                            _jsx("div", {
                                className: "grid grid-cols-2 sm:grid-cols-4 gap-2",
                                children: o.map((e) =>
                                    _jsxs(
                                        "button",
                                        {
                                            onClick: () => a(e.value),
                                            className:
                                                "p-3 rounded-lg border-2 text-center transition-colors " +
                                                (s === e.value
                                                    ? "bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-700"
                                                    : "bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-blue-300"),
                                            children: [
                                                _jsx("div", { className: "font-medium text-sm", children: e.label }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400",
                                                    children: [e.typicalNits, " nits"],
                                                }),
                                            ],
                                        },
                                        e.value
                                    )
                                ),
                            }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => {
                            const t = _0xac743b(e),
                                a = o.find((e) => e.value === s),
                                r = t.nits,
                                i = Math.round(1.5 * r),
                                n = a.maxNits >= r,
                                d = a.maxNits >= i,
                                c = 0.01 * e,
                                m = a.maxNits / (c + 1),
                                x = [],
                                u = [];
                            n && d
                                ? x.push({
                                      type: "success",
                                      title: "Brightness Adequate",
                                      text: `${a.label} can achieve required ${r} nits with headroom for optimal viewing.`,
                                  })
                                : n && !d
                                  ? x.push({
                                        type: "warning",
                                        title: "Marginal Brightness",
                                        text: `${a.label} meets minimum requirements but may lack headroom. Consider a brighter display for better performance.`,
                                    })
                                  : u.push({
                                        type: "error",
                                        title: "Insufficient Brightness",
                                        text: `${a.label} (max ${a.maxNits} nits) cannot achieve required ${r} nits. Consider Direct View LED or reducing ambient light.`,
                                    }),
                                e < 100
                                    ? x.push({
                                          type: "info",
                                          title: "Dark Environment",
                                          text: "Per AVIXA, reduce display brightness to 100-200 nits in dark rooms to prevent eye strain and improve perceived contrast.",
                                      })
                                    : e > 1e3 &&
                                      x.push({
                                          type: "info",
                                          title: "High Ambient Light",
                                          text: "For bright environments, AVIXA recommends Direct View LED displays or high-brightness commercial displays with anti-glare coating.",
                                      }),
                                m >= 100
                                    ? x.push({
                                          type: "success",
                                          title: "Excellent Contrast",
                                          text: `Estimated contrast ratio of ${Math.round(m)}:1 exceeds AVIXA minimum of 7:1 for text readability.`,
                                      })
                                    : m >= 20
                                      ? x.push({
                                            type: "info",
                                            title: "Good Contrast",
                                            text: `Estimated contrast ratio of ${Math.round(m)}:1 is suitable for video and presentations.`,
                                        })
                                      : m >= 7
                                        ? x.push({
                                              type: "warning",
                                              title: "Minimum Contrast",
                                              text: `Estimated contrast ratio of ${Math.round(m)}:1 meets AVIXA minimum but may cause eye strain with prolonged viewing.`,
                                          })
                                        : u.push({
                                              type: "error",
                                              title: "Poor Contrast",
                                              text: `Estimated contrast ratio of ${Math.round(m)}:1 is below AVIXA minimum of 7:1. Content may be difficult to read.`,
                                          }),
                                "projector" === s &&
                                    x.push({
                                        type: "info",
                                        title: "Projector Consideration",
                                        text: "AVIXA recommends ALR (Ambient Light Rejecting) screens for environments above 300 lux. Consider screen gain factor for accurate brightness calculations.",
                                    }),
                                "dvled" === s &&
                                    e < 200 &&
                                    x.push({
                                        type: "info",
                                        title: "LED Brightness Control",
                                        text: "Direct View LED in dark environments should use reduced brightness (10-30%) to prevent eye fatigue and improve color accuracy.",
                                    }),
                                x.push({
                                    type: "info",
                                    title: "AVIXA Viewing Guidelines",
                                    text:
                                        e > 500
                                            ? "For extended viewing in bright environments, ensure display brightness exceeds ambient by at least 3:1 ratio."
                                            : "For comfortable extended viewing, AVIXA recommends matching display brightness to ambient conditions with a 3:1 to 5:1 contrast ratio.",
                                }),
                                l({
                                    ...t,
                                    ambientLux: e,
                                    minRecommendedNits: r,
                                    optimalNits: i,
                                    displayType: a,
                                    displaySuitable: n,
                                    displayOptimal: d,
                                    estimatedCR: Math.round(m),
                                    tips: x,
                                    warnings: u,
                                });
                        },
                        className:
                            "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors",
                        children: "Calculate Brightness Requirements",
                    }),
                ],
            }),
            r &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "Brightness Requirements",
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600 font-medium",
                                                    children: "Minimum Required",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-blue-700",
                                                    children: r.nits,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600",
                                                    children: "nits (cd/m²)",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-green-600 font-medium",
                                                    children: "Optimal Brightness",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-green-700",
                                                    children: r.optimalNits,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-green-600",
                                                    children: "nits (+50% headroom)",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border-2 border-purple-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600 font-medium",
                                                    children: "Projector Equiv.",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-purple-700",
                                                    children: r.lumens,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600",
                                                    children: "lumens (approx.)",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border-2 text-center " +
                                                (r.estimatedCR >= 100
                                                    ? "bg-green-50 dark:bg-green-900/20 border-green-300"
                                                    : r.estimatedCR >= 20
                                                      ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300"
                                                      : r.estimatedCR >= 7
                                                        ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                                        : "bg-red-50 dark:bg-red-900/20 border-red-300"),
                                            children: [
                                                _jsx("div", {
                                                    className:
                                                        "text-xs font-medium " +
                                                        (r.estimatedCR >= 100
                                                            ? "text-green-600"
                                                            : r.estimatedCR >= 20
                                                              ? "text-blue-600"
                                                              : r.estimatedCR >= 7
                                                                ? "text-yellow-600"
                                                                : "text-red-600"),
                                                    children: "Est. Contrast Ratio",
                                                }),
                                                _jsxs("div", {
                                                    className:
                                                        "text-3xl font-bold " +
                                                        (r.estimatedCR >= 100
                                                            ? "text-green-700"
                                                            : r.estimatedCR >= 20
                                                              ? "text-blue-700"
                                                              : r.estimatedCR >= 7
                                                                ? "text-yellow-700"
                                                                : "text-red-700"),
                                                    children: [r.estimatedCR, ":1"],
                                                }),
                                                _jsx("div", {
                                                    className:
                                                        "text-xs " +
                                                        (r.estimatedCR >= 100
                                                            ? "text-green-600"
                                                            : r.estimatedCR >= 20
                                                              ? "text-blue-600"
                                                              : r.estimatedCR >= 7
                                                                ? "text-yellow-600"
                                                                : "text-red-600"),
                                                    children:
                                                        r.estimatedCR >= 100
                                                            ? "Excellent"
                                                            : r.estimatedCR >= 20
                                                              ? "Good"
                                                              : r.estimatedCR >= 7
                                                                ? "Minimum"
                                                                : "Poor",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className:
                                        "p-4 rounded-lg border-2 mb-4 " +
                                        (r.displaySuitable && r.displayOptimal
                                            ? "bg-green-50 dark:bg-green-900/20 border-green-300"
                                            : r.displaySuitable
                                              ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                              : "bg-red-50 dark:bg-red-900/20 border-red-300"),
                                    children: [
                                        _jsxs("div", {
                                            className: "flex items-center gap-2 mb-2",
                                            children: [
                                                _jsx("span", {
                                                    className: "text-xl",
                                                    children:
                                                        r.displaySuitable && r.displayOptimal
                                                            ? "✅"
                                                            : r.displaySuitable
                                                              ? "⚠️"
                                                              : "❌",
                                                }),
                                                _jsxs("h3", {
                                                    className:
                                                        "font-semibold " +
                                                        (r.displaySuitable && r.displayOptimal
                                                            ? "text-green-800 dark:text-green-200"
                                                            : r.displaySuitable
                                                              ? "text-yellow-800 dark:text-yellow-200"
                                                              : "text-red-800 dark:text-red-200"),
                                                    children: [
                                                        r.displayType.label,
                                                        " - ",
                                                        r.displaySuitable && r.displayOptimal
                                                            ? "Excellent Choice"
                                                            : r.displaySuitable
                                                              ? "Acceptable"
                                                              : "Not Recommended",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("p", {
                                            className:
                                                "text-sm " +
                                                (r.displaySuitable && r.displayOptimal
                                                    ? "text-green-700"
                                                    : r.displaySuitable
                                                      ? "text-yellow-700"
                                                      : "text-red-700"),
                                            children: [
                                                r.displayType.label,
                                                " typical brightness: ",
                                                r.displayType.typicalNits,
                                                " nits (max ~",
                                                r.displayType.maxNits,
                                                " nits).",
                                                r.displaySuitable &&
                                                    r.displayOptimal &&
                                                    " This exceeds your required brightness with room for adjustment.",
                                                r.displaySuitable &&
                                                    !r.displayOptimal &&
                                                    " This meets minimum requirements but has limited headroom.",
                                                !r.displaySuitable &&
                                                    ` Required ${r.nits} nits exceeds maximum capability.`,
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg text-sm",
                                    children: _jsxs("div", {
                                        className: "grid sm:grid-cols-3 gap-2",
                                        children: [
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Ambient:" }),
                                                    " ",
                                                    _jsxs("strong", { children: [r.ambientLux, " lux"] }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Display Type:",
                                                    }),
                                                    " ",
                                                    _jsx("strong", { children: r.displayType.label }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Brightness Factor:",
                                                    }),
                                                    " ",
                                                    _jsx("strong", { children: "3× ambient" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                        r.warnings.length > 0 &&
                            _jsxs("div", {
                                className: "bg-red-50 dark:bg-red-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border border-red-300",
                                children: [
                                    _jsxs("h2", {
                                        className: "text-lg font-semibold text-red-800 dark:text-red-200 mb-3 flex items-center gap-2",
                                        children: [_jsx("span", { children: "⚠️" }), " Warnings"],
                                    }),
                                    _jsx("div", {
                                        className: "space-y-3",
                                        children: r.warnings.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className: "p-3 bg-white dark:bg-gray-800 rounded-lg border border-red-200 dark:border-red-800",
                                                    children: [
                                                        _jsx("h3", {
                                                            className: "font-semibold text-red-700 mb-1",
                                                            children: e.title,
                                                        }),
                                                        _jsx("p", {
                                                            className: "text-sm text-red-600",
                                                            children: e.text,
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "AVIXA Tips & Recommendations",
                                }),
                                _jsx("div", {
                                    className: "space-y-3",
                                    children: r.tips.map((e, t) =>
                                        _jsxs(
                                            "div",
                                            {
                                                className:
                                                    "p-3 rounded-lg border " +
                                                    ("success" === e.type
                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                        : "warning" === e.type
                                                          ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"
                                                          : "error" === e.type
                                                            ? "bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"
                                                            : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),
                                                children: [
                                                    _jsxs("h3", {
                                                        className:
                                                            "font-semibold mb-1 " +
                                                            ("success" === e.type
                                                                ? "text-green-800 dark:text-green-200"
                                                                : "warning" === e.type
                                                                  ? "text-yellow-800 dark:text-yellow-200"
                                                                  : "error" === e.type
                                                                    ? "text-red-800 dark:text-red-200"
                                                                    : "text-blue-800 dark:text-blue-200"),
                                                        children: [
                                                            "success" === e.type
                                                                ? "✅"
                                                                : "warning" === e.type
                                                                  ? "⚠️"
                                                                  : "error" === e.type
                                                                    ? "❌"
                                                                    : "ℹ️",
                                                            " ",
                                                            e.title,
                                                        ],
                                                    }),
                                                    _jsx("p", {
                                                        className:
                                                            "text-sm " +
                                                            ("success" === e.type
                                                                ? "text-green-700"
                                                                : "warning" === e.type
                                                                  ? "text-yellow-700"
                                                                  : "error" === e.type
                                                                    ? "text-red-700"
                                                                    : "text-blue-700"),
                                                        children: e.text,
                                                    }),
                                                ],
                                            },
                                            t
                                        )
                                    ),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Environment Brightness Reference (AVIXA)",
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-sm",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "bg-gray-100 dark:bg-gray-700",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Environment",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Typical Lux",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Min Nits Required",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Recommended Display",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsx("tbody", {
                                                children: [
                                                    {
                                                        env: "Dark Room / Theater",
                                                        lux: "50-150",
                                                        nits: "50-150",
                                                        display: "Any display type",
                                                    },
                                                    {
                                                        env: "Conference Room",
                                                        lux: "300-500",
                                                        nits: "300-500",
                                                        display: "LCD/Commercial LED",
                                                    },
                                                    {
                                                        env: "Office / Classroom",
                                                        lux: "500-750",
                                                        nits: "500-750",
                                                        display: "Commercial LED / DVLED",
                                                    },
                                                    {
                                                        env: "Retail / Lobby",
                                                        lux: "750-1500",
                                                        nits: "750-1500",
                                                        display: "Direct View LED",
                                                    },
                                                    {
                                                        env: "Outdoor (Covered)",
                                                        lux: "1500-5000",
                                                        nits: "1500-3000",
                                                        display: "High-brightness DVLED",
                                                    },
                                                    {
                                                        env: "Outdoor (Direct Sun)",
                                                        lux: "5000+",
                                                        nits: "3000-5000+",
                                                        display: "Outdoor-rated DVLED",
                                                    },
                                                ].map((t, s) =>
                                                    _jsxs(
                                                        "tr",
                                                        {
                                                            className:
                                                                "border-b " +
                                                                (e >= parseInt(t.lux) &&
                                                                e < (parseInt(t.lux.split("-")[1]) || 1e4)
                                                                    ? "bg-blue-50 dark:bg-blue-900/20"
                                                                    : ""),
                                                            children: [
                                                                _jsx("td", {
                                                                    className: "px-3 py-2 font-medium",
                                                                    children: t.env,
                                                                }),
                                                                _jsx("td", { className: "px-3 py-2", children: t.lux }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: t.nits,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: t.display,
                                                                }),
                                                            ],
                                                        },
                                                        s
                                                    )
                                                ),
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function ViewingAngleCalculator() {
    const [e, t] = useState(60),
        [s, a] = useState(120),
        [r, l] = useState("in"),
        [i, n] = useState(null),
        [o, d] = useState(!1),
        c = i
            ? (m = i.angle) >= 36
                ? {
                      status: "excellent",
                      label: "THX Reference / Immersive",
                      description:
                          "Meets THX ideal viewing angle (36°). Optimal for cinema, immersive content, and detailed analytical work.",
                      color: "green",
                      icon: "✓",
                      standard: "THX 36°",
                  }
                : m >= 30
                  ? {
                        status: "very-good",
                        label: "SMPTE Cinema Standard",
                        description:
                            "Meets SMPTE EG-18 minimum (30°). Excellent for presentations, detailed content, and professional viewing.",
                        color: "blue",
                        icon: "✓",
                        standard: "SMPTE 30°",
                    }
                  : m >= 26
                    ? {
                          status: "good",
                          label: "THX Minimum Acceptable",
                          description:
                              "Meets THX minimum acceptable (26°). Suitable for general presentations and video content.",
                          color: "teal",
                          icon: "✓",
                          standard: "THX 26°",
                      }
                    : m >= 20
                      ? {
                            status: "acceptable",
                            label: "Basic Viewing",
                            description:
                                "Acceptable for general video content and basic presentations. Consider larger display for detailed work.",
                            color: "yellow",
                            icon: "⚠",
                            standard: "Basic",
                        }
                      : {
                            status: "poor",
                            label: "Below Industry Standards",
                            description:
                                "Display appears too small for comfortable viewing. Increase display size or reduce viewing distance.",
                            color: "red",
                            icon: "✗",
                            standard: "Insufficient",
                        }
            : null;
    var m;
    return _jsxs("div", {
        className: "max-w-4xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Display Viewing Angle Calculator",
                    }),
                    i !== null &&
                        _jsx("button", {
                            onClick: () => d(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: o,
                onConfirm: () => {
                    t(60), a(120), l("in"), n(null), d(!1);
                },
                onCancel: () => d(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates the horizontal viewing angle (field of view) from viewer to display. Verifies compliance with current industry standards: THX Reference (36°), SMPTE EG-18 Cinema (30°), and THX Minimum (26°).",
                    ],
                }),
            }),
            _jsxs("div", {
                className:
                    "bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-8 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsxs("h2", {
                        className: "text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",
                        children: [
                            _jsx("span", { className: "text-blue-600", children: "📐" }),
                            " Industry Viewing Standards",
                        ],
                    }),
                    _jsx("p", {
                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                        children: "Current standards from SMPTE EG-18, THX, and AVIXA DISCAS V202.01:2016:",
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-4 gap-3",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-green-200 dark:border-green-800",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            _jsx("span", { className: "w-3 h-3 rounded-full bg-green-50 dark:bg-green-900/200" }),
                                            _jsx("span", {
                                                className: "font-semibold text-green-700",
                                                children: "≥ 36°",
                                            }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "text-sm font-medium text-gray-800",
                                        children: "THX Reference",
                                    }),
                                    _jsx("div", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Cinema, immersive" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-800",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            _jsx("span", { className: "w-3 h-3 rounded-full bg-blue-50 dark:bg-blue-900/200" }),
                                            _jsx("span", {
                                                className: "font-semibold text-blue-700",
                                                children: "≥ 30°",
                                            }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "text-sm font-medium text-gray-800",
                                        children: "SMPTE Standard",
                                    }),
                                    _jsx("div", {
                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                        children: "Professional, detailed",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-teal-200",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            _jsx("span", { className: "w-3 h-3 rounded-full bg-teal-500" }),
                                            _jsx("span", {
                                                className: "font-semibold text-teal-700",
                                                children: "≥ 26°",
                                            }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "text-sm font-medium text-gray-800",
                                        children: "THX Minimum",
                                    }),
                                    _jsx("div", {
                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                        children: "General presentations",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            _jsx("span", { className: "w-3 h-3 rounded-full bg-yellow-50 dark:bg-yellow-900/200" }),
                                            _jsx("span", {
                                                className: "font-semibold text-yellow-700",
                                                children: "≥ 20°",
                                            }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "text-sm font-medium text-gray-800",
                                        children: "Basic Viewing",
                                    }),
                                    _jsx("div", {
                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                        children: "Video, digital signage",
                                    }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Image Width (", r, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        min: "0.1",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Viewing Distance (", r, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        min: "0.1",
                                        value: s,
                                        onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "md:col-span-2",
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Unit",
                                    }),
                                    _jsxs("select", {
                                        value: r,
                                        onChange: (e) => l(e.target.value),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "in", children: "Inches" }),
                                            _jsx("option", { value: "ft", children: "Feet" }),
                                            _jsx("option", { value: "m", children: "Meters" }),
                                            _jsx("option", { value: "mm", children: "Millimeters" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => n(_0x9860ed(e, s, r)),
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Viewing Angle",
                    }),
                ],
            }),
            i &&
                c &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsxs("div", {
                            className: "bg-blue-50 dark:bg-blue-900/20 p-8 rounded-lg border-2 border-blue-200 dark:border-blue-800 text-center mb-6",
                            children: [
                                _jsx("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Viewing Angle" }),
                                _jsxs("div", {
                                    className: "text-5xl font-bold text-blue-700",
                                    children: [i.angle, "°"],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className:
                                "p-6 rounded-lg border-2 " +
                                ("green" === c.color
                                    ? "bg-green-50 dark:bg-green-900/20 border-green-300"
                                    : "blue" === c.color
                                      ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300"
                                      : "teal" === c.color
                                        ? "bg-teal-50 border-teal-300"
                                        : "yellow" === c.color
                                          ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                          : "bg-red-50 dark:bg-red-900/20 border-red-300"),
                            children: [
                                _jsxs("div", {
                                    className: "flex items-start gap-4",
                                    children: [
                                        _jsx("div", {
                                            className:
                                                "text-3xl " +
                                                ("green" === c.color
                                                    ? "text-green-600"
                                                    : "blue" === c.color
                                                      ? "text-blue-600"
                                                      : "teal" === c.color
                                                        ? "text-teal-600"
                                                        : "yellow" === c.color
                                                          ? "text-yellow-600"
                                                          : "text-red-600"),
                                            children: c.icon,
                                        }),
                                        _jsxs("div", {
                                            className: "flex-1",
                                            children: [
                                                _jsx("div", {
                                                    className:
                                                        "text-lg font-semibold " +
                                                        ("green" === c.color
                                                            ? "text-green-800 dark:text-green-200"
                                                            : "blue" === c.color
                                                              ? "text-blue-800 dark:text-blue-200"
                                                              : "teal" === c.color
                                                                ? "text-teal-800"
                                                                : "yellow" === c.color
                                                                  ? "text-yellow-800 dark:text-yellow-200"
                                                                  : "text-red-800 dark:text-red-200"),
                                                    children: c.label,
                                                }),
                                                _jsx("p", {
                                                    className:
                                                        "text-sm mt-1 " +
                                                        ("green" === c.color
                                                            ? "text-green-700"
                                                            : "blue" === c.color
                                                              ? "text-blue-700"
                                                              : "teal" === c.color
                                                                ? "text-teal-700"
                                                                : "yellow" === c.color
                                                                  ? "text-yellow-700"
                                                                  : "text-red-700"),
                                                    children: c.description,
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",
                                    children: [
                                        _jsx("div", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mb-2",
                                            children: "SMPTE / THX Viewing Angle Scale",
                                        }),
                                        _jsxs("div", {
                                            className: "relative h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",
                                            children: [
                                                _jsx("div", {
                                                    className: "absolute inset-y-0 left-0 bg-red-400",
                                                    style: { width: "40%" },
                                                }),
                                                _jsx("div", {
                                                    className: "absolute inset-y-0 left-[40%] bg-yellow-400",
                                                    style: { width: "12%" },
                                                }),
                                                _jsx("div", {
                                                    className: "absolute inset-y-0 left-[52%] bg-teal-400",
                                                    style: { width: "8%" },
                                                }),
                                                _jsx("div", {
                                                    className: "absolute inset-y-0 left-[60%] bg-blue-400",
                                                    style: { width: "12%" },
                                                }),
                                                _jsx("div", {
                                                    className: "absolute inset-y-0 left-[72%] bg-green-400",
                                                    style: { width: "28%" },
                                                }),
                                                _jsx("div", {
                                                    className: "absolute top-0 bottom-0 w-1 bg-gray-800 shadow-lg dark:shadow-gray-950/30",
                                                    style: {
                                                        left: `${Math.min(100, Math.max(0, (i.angle / 50) * 100))}%`,
                                                        transform: "translateX(-50%)",
                                                    },
                                                    children: _jsxs("div", {
                                                        className:
                                                            "absolute -top-6 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",
                                                        children: [i.angle, "°"],
                                                    }),
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "relative text-xs text-gray-500 dark:text-gray-400 mt-1 h-4",
                                            children: [
                                                _jsx("span", { className: "absolute left-0", children: "0°" }),
                                                _jsx("span", {
                                                    className: "absolute left-[40%] -translate-x-1/2",
                                                    children: "20°",
                                                }),
                                                _jsx("span", {
                                                    className: "absolute left-[52%] -translate-x-1/2",
                                                    children: "26°",
                                                }),
                                                _jsx("span", {
                                                    className: "absolute left-[60%] -translate-x-1/2",
                                                    children: "30°",
                                                }),
                                                _jsx("span", {
                                                    className: "absolute left-[72%] -translate-x-1/2",
                                                    children: "36°",
                                                }),
                                                _jsx("span", { className: "absolute right-0", children: "50°+" }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        "poor" === c.status &&
                            _jsxs("div", {
                                className: "mt-6 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                                children: [
                                    _jsx("h3", {
                                        className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                        children: "💡 Recommendations",
                                    }),
                                    _jsxs("ul", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                        children: [
                                            _jsx("li", { children: "• Increase the display/image width" }),
                                            _jsx("li", { children: "• Decrease the viewing distance" }),
                                            _jsx("li", { children: "• Consider using multiple displays" }),
                                        ],
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "mt-6 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                    children: "Calculation Summary",
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-2 gap-4 text-sm",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Image Width:" }),
                                                _jsxs("p", { className: "font-medium", children: [e, " ", r] }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", {
                                                    className: "text-gray-500 dark:text-gray-400",
                                                    children: "Viewing Distance:",
                                                }),
                                                _jsxs("p", { className: "font-medium", children: [s, " ", r] }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",
                                    children: [
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                            children: "Formula: θ = 2 × arctan(Width ÷ 2 ÷ Distance)",
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-400 mt-1",
                                            children: "Standards: SMPTE EG-18-1994 (30°), THX (36° ideal, 26° min)",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function DvLEDCalculator() {
    const [e, t] = useState(10),
        [s, a] = useState("ft"),
        [r, l] = useState(null),
        [i, n] = useState(!1),
        o = [
            {
                maxPitch: 1.2,
                label: "Broadcast / Virtual Production",
                description: "Professional broadcast studios, virtual production stages, close-up camera work",
                examples: ["TV studios", "Film production", "XR stages", "News desks"],
                color: "purple",
                icon: "🎬",
            },
            {
                maxPitch: 1.5,
                label: "Control Rooms / Command Centers",
                description: "Mission-critical environments requiring extended viewing of detailed content",
                examples: ["Security operations", "Traffic management", "Network operations", "911 centers"],
                color: "indigo",
                icon: "🖥️",
            },
            {
                maxPitch: 2,
                label: "Corporate / Boardrooms",
                description: "Executive boardrooms, conference rooms, high-end corporate lobbies",
                examples: ["Boardrooms", "Executive briefing centers", "Premium lobbies", "Showrooms"],
                color: "blue",
                icon: "🏢",
            },
            {
                maxPitch: 2.5,
                label: "Conference / Meeting Rooms",
                description: "Standard meeting rooms, huddle spaces, presentation areas",
                examples: ["Conference rooms", "Training rooms", "Classrooms", "Huddle spaces"],
                color: "cyan",
                icon: "👥",
            },
            {
                maxPitch: 3,
                label: "Retail / Indoor Signage",
                description: "Retail displays, indoor advertising, museum exhibits",
                examples: ["Retail stores", "Shopping malls", "Museums", "Airports"],
                color: "green",
                icon: "🛍️",
            },
            {
                maxPitch: 4,
                label: "Large Venues / Houses of Worship",
                description: "Auditoriums, theaters, churches, large event spaces",
                examples: ["Churches", "Auditoriums", "Theaters", "Concert halls"],
                color: "yellow",
                icon: "⛪",
            },
            {
                maxPitch: 6,
                label: "Arenas / Stadiums (Indoor)",
                description: "Sports arenas, large concert venues, convention centers",
                examples: ["Indoor arenas", "Convention centers", "Large theaters", "Sports venues"],
                color: "orange",
                icon: "🏟️",
            },
            {
                maxPitch: 10,
                label: "Outdoor Displays",
                description: "Outdoor advertising, stadium displays, building facades",
                examples: ["Billboards", "Stadium scoreboards", "Building wraps", "Outdoor events"],
                color: "red",
                icon: "🌆",
            },
            {
                maxPitch: 1 / 0,
                label: "Large Format Outdoor",
                description: "Highway billboards, large building displays, distant viewing",
                examples: ["Highway signs", "Skyscraper displays", "Large outdoor venues"],
                color: "gray",
                icon: "🛣️",
            },
        ],
        d = r ? ((c = r.pixelPitchMm), o.find((e) => c <= e.maxPitch) || o[o.length - 1]) : null;
    var c;
    const m = r ? ((e) => o.filter((t) => e <= t.maxPitch))(r.pixelPitchMm) : [],
        x = (e) => {
            const t = {
                purple: {
                    bg: "bg-purple-50 dark:bg-purple-900/20",
                    border: "border-purple-300",
                    text: "text-purple-700",
                    badge: "bg-purple-100 text-purple-800 dark:text-purple-200",
                },
                indigo: {
                    bg: "bg-indigo-50",
                    border: "border-indigo-300",
                    text: "text-indigo-700",
                    badge: "bg-indigo-100 text-indigo-800",
                },
                blue: {
                    bg: "bg-blue-50 dark:bg-blue-900/20",
                    border: "border-blue-300",
                    text: "text-blue-700",
                    badge: "bg-blue-100 text-blue-800 dark:text-blue-200",
                },
                cyan: {
                    bg: "bg-cyan-50",
                    border: "border-cyan-300",
                    text: "text-cyan-700",
                    badge: "bg-cyan-100 text-cyan-800",
                },
                green: {
                    bg: "bg-green-50 dark:bg-green-900/20",
                    border: "border-green-300",
                    text: "text-green-700",
                    badge: "bg-green-100 text-green-800 dark:text-green-200",
                },
                yellow: {
                    bg: "bg-yellow-50 dark:bg-yellow-900/20",
                    border: "border-yellow-300",
                    text: "text-yellow-700",
                    badge: "bg-yellow-100 text-yellow-800 dark:text-yellow-200",
                },
                orange: {
                    bg: "bg-orange-50",
                    border: "border-orange-300",
                    text: "text-orange-700",
                    badge: "bg-orange-100 text-orange-800",
                },
                red: {
                    bg: "bg-red-50 dark:bg-red-900/20",
                    border: "border-red-300",
                    text: "text-red-700",
                    badge: "bg-red-100 text-red-800 dark:text-red-200",
                },
                gray: {
                    bg: "bg-gray-50 dark:bg-gray-900/50",
                    border: "border-gray-300 dark:border-gray-600",
                    text: "text-gray-700 dark:text-gray-300",
                    badge: "bg-gray-100 dark:bg-gray-700 text-gray-800",
                },
            };
            return t[e] || t.gray;
        };
    return _jsxs("div", {
        className: "max-w-4xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "DvLED Pixel Pitch Calculator",
                    }),
                    r !== null &&
                        _jsx("button", {
                            onClick: () => n(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: i,
                onConfirm: () => {
                    t(10), a("ft"), l(null), n(!1);
                },
                onCancel: () => n(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Determines the optimal LED pixel pitch based on viewing distance, or calculates the minimum viewing distance for a given pixel pitch. Provides recommendations for different applications (broadcast, corporate, retail, venues).",
                    ],
                }),
            }),
            _jsxs("div", {
                className:
                    "bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-8 border border-purple-200 dark:border-purple-800",
                children: [
                    _jsxs("h2", {
                        className: "text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",
                        children: [
                            _jsx("span", { className: "text-purple-600", children: "📊" }),
                            " Pixel Pitch Use Case Guide",
                        ],
                    }),
                    _jsx("p", {
                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                        children:
                            "Pixel pitch determines the minimum viewing distance and suitable applications. Smaller pitch = higher resolution = closer viewing.",
                    }),
                    _jsx("div", {
                        className: "grid grid-cols-2 md:grid-cols-4 gap-3",
                        children: [
                            { pitch: "≤1.2mm", use: "Broadcast", color: "purple" },
                            { pitch: "≤2.0mm", use: "Corporate", color: "blue" },
                            { pitch: "≤3.0mm", use: "Retail", color: "green" },
                            { pitch: "≤6.0mm", use: "Venues", color: "orange" },
                        ].map((e) =>
                            _jsxs(
                                "div",
                                {
                                    className: `${x(e.color).bg} p-3 rounded-lg border ${x(e.color).border}`,
                                    children: [
                                        _jsx("div", { className: `font-bold ${x(e.color).text}`, children: e.pitch }),
                                        _jsx("div", { className: "text-xs text-gray-600 dark:text-gray-400", children: e.use }),
                                    ],
                                },
                                e.pitch
                            )
                        ),
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Closest Viewer Distance",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        min: "0.1",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Unit",
                                    }),
                                    _jsxs("select", {
                                        value: s,
                                        onChange: (e) => a(e.target.value),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "ft", children: "Feet" }),
                                            _jsx("option", { value: "m", children: "Meters" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => l(calculateDvLEDPixelPitch(e, s)),
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Pixel Pitch",
                    }),
                ],
            }),
            r &&
                d &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsxs("div", {
                            className: "grid md:grid-cols-2 gap-6 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Recommended Pixel Pitch",
                                        }),
                                        _jsxs("div", {
                                            className: "text-4xl font-bold text-blue-700",
                                            children: [r.pixelPitchMm, " mm"],
                                        }),
                                        _jsx("div", {
                                            className: "text-sm text-gray-500 dark:text-gray-400 mt-1",
                                            children: "or finer for optimal clarity",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-6 rounded-lg border-2 border-green-200 dark:border-green-800",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Comfortable Viewing Distance",
                                        }),
                                        _jsxs("div", {
                                            className: "text-3xl font-bold text-green-700",
                                            children: [
                                                "ft" === s ? r.comfortableViewingFt : r.comfortableViewingM,
                                                " ",
                                                s,
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "text-sm text-gray-500 dark:text-gray-400 mt-1",
                                            children: "viewers can be this close comfortably",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsx("div", {
                            className: `p-6 rounded-lg border-2 ${x(d.color).bg} ${x(d.color).border} mb-6`,
                            children: _jsxs("div", {
                                className: "flex items-start gap-4",
                                children: [
                                    _jsx("div", { className: "text-4xl", children: d.icon }),
                                    _jsxs("div", {
                                        className: "flex-1",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex items-center gap-2 mb-1",
                                                children: [
                                                    _jsxs("span", {
                                                        className: `text-lg font-semibold ${x(d.color).text}`,
                                                        children: ["Primary Recommendation: ", d.label],
                                                    }),
                                                    _jsxs("span", {
                                                        className: `text-xs px-2 py-1 rounded-full ${x(d.color).badge}`,
                                                        children: [
                                                            "≤",
                                                            d.maxPitch === 1 / 0 ? "10+" : d.maxPitch,
                                                            "mm",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-sm text-gray-600 dark:text-gray-400 mb-3",
                                                children: d.description,
                                            }),
                                            _jsx("div", {
                                                className: "flex flex-wrap gap-2",
                                                children: d.examples.map((e, t) =>
                                                    _jsx(
                                                        "span",
                                                        {
                                                            className:
                                                                "text-xs bg-white dark:bg-gray-800 px-2 py-1 rounded border border-gray-200 dark:border-gray-700",
                                                            children: e,
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        }),
                        _jsxs("div", {
                            className: "mb-6",
                            children: [
                                _jsxs("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: ["✓ All Suitable Applications for ", r.pixelPitchMm, "mm Pixel Pitch"],
                                }),
                                _jsx("div", {
                                    className: "grid md:grid-cols-2 gap-3",
                                    children: m.map((e, t) =>
                                        _jsxs(
                                            "div",
                                            {
                                                className:
                                                    "p-4 rounded-lg border " +
                                                    (e === d
                                                        ? `${x(e.color).bg} ${x(e.color).border} border-2`
                                                        : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"),
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [
                                                            _jsx("span", { className: "text-xl", children: e.icon }),
                                                            _jsx("span", {
                                                                className: `font-medium ${e === d ? x(e.color).text : "text-gray-700 dark:text-gray-300"}`,
                                                                children: e.label,
                                                            }),
                                                            e === d &&
                                                                _jsx("span", {
                                                                    className:
                                                                        "text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full ml-auto",
                                                                    children: "Best Match",
                                                                }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1 ml-7",
                                                        children: [
                                                            "Typical pitch: ≤",
                                                            e.maxPitch === 1 / 0 ? "10+" : e.maxPitch,
                                                            "mm",
                                                        ],
                                                    }),
                                                ],
                                            },
                                            t
                                        )
                                    ),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-6",
                            children: [
                                _jsx("div", {
                                    className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Pixel Pitch Scale",
                                }),
                                _jsxs("div", {
                                    className:
                                        "relative h-6 bg-gradient-to-r from-purple-400 via-blue-400 via-green-400 via-yellow-400 to-red-400 rounded-full overflow-hidden",
                                    children: [
                                        _jsx("div", {
                                            className: "absolute inset-0 flex justify-between px-2 items-center",
                                            children: [1, 2, 3, 4, 6, 10].map((e) =>
                                                _jsx("div", { className: "w-px h-full bg-white dark:bg-gray-800/50" }, e)
                                            ),
                                        }),
                                        _jsx("div", {
                                            className: "absolute top-0 bottom-0 w-1 bg-gray-900 shadow-lg dark:shadow-gray-950/30",
                                            style: {
                                                left: `${Math.min(100, Math.max(0, (r.pixelPitchMm / 12) * 100))}%`,
                                                transform: "translateX(-50%)",
                                            },
                                            children: _jsxs("div", {
                                                className:
                                                    "absolute -top-7 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap",
                                                children: [r.pixelPitchMm, "mm"],
                                            }),
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1 px-1",
                                    children: [
                                        _jsx("span", { children: "0.9mm" }),
                                        _jsx("span", { children: "1.5mm" }),
                                        _jsx("span", { children: "2.5mm" }),
                                        _jsx("span", { children: "4mm" }),
                                        _jsx("span", { children: "6mm" }),
                                        _jsx("span", { children: "10mm+" }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "flex justify-between text-xs text-gray-400 mt-1 px-1",
                                    children: [
                                        _jsx("span", { children: "Broadcast" }),
                                        _jsx("span", { children: "Corporate" }),
                                        _jsx("span", { children: "Retail" }),
                                        _jsx("span", { children: "Venues" }),
                                        _jsx("span", { children: "Arenas" }),
                                        _jsx("span", { children: "Outdoor" }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Viewing Distance Summary",
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", {
                                                    className: "text-gray-500 dark:text-gray-400",
                                                    children: "Closest Viewer:",
                                                }),
                                                _jsxs("p", { className: "font-medium", children: [e, " ", s] }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "In Feet:" }),
                                                _jsxs("p", {
                                                    className: "font-medium",
                                                    children: [r.closestViewerFt, " ft"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "In Meters:" }),
                                                _jsxs("p", {
                                                    className: "font-medium",
                                                    children: [r.closestViewerM, " m"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("span", {
                                                    className: "text-gray-500 dark:text-gray-400",
                                                    children: "Comfortable Distance:",
                                                }),
                                                _jsxs("p", {
                                                    className: "font-medium",
                                                    children: [
                                                        r.comfortableViewingFt,
                                                        " ft / ",
                                                        r.comfortableViewingM,
                                                        " m",
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",
                                    children: [
                                        _jsxs("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                            children: [
                                                _jsx("strong", { children: "Formula:" }),
                                                " Pixel Pitch (mm) = Closest Viewing Distance (ft) ÷ 10",
                                            ],
                                        }),
                                        _jsxs("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children: [
                                                _jsx("strong", { children: "Rule of thumb:" }),
                                                " Comfortable viewing distance is approximately 3× the closest viewing distance",
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function VideoWallCalculator() {
    const [e, t] = useState(8294400),
        [s, a] = useState(4),
        [r, l] = useState("8bit"),
        [i, n] = useState(60),
        [o, d] = useState(500),
        [c, m] = useState(500),
        [x, u] = useState(2.5),
        [h, p] = useState(null),
        [g, b] = useState(!1),
        f = [
            { label: "LG CVCA", capacity: 8294400, ports: 16, brand: "LG" },
            { label: "LG CVBA", capacity: 8294400, ports: 16, brand: "LG" },
            { label: "Novastar H2", capacity: 26e6, ports: 32, brand: "Novastar" },
            { label: "Novastar H5", capacity: 312e5, ports: 48, brand: "Novastar" },
            { label: "Novastar H9", capacity: 65e6, ports: 100, brand: "Novastar" },
            { label: "Novastar H15", capacity: 104e6, ports: 160, brand: "Novastar" },
            { label: "Novastar H20", capacity: 26e7, ports: 400, brand: "Novastar" },
            { label: "Samsung S-Box", capacity: 8294400, ports: 4, brand: "Samsung" },
            { label: "Christie E510", capacity: 8294400, ports: 8, brand: "Christie" },
            { label: "Christie E600", capacity: 8e7, ports: 16, brand: "Christie" },
        ];
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Video Wall Controller Calculator",
                    }),
                    h !== null &&
                        _jsx("button", {
                            onClick: () => b(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: g,
                onConfirm: () => {
                    t(8294400), a(4), l("8bit"), n(60), d(500), m(500), u(2.5), p(null), b(!1);
                },
                onCancel: () => b(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates how many LED cabinets can be connected per output port based on controller capacity and cabinet resolution. Helps plan daisy-chain configurations and determine if your LED video wall fits within controller limits.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                        children: "LED Video Wall Data Distribution",
                    }),
                    _jsx("p", {
                        className: "text-xs sm:text-sm text-blue-700 mb-3",
                        children:
                            "LED video wall controllers distribute pixel data to cabinets via RJ45 Ethernet ports. Each port has a maximum pixel loading capacity. This calculator helps determine how many LED cabinets can be daisy-chained per output port.",
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "Loading" }),
                                    _jsx("div", { className: "text-blue-600", children: "Pixels per port" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "Cat5e/Cat6" }),
                                    _jsx("div", { className: "text-blue-600", children: "Max 100m runs" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "Daisy Chain" }),
                                    _jsx("div", { className: "text-blue-600", children: "Cabinet to cabinet" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "Redundancy" }),
                                    _jsx("div", { className: "text-blue-600", children: "Backup data paths" }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children: "Controller & Cabinet Configuration",
                    }),
                    _jsxs("div", {
                        className: "mb-6",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",
                                children: "Quick Select Controller",
                            }),
                            _jsxs("div", {
                                className: "mb-3",
                                children: [
                                    _jsx("span", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 font-medium mr-2",
                                        children: "LG:",
                                    }),
                                    _jsx("div", {
                                        className: "inline-flex flex-wrap gap-2",
                                        children: f
                                            .filter((e) => "LG" === e.brand)
                                            .map((r) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => {
                                                            t(r.capacity), a(r.ports);
                                                        },
                                                        className:
                                                            "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                            (e === r.capacity && s === r.ports
                                                                ? "bg-red-600 text-white border-red-600"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-red-50 dark:bg-red-900/20"),
                                                        children: r.label,
                                                    },
                                                    r.label
                                                )
                                            ),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "mb-3",
                                children: [
                                    _jsx("span", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 font-medium mr-2",
                                        children: "Novastar:",
                                    }),
                                    _jsx("div", {
                                        className: "inline-flex flex-wrap gap-2",
                                        children: f
                                            .filter((e) => "Novastar" === e.brand)
                                            .map((r) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => {
                                                            t(r.capacity), a(r.ports);
                                                        },
                                                        className:
                                                            "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                            (e === r.capacity && s === r.ports
                                                                ? "bg-blue-600 text-white border-blue-600"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                        children: r.label,
                                                    },
                                                    r.label
                                                )
                                            ),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "mb-3",
                                children: [
                                    _jsx("span", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 font-medium mr-2",
                                        children: "Samsung:",
                                    }),
                                    _jsx("div", {
                                        className: "inline-flex flex-wrap gap-2",
                                        children: f
                                            .filter((e) => "Samsung" === e.brand)
                                            .map((r) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => {
                                                            t(r.capacity), a(r.ports);
                                                        },
                                                        className:
                                                            "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                            (e === r.capacity && s === r.ports
                                                                ? "bg-blue-800 text-white border-blue-800"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                        children: r.label,
                                                    },
                                                    r.label
                                                )
                                            ),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "mb-3",
                                children: [
                                    _jsx("span", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 font-medium mr-2",
                                        children: "Christie:",
                                    }),
                                    _jsx("div", {
                                        className: "inline-flex flex-wrap gap-2",
                                        children: f
                                            .filter((e) => "Christie" === e.brand)
                                            .map((r) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => {
                                                            t(r.capacity), a(r.ports);
                                                        },
                                                        className:
                                                            "px-3 py-1.5 text-xs rounded border transition-colors cursor-pointer " +
                                                            (e === r.capacity && s === r.ports
                                                                ? "bg-purple-600 text-white border-purple-600"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-purple-50 dark:bg-purple-900/20"),
                                                        children: r.label,
                                                    },
                                                    r.label
                                                )
                                            ),
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-4 sm:gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Controller Max Capacity (pixels)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children:
                                            "Total pixels the controller can handle (e.g., 1920×1200 = 2,304,000)",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "RJ45 Output Ports Available",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: s,
                                        onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Number of Ethernet output ports on the controller",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Cabinet Width (mm)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: o,
                                        onChange: (e) => d("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Physical width of each LED cabinet",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Cabinet Height (mm)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: c,
                                        onChange: (e) => m("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Physical height of each LED cabinet",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Pixel Pitch (mm)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        value: x,
                                        onChange: (e) => u("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Distance between pixel centers (common: 1.5, 2.5, 2.9, 3.9mm)",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Bit Depth",
                                    }),
                                    _jsxs("select", {
                                        value: r,
                                        onChange: (e) => l(e.target.value),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", {
                                                value: "8bit",
                                                children: "8-bit (Standard - 650K px/port)",
                                            }),
                                            _jsx("option", { value: "10bit", children: "10-bit (HDR - 520K px/port)" }),
                                            _jsx("option", {
                                                value: "12bit",
                                                children: "12-bit (Cinema - 433K px/port)",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "10-bit reduces port capacity but improves color",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Refresh Rate",
                                    }),
                                    _jsxs("select", {
                                        value: i,
                                        onChange: (e) => n(Number(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: 60, children: "60 Hz (Standard)" }),
                                            _jsx("option", { value: 75, children: "75 Hz" }),
                                            _jsx("option", { value: 90, children: "90 Hz" }),
                                            _jsx("option", { value: 120, children: "120 Hz (Broadcast/High-Speed)" }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children:
                                            "Higher refresh rates reduce pixel capacity but eliminate flicker on camera",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => {
                            let t, a;
                            "12bit" === r
                                ? ((t = 433333), (a = 12))
                                : "10bit" === r
                                  ? ((t = 52e4), (a = 10))
                                  : ((t = 65e4), (a = 8));
                            const l = calculateVideoWallController(e, s, o, c, x, t, i, a),
                                n = l.widthPixels * l.heightPixels,
                                d = l.maxCabinetsTotal,
                                m = 25e7 / i,
                                u = (Math.floor(m), []),
                                h = Math.floor(e / n),
                                g = l.cabinetsPerPort * s;
                            if (h < g) {
                                const t = (e / 1e6).toFixed(1),
                                    a = s - Math.ceil(h / l.cabinetsPerPort);
                                u.push({
                                    type: "warning",
                                    title: "Controller Capacity Limited",
                                    text: `This controller's total capacity (${t}MP) limits you to ${h} cabinets, even though the ${s} ports could theoretically support ${g} cabinets. ${a > 0 ? `Approximately ${a} port(s) will remain unused or partially used.` : ""} Consider a higher-capacity controller if you need more cabinets.`,
                                });
                            } else
                                u.push({
                                    type: "success",
                                    title: "Port-Limited Configuration",
                                    text: `This controller has sufficient pixel capacity. Your ${s} ports × ${l.cabinetsPerPort} cabinets/port = ${g} cabinets is the limiting factor. The controller can handle this load comfortably.`,
                                });
                            if (i > 60) {
                                const e = Math.round(100 * (1 - 60 / i));
                                u.push({
                                    type: "info",
                                    title: "High Refresh Rate Mode",
                                    text: `Running at ${i}Hz reduces pixel capacity by ~${e}% compared to 60Hz. This is ideal for broadcast/camera capture applications.`,
                                });
                            }
                            const b = ((l.cabinetsPerPort * n) / t) * 100;
                            b < 50
                                ? u.push({
                                      type: "info",
                                      title: "Low Port Utilization",
                                      text: `Each port is only ${b.toFixed(0)}% utilized. You could potentially use fewer ports or add more cabinets per chain.`,
                                  })
                                : b > 90
                                  ? u.push({
                                        type: "warning",
                                        title: "High Port Utilization",
                                        text: `Ports are ${b.toFixed(0)}% utilized. Consider leaving 10-20% headroom for signal integrity.`,
                                    })
                                  : u.push({
                                        type: "success",
                                        title: "Good Port Utilization",
                                        text: `Port utilization at ${b.toFixed(0)}% is within optimal range (50-90%).`,
                                    }),
                                u.push({
                                    type: "info",
                                    title: "Cable Length Guideline",
                                    text: "Per industry standards, Cat6 data cables to LED cabinets should not exceed 100m. For longer runs, use fiber converters.",
                                }),
                                s >= 4 &&
                                    u.push({
                                        type: "info",
                                        title: "Redundancy Option",
                                        text: `With ${s} ports available, consider configuring backup/redundant data paths for critical displays.`,
                                    }),
                                p({
                                    ...l,
                                    totalPixelsPerCabinet: n,
                                    maxCabinetsTotal: d,
                                    loadingEfficiency: b.toFixed(1),
                                    tips: u,
                                });
                        },
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Port Loading",
                    }),
                ],
            }),
            h &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "Calculation Results",
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-4 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600 font-medium",
                                                    children: "Cabinet Resolution",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xl font-bold text-blue-700",
                                                    children: [h.widthPixels, " × ", h.heightPixels],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-blue-600",
                                                    children: [h.totalPixelsPerCabinet.toLocaleString(), " px/cabinet"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border-2 border-purple-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600 font-medium",
                                                    children: "Cabinets Per Port",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-purple-700",
                                                    children: h.cabinetsPerPort,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600",
                                                    children: "max daisy-chain",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-orange-50 p-4 rounded-lg border-2 border-orange-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-orange-600 font-medium",
                                                    children: "Refresh Rate",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-orange-700",
                                                    children: [i, " Hz"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-orange-600",
                                                    children: i > 60 ? "High refresh mode" : "Standard",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-green-600 font-medium",
                                                    children: "Total Cabinets",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-green-700",
                                                    children: h.maxCabinetsTotal,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-green-600",
                                                    children: "controller max",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-4",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Configuration Summary",
                                        }),
                                        _jsxs("div", {
                                            className: "grid sm:grid-cols-2 gap-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Controller Capacity:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [e.toLocaleString(), " pixels"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Output Ports:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [s, " × RJ45"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Cabinet Size:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [o, "mm × ", c, "mm"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Pixel Pitch:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", { children: [x, "mm"] }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: "Max Total Cabinets:",
                                                        }),
                                                        " ",
                                                        _jsxs("strong", {
                                                            children: [h.maxCabinetsTotal, " cabinets"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-500 dark:text-gray-400",
                                                            children: ["With ", s, " ports:"],
                                                        }),
                                                        " ",
                                                        _jsxs("strong", {
                                                            children: [h.cabinetsPerPort * s, " cabinets possible"],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-blue-800 dark:text-blue-200 mb-2",
                                            children: "💡 Wiring Configuration",
                                        }),
                                        _jsxs("p", {
                                            className: "text-sm text-blue-700",
                                            children: [
                                                "Each RJ45 port can drive up to ",
                                                _jsxs("strong", { children: [h.cabinetsPerPort, " cabinets"] }),
                                                " in a daisy-chain configuration. Connect Port 1 → Cabinet 1 → Cabinet 2 → ... → Cabinet ",
                                                h.cabinetsPerPort,
                                                ". Repeat for each port. Total wall capacity with this controller: ",
                                                _jsxs("strong", { children: [h.cabinetsPerPort * s, " cabinets"] }),
                                                ".",
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        h.tips &&
                            h.tips.length > 0 &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                                children: [
                                    _jsx("h2", {
                                        className: "text-lg font-semibold text-gray-800 mb-4",
                                        children: "Tips & Recommendations",
                                    }),
                                    _jsx("div", {
                                        className: "space-y-3",
                                        children: h.tips.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className:
                                                        "p-3 rounded-lg border " +
                                                        ("success" === e.type
                                                            ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                            : "warning" === e.type
                                                              ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"
                                                              : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),
                                                    children: [
                                                        _jsxs("h3", {
                                                            className:
                                                                "font-semibold mb-1 " +
                                                                ("success" === e.type
                                                                    ? "text-green-800 dark:text-green-200"
                                                                    : "warning" === e.type
                                                                      ? "text-yellow-800 dark:text-yellow-200"
                                                                      : "text-blue-800 dark:text-blue-200"),
                                                            children: [
                                                                "success" === e.type
                                                                    ? "✅"
                                                                    : "warning" === e.type
                                                                      ? "⚠️"
                                                                      : "ℹ️",
                                                                " ",
                                                                e.title,
                                                            ],
                                                        }),
                                                        _jsx("p", {
                                                            className:
                                                                "text-sm " +
                                                                ("success" === e.type
                                                                    ? "text-green-700"
                                                                    : "warning" === e.type
                                                                      ? "text-yellow-700"
                                                                      : "text-blue-700"),
                                                            children: e.text,
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "Common LED Cabinet Sizes Reference",
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-sm",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "bg-gray-100 dark:bg-gray-700",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Cabinet Size",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Common Pitch",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Resolution",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Pixels",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsx("tbody", {
                                                children: [
                                                    {
                                                        size: "500×500mm",
                                                        pitch: "2.5-2.9mm",
                                                        res: "200×200 or 172×172",
                                                        pixels: "40,000 or 29,584",
                                                    },
                                                    {
                                                        size: "500×1000mm",
                                                        pitch: "2.5-2.9mm",
                                                        res: "200×400 or 172×344",
                                                        pixels: "80,000 or 59,168",
                                                    },
                                                    {
                                                        size: "600×337.5mm",
                                                        pitch: "2.5mm",
                                                        res: "240×135",
                                                        pixels: "32,400",
                                                    },
                                                    {
                                                        size: "640×480mm",
                                                        pitch: "2.5-4mm",
                                                        res: "256×192 or 160×120",
                                                        pixels: "49,152 or 19,200",
                                                    },
                                                    {
                                                        size: "960×960mm",
                                                        pitch: "2.5-3mm",
                                                        res: "384×384 or 320×320",
                                                        pixels: "147,456 or 102,400",
                                                    },
                                                ].map((e, t) =>
                                                    _jsxs(
                                                        "tr",
                                                        {
                                                            className: "border-b",
                                                            children: [
                                                                _jsx("td", {
                                                                    className: "px-3 py-2 font-medium",
                                                                    children: e.size,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: e.pitch,
                                                                }),
                                                                _jsx("td", { className: "px-3 py-2", children: e.res }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: e.pixels,
                                                                }),
                                                            ],
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function CoolingCalculator() {
    const [e, t] = useState(10),
        [s, a] = useState(20),
        [r, l] = useState(9),
        [i, n] = useState("ft"),
        [o, d] = useState(1500),
        [c, m] = useState(1),
        [x, u] = useState(100),
        [h, p] = useState(1.25),
        [g, b] = useState(null),
        [f, y] = useState(!1);
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Rack Cooling Calculator",
                    }),
                    g !== null &&
                        _jsx("button", {
                            onClick: () => y(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: f,
                onConfirm: () => {
                    t(10), a(20), l(9), n("ft"), d(1500), m(1), u(100), p(1.25), b(null), y(!1);
                },
                onCancel: () => y(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates cooling requirements (BTU/hr and tons) based on your equipment's power consumption. Simply enter the total wattage of all equipment — the heat output equals the power consumed. Room size is only used for heat density analysis.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                        children: "ASHRAE Thermal Guidelines",
                    }),
                    _jsx("p", {
                        className: "text-xs sm:text-sm text-blue-700 mb-3",
                        children:
                            "All electrical power consumed by equipment is converted to heat. ASHRAE provides thermal guidelines to ensure equipment reliability.",
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", {
                                        className: "font-bold text-blue-700",
                                        children: "1W = 3.412 BTU/hr",
                                    }),
                                    _jsx("div", { className: "text-blue-600", children: "Conversion Factor" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "64-80°F" }),
                                    _jsx("div", { className: "text-blue-600", children: "Inlet Temp Range" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "40-60%" }),
                                    _jsx("div", { className: "text-blue-600", children: "Humidity Range" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800 text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-blue-700", children: "12,000 BTU/hr" }),
                                    _jsx("div", { className: "text-blue-600", children: "= 1 Ton Cooling" }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children: "Equipment Heat Load",
                    }),
                    _jsxs("div", {
                        className: "bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6 border border-blue-200 dark:border-blue-800",
                        children: [
                            _jsx("h3", {
                                className: "text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",
                                children: "ASHRAE/Industry Standard Formula",
                            }),
                            _jsx("p", {
                                className: "text-xs text-blue-700 font-mono mb-2",
                                children:
                                    "Total BTU/hr = (Equipment Watts × 3.412) + (People × 400) + (Lighting Watts × 3.412)",
                            }),
                            _jsx("p", {
                                className: "text-xs text-blue-600",
                                children:
                                    "Room size does NOT add heat — it's only used to calculate heat density (W/ft²) for cooling system type recommendations.",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-4 sm:gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Equipment Power (Watts)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        min: "0",
                                        value: o,
                                        onChange: (e) => d("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("div", {
                                        className: "flex flex-wrap gap-1 mt-2",
                                        children: [
                                            { label: "Small AV Rack (500W)", watts: 500 },
                                            { label: "Medium AV Rack (1.5kW)", watts: 1500 },
                                            { label: "Large AV Rack (3kW)", watts: 3e3 },
                                            { label: "Server Rack (5kW)", watts: 5e3 },
                                            { label: "High-Density Rack (10kW)", watts: 1e4 },
                                            { label: "AV Processor (150W)", watts: 150 },
                                            { label: "Amplifier 1000W Class AB", watts: 1500 },
                                            { label: "Amplifier 1000W Class D", watts: 400 },
                                            { label: "Video Wall Controller", watts: 400 },
                                            { label: "Matrix Switcher", watts: 200 },
                                            { label: "DSP Processor", watts: 100 },
                                            { label: "Network Switch 24-port", watts: 50 },
                                        ]
                                            .slice(0, 6)
                                            .map((e) =>
                                                _jsx(
                                                    "button",
                                                    {
                                                        onClick: () => d(e.watts),
                                                        className:
                                                            "px-2 py-1 text-xs rounded border transition-colors cursor-pointer " +
                                                            (o === e.watts
                                                                ? "bg-blue-600 text-white border-blue-600"
                                                                : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                        children: e.label,
                                                    },
                                                    e.label
                                                )
                                            ),
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-2",
                                        children:
                                            "Sum total wattage of all equipment (servers, amps, processors, etc.)",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Active People in Room",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        min: "0",
                                        value: c,
                                        onChange: (e) => m("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "ASHRAE: 400 BTU/hr per person (sedentary office work)",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Lighting Power (Watts)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        min: "0",
                                        value: x,
                                        onChange: (e) => u("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsxs("div", {
                                        className: "mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-800",
                                        children: [
                                            _jsx("p", {
                                                className: "text-xs text-yellow-800 dark:text-yellow-200 font-medium mb-1",
                                                children: "💡 How to calculate lighting watts:",
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-yellow-700",
                                                children:
                                                    "Count fixtures × Watts per bulb. Example: 4 LED tubes × 18W = 72W total. Check bulb labels or: LED (8-18W), Fluorescent (32-40W), Incandescent (60-100W per bulb).",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Safety Factor",
                                    }),
                                    _jsxs("select", {
                                        value: h,
                                        onChange: (e) => p(Number(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: 1, children: "1.0× (No margin)" }),
                                            _jsx("option", { value: 1.15, children: "1.15× (15% margin)" }),
                                            _jsx("option", {
                                                value: 1.25,
                                                children: "1.25× (25% margin - Recommended)",
                                            }),
                                            _jsx("option", {
                                                value: 1.5,
                                                children: "1.5× (50% margin - Future expansion)",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "HVAC consultants typically recommend 1.25-1.5× for growth",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-6 pt-4 border-t",
                        children: [
                            _jsx("h3", {
                                className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",
                                children: "Room Dimensions (for heat density calculation only)",
                            }),
                            _jsxs("div", {
                                className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                                children: [
                                    _jsxs("div", {
                                        children: [
                                            _jsx("label", {
                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                children: "Unit",
                                            }),
                                            _jsxs("select", {
                                                value: i,
                                                onChange: (e) => n(e.target.value),
                                                className:
                                                    "w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500",
                                                children: [
                                                    _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                                    _jsx("option", { value: "m", children: "Meters (m)" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        children: [
                                            _jsxs("label", {
                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                children: ["Width (", i, ")"],
                                            }),
                                            _jsx("input", {
                                                type: "number",
                                                min: "0.1",
                                                step: "0.1",
                                                value: e,
                                                onChange: (e) =>
                                                    t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                className:
                                                    "w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        children: [
                                            _jsxs("label", {
                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                children: ["Length (", i, ")"],
                                            }),
                                            _jsx("input", {
                                                type: "number",
                                                min: "0.1",
                                                step: "0.1",
                                                value: s,
                                                onChange: (e) =>
                                                    a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                className:
                                                    "w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        children: [
                                            _jsxs("label", {
                                                className: "block text-xs text-gray-600 dark:text-gray-400 mb-1",
                                                children: ["Height (", i, ")"],
                                            }),
                                            _jsx("input", {
                                                type: "number",
                                                min: "0.1",
                                                step: "0.1",
                                                value: r,
                                                onChange: (e) =>
                                                    l("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                className:
                                                    "w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "mt-3 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-700",
                                children: [
                                    _jsxs("div", {
                                        className: "flex flex-wrap gap-4 text-sm",
                                        children: [
                                            _jsxs("span", {
                                                className: "text-gray-600 dark:text-gray-400",
                                                children: [
                                                    "Floor Area: ",
                                                    _jsx("span", {
                                                        className: "font-semibold text-gray-800",
                                                        children:
                                                            "m" === i
                                                                ? `${(e * s).toFixed(1)} m² (${(e * s * 10.764).toFixed(1)} ft²)`
                                                                : `${(e * s).toFixed(1)} ft² (${((e * s) / 10.764).toFixed(1)} m²)`,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("span", {
                                                className: "text-gray-600 dark:text-gray-400",
                                                children: [
                                                    "Volume: ",
                                                    _jsx("span", {
                                                        className: "font-semibold text-gray-800",
                                                        children:
                                                            "m" === i
                                                                ? `${(e * s * r).toFixed(1)} m³ (${(e * s * r * 35.315).toFixed(0)} ft³)`
                                                                : `${(e * s * r).toFixed(0)} ft³ (${((e * s * r) / 35.315).toFixed(1)} m³)`,
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsx("p", {
                                className: "text-xs text-gray-500 dark:text-gray-400 mt-2",
                                children:
                                    "Room dimensions are used to calculate W/ft² and W/ft³ density to determine cooling system type needed — they do NOT add to the heat load.",
                            }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => {
                            const t = e > 0 ? e : 1,
                                a = s > 0 ? s : 1,
                                l = r > 0 ? r : 1,
                                n = o >= 0 ? o : 0,
                                d = t * a,
                                m = d * l,
                                u = "m" === i ? 10.764 * d : d,
                                p = "m" === i ? 35.315 * m : m,
                                g = 3.412 * n,
                                f = 400 * (c >= 0 ? c : 0),
                                y = 3.412 * (x >= 0 ? x : 0),
                                j = g + f + y,
                                _ = j * h,
                                v = _ / 12e3,
                                N = 3.517 * v,
                                w = Math.round(_ / (1.08 * 15)),
                                C = Math.round(450 * v),
                                M = _ / (1.08 * Math.max(w, C)),
                                k = n / u,
                                S = _ / u,
                                R = n / p,
                                P = [],
                                A = [];
                            k > 100
                                ? A.push({
                                      type: "error",
                                      title: "Very High Heat Density",
                                      text: `At ${k.toFixed(1)} W/ft², this exceeds typical high-density thresholds. Consider in-row cooling, hot/cold aisle containment, or liquid cooling per ASHRAE guidelines.`,
                                  })
                                : k > 50
                                  ? A.push({
                                        type: "warning",
                                        title: "High Heat Density",
                                        text: `Heat density of ${k.toFixed(1)} W/ft² is above average. Ensure adequate airflow management and consider supplemental cooling.`,
                                    })
                                  : k < 10 &&
                                    u > 100 &&
                                    P.push({
                                        type: "info",
                                        title: "Low Heat Density",
                                        text: `Heat density of ${k.toFixed(1)} W/ft² is low. Standard room ventilation may be adequate, but dedicated cooling is still recommended for reliability.`,
                                    }),
                                C < w &&
                                    P.push({
                                        type: "info",
                                        title: "Airflow Sizing",
                                        text: `Standard 450 CFM/ton provides ${C} CFM. For optimal 15°F delta, ${w} CFM is recommended.`,
                                    }),
                                P.push({
                                    type: "info",
                                    title: "ASHRAE Temperature Guidelines",
                                    text: "ASHRAE recommends inlet air temperature of 64-80°F (18-27°C) with 40-60% relative humidity for IT/AV equipment.",
                                }),
                                v < 0.5
                                    ? P.push({
                                          type: "info",
                                          title: "Small Space Cooling",
                                          text: "For small heat loads, consider a mini-split AC, portable AC unit, or enhanced ventilation with exhaust fans.",
                                      })
                                    : v >= 2 &&
                                      P.push({
                                          type: "info",
                                          title: "Redundancy Recommendation",
                                          text: `For ${v.toFixed(1)} tons of cooling, ASHRAE recommends N+1 redundancy for critical spaces. Consider two ${(v / 2).toFixed(1)}-ton units.`,
                                      }),
                                P.push({
                                    type: "info",
                                    title: "Airflow Management",
                                    text: "Per EIA-310 and ASHRAE, use blank panels in all unused rack positions to prevent hot air recirculation.",
                                }),
                                b({
                                    totalBTU: Math.round(_),
                                    subtotalBTU: Math.round(j),
                                    equipmentBTU: Math.round(g),
                                    peopleBTU: Math.round(f),
                                    lightingBTU: Math.round(y),
                                    safetyFactor: h,
                                    coolingTons: Math.round(100 * v) / 100,
                                    coolingKW: Math.round(100 * N) / 100,
                                    cfmRequired: Math.round(w),
                                    actualCFM: Math.round(C),
                                    tempRise: Math.round(10 * M) / 10,
                                    wattsPerSqFt: Math.round(10 * k) / 10,
                                    btuPerSqFt: Math.round(10 * S) / 10,
                                    wattsPerCuFt: Math.round(100 * R) / 100,
                                    areaInSqFt: Math.round(100 * u) / 100,
                                    areaInSqM: Math.round((u / 10.764) * 100) / 100,
                                    volumeCuFt: Math.round(100 * p) / 100,
                                    volumeCuM: Math.round((p / 35.315) * 100) / 100,
                                    roomWidth: t,
                                    roomLength: a,
                                    roomHeight: l,
                                    dimensionUnit: i,
                                    equipmentWatts: n,
                                    tips: P,
                                    warnings: A,
                                });
                        },
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Cooling Requirements",
                    }),
                ],
            }),
            g &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "Cooling Requirements",
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-3 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600 font-medium",
                                                    children: "Total Heat Load",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-blue-700",
                                                    children: g.totalBTU.toLocaleString(),
                                                }),
                                                _jsx("div", { className: "text-xs text-blue-600", children: "BTU/h" }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-green-600 font-medium",
                                                    children: "Cooling Required",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-green-700",
                                                    children: g.coolingTons,
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-green-600",
                                                    children: ["Tons (", g.coolingKW, " kW)"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border-2 border-purple-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600 font-medium",
                                                    children: "Airflow Required",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-purple-700",
                                                    children: g.cfmRequired.toLocaleString(),
                                                }),
                                                _jsx("div", { className: "text-xs text-purple-600", children: "CFM" }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border " +
                                                (g.wattsPerSqFt < 50
                                                    ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                    : g.wattsPerSqFt < 100
                                                      ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"
                                                      : "bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between items-center",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                            children: "Heat Density",
                                                        }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold " +
                                                                (g.wattsPerSqFt < 50
                                                                    ? "text-green-700"
                                                                    : g.wattsPerSqFt < 100
                                                                      ? "text-yellow-700"
                                                                      : "text-red-700"),
                                                            children: [g.wattsPerSqFt, " W/ft²"],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children:
                                                        g.wattsPerSqFt < 50
                                                            ? "Standard density - conventional cooling adequate"
                                                            : g.wattsPerSqFt < 100
                                                              ? "Medium density - ensure good airflow"
                                                              : "High density - specialized cooling recommended",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "p-4 rounded-lg border bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between items-center",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                            children: "Equipment Power",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold text-gray-700 dark:text-gray-300",
                                                            children: [g.equipmentWatts.toLocaleString(), " W"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: [
                                                        "= ",
                                                        g.equipmentBTU.toLocaleString(),
                                                        " BTU/hr (×3.412 conversion)",
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-4",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                            children: "Heat Load Breakdown",
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between text-sm",
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: ["Equipment (", g.equipmentWatts, "W × 3.412):"],
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-medium text-blue-600",
                                                            children: [g.equipmentBTU.toLocaleString(), " BTU/hr"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-sm",
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: ["People (", c, " × 400 BTU):"],
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-medium",
                                                            children: [g.peopleBTU.toLocaleString(), " BTU/hr"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-sm",
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: ["Lighting (", x, "W × 3.412):"],
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-medium",
                                                            children: [g.lightingBTU.toLocaleString(), " BTU/hr"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-sm border-t pt-2",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-700 dark:text-gray-300",
                                                            children: "Subtotal:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-medium",
                                                            children: [g.subtotalBTU.toLocaleString(), " BTU/hr"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-sm",
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: ["Safety Factor (×", g.safetyFactor, "):"],
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-medium",
                                                            children: [
                                                                "+",
                                                                Math.round(
                                                                    g.subtotalBTU * (g.safetyFactor - 1)
                                                                ).toLocaleString(),
                                                                " BTU/hr",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className:
                                                        "flex justify-between text-sm border-t pt-2 font-semibold",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-800",
                                                            children: "Total Heat Load:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "text-blue-700",
                                                            children: [g.totalBTU.toLocaleString(), " BTU/hr"],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg text-sm",
                                    children: _jsxs("div", {
                                        className: "grid sm:grid-cols-3 gap-2",
                                        children: [
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Room Area:",
                                                    }),
                                                    " ",
                                                    _jsxs("strong", {
                                                        children: [g.areaInSqFt, " ft² (", g.areaInSqM, " m²)"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Cooling Capacity:",
                                                    }),
                                                    " ",
                                                    _jsx("strong", { children: "1 ton = 12,000 BTU/h" }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-gray-500 dark:text-gray-400",
                                                        children: "Estimated CFM:",
                                                    }),
                                                    " ",
                                                    _jsxs("strong", { children: [g.actualCFM, " (at 400 CFM/ton)"] }),
                                                ],
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                        g.warnings.length > 0 &&
                            _jsxs("div", {
                                className: "bg-red-50 dark:bg-red-900/20 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border border-red-300",
                                children: [
                                    _jsxs("h2", {
                                        className: "text-lg font-semibold text-red-800 dark:text-red-200 mb-3 flex items-center gap-2",
                                        children: [_jsx("span", { children: "⚠️" }), " Warnings"],
                                    }),
                                    _jsx("div", {
                                        className: "space-y-3",
                                        children: g.warnings.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className:
                                                        "p-3 bg-white dark:bg-gray-800 rounded-lg border " +
                                                        ("error" === e.type ? "border-red-200 dark:border-red-800" : "border-yellow-200 dark:border-yellow-800"),
                                                    children: [
                                                        _jsx("h3", {
                                                            className:
                                                                "font-semibold mb-1 " +
                                                                ("error" === e.type
                                                                    ? "text-red-700"
                                                                    : "text-yellow-700"),
                                                            children: e.title,
                                                        }),
                                                        _jsx("p", {
                                                            className:
                                                                "text-sm " +
                                                                ("error" === e.type
                                                                    ? "text-red-600"
                                                                    : "text-yellow-600"),
                                                            children: e.text,
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "ASHRAE/AVIXA Tips & Recommendations",
                                }),
                                _jsx("div", {
                                    className: "space-y-3",
                                    children: g.tips.map((e, t) =>
                                        _jsxs(
                                            "div",
                                            {
                                                className:
                                                    "p-3 rounded-lg border " +
                                                    ("success" === e.type
                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
                                                        : "warning" === e.type
                                                          ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"
                                                          : "error" === e.type
                                                            ? "bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"
                                                            : "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),
                                                children: [
                                                    _jsxs("h3", {
                                                        className:
                                                            "font-semibold mb-1 " +
                                                            ("success" === e.type
                                                                ? "text-green-800 dark:text-green-200"
                                                                : "warning" === e.type
                                                                  ? "text-yellow-800 dark:text-yellow-200"
                                                                  : "error" === e.type
                                                                    ? "text-red-800 dark:text-red-200"
                                                                    : "text-blue-800 dark:text-blue-200"),
                                                        children: [
                                                            "success" === e.type
                                                                ? "✅"
                                                                : "warning" === e.type
                                                                  ? "⚠️"
                                                                  : "error" === e.type
                                                                    ? "❌"
                                                                    : "ℹ️",
                                                            " ",
                                                            e.title,
                                                        ],
                                                    }),
                                                    _jsx("p", {
                                                        className:
                                                            "text-sm " +
                                                            ("success" === e.type
                                                                ? "text-green-700"
                                                                : "warning" === e.type
                                                                  ? "text-yellow-700"
                                                                  : "error" === e.type
                                                                    ? "text-red-700"
                                                                    : "text-blue-700"),
                                                        children: e.text,
                                                    }),
                                                ],
                                            },
                                            t
                                        )
                                    ),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "ASHRAE Temperature Guidelines",
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-sm",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "bg-gray-100 dark:bg-gray-700",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Class",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Inlet Temp (Recommended)",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Inlet Temp (Allowable)",
                                                        }),
                                                        _jsx("th", {
                                                            className: "px-3 py-2 text-left",
                                                            children: "Humidity Range",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsx("tbody", {
                                                children: [
                                                    {
                                                        class: "A1 (Recommended)",
                                                        recTemp: "64-75°F (18-24°C)",
                                                        allowTemp: "59-90°F (15-32°C)",
                                                        humidity: "40-60%",
                                                    },
                                                    {
                                                        class: "A2 (Standard)",
                                                        recTemp: "64-75°F (18-24°C)",
                                                        allowTemp: "50-95°F (10-35°C)",
                                                        humidity: "20-80%",
                                                    },
                                                    {
                                                        class: "A3 (Relaxed)",
                                                        recTemp: "64-75°F (18-24°C)",
                                                        allowTemp: "41-104°F (5-40°C)",
                                                        humidity: "8-85%",
                                                    },
                                                    {
                                                        class: "A4 (Extended)",
                                                        recTemp: "64-75°F (18-24°C)",
                                                        allowTemp: "41-113°F (5-45°C)",
                                                        humidity: "8-90%",
                                                    },
                                                ].map((e, t) =>
                                                    _jsxs(
                                                        "tr",
                                                        {
                                                            className: "border-b " + (0 === t ? "bg-blue-50 dark:bg-blue-900/20" : ""),
                                                            children: [
                                                                _jsx("td", {
                                                                    className: "px-3 py-2 font-medium",
                                                                    children: e.class,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: e.recTemp,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: e.allowTemp,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "px-3 py-2",
                                                                    children: e.humidity,
                                                                }),
                                                            ],
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                        ],
                                    }),
                                }),
                                _jsx("p", {
                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-3",
                                    children:
                                        "Source: ASHRAE TC 9.9 - Thermal Guidelines for Data Processing Environments",
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function SpeakerCalculator() {
    const [e, t] = useState(75),
        [s, a] = useState(10),
        [r, l] = useState(90),
        [i, n] = useState(3),
        [o, d] = useState("m"),
        [c, m] = useState(!1),
        [x, u] = useState(10),
        [h, p] = useState(4),
        [g, b] = useState(90),
        [f, y] = useState("minimal"),
        [j, _] = useState("ft"),
        [v, N] = useState(40),
        [w, C] = useState(30),
        [M, k] = useState("ft"),
        [S, R] = useState(null),
        [P, A] = useState(!1),
        D = (e) => {
            const t = j,
                s = M,
                a = o,
                r = 0.3048,
                l = 3.28084;
            t !== e &&
                ("ft" === t && "m" === e
                    ? (u((e) => Math.round(e * r * 100) / 100), p((e) => Math.round(e * r * 100) / 100))
                    : "m" === t &&
                      "ft" === e &&
                      (u((e) => Math.round(e * l * 100) / 100), p((e) => Math.round(e * l * 100) / 100)),
                _(e)),
                s !== e &&
                    ("ft" === s && "m" === e
                        ? (N((e) => Math.round(e * r * 100) / 100), C((e) => Math.round(e * r * 100) / 100))
                        : "m" === s &&
                          "ft" === e &&
                          (N((e) => Math.round(e * l * 100) / 100), C((e) => Math.round(e * l * 100) / 100)),
                    k(e)),
                a !== e &&
                    ("ft" === a && "m" === e
                        ? n((e) => Math.round(e * r * 100) / 100)
                        : "m" === a && "ft" === e && n((e) => Math.round(e * l * 100) / 100),
                    d(e));
        };
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-6 py-8",
        children: [
            _jsx("div", {
                className: "mb-4",
                children: _jsxs("span", {
                    className:
                        "inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-800 dark:text-purple-200 text-sm font-semibold rounded-full border border-purple-200 dark:border-purple-800",
                    children: [_jsx("span", { className: "text-purple-600", children: "⚡" }), " Advanced Tool"],
                }),
            }),
            _jsxs("div", {
                className: "flex items-center justify-between mb-2",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Speaker Design Calculator",
                    }),
                    S !== null &&
                        _jsx("button", {
                            onClick: () => A(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: P,
                onConfirm: () => {
                    t(75),
                        a(10),
                        l(90),
                        n(3),
                        d("m"),
                        m(!1),
                        u(10),
                        p(4),
                        b(90),
                        y("minimal"),
                        _("ft"),
                        N(40),
                        C(30),
                        k("ft"),
                        R(null),
                        A(!1);
                },
                onCancel: () => A(!1),
            }),
            _jsx("p", {
                className: "text-gray-600 dark:text-gray-400 mb-4",
                children:
                    "Professional speaker system design tool based on AVIXA CTS-D standards and industry practices",
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates electrical power required (EPR) per speaker using the AVIXA formula, determines amplifier sizing, and designs ceiling speaker layouts with proper coverage spacing based on mounting height and coverage angle.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("h2", {
                        className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                        children: [
                            _jsx("span", { className: "text-blue-600", children: "🔊" }),
                            " EPR (Electrical Power Required) Calculator",
                        ],
                    }),
                    _jsx("p", {
                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                        children:
                            "Calculate the electrical power required per speaker using the AVIXA standard formula.",
                    }),
                    _jsxs("div", {
                        className: "mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",
                        children: [
                            _jsxs("p", {
                                className: "text-sm text-blue-800 dark:text-blue-200 font-mono",
                                children: [
                                    _jsx("strong", { children: "AVIXA Formula:" }),
                                    " EPR = 10",
                                    _jsx("sup", { children: "((Lp + H - Ls + 20×log₁₀(D/1m)) / 10)" }),
                                    " × 1W",
                                ],
                            }),
                            _jsx("p", {
                                className: "text-xs text-blue-600 mt-1",
                                children:
                                    "Where: Lp = Target SPL, H = Headroom, Ls = Sensitivity (dB @ 1W/1m), D = Distance to listener",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Distance Unit",
                                    }),
                                    _jsxs("select", {
                                        value: o,
                                        onChange: (e) => {
                                            return (t = e.target.value), void D(t);
                                            var t;
                                        },
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "m", children: "Meters (m)" }),
                                            _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Distance to Listener (", o, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        min: "0.1",
                                        value: i,
                                        onChange: (e) => n("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "D₂ in AVIXA formula",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Target SPL at Listener (dB)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Lp in AVIXA formula - desired sound level at listener position",
                                    }),
                                    _jsx("div", {
                                        className: "flex flex-wrap gap-2 mt-2",
                                        children: [
                                            { spl: 65, label: "65 dB", color: "green" },
                                            { spl: 70, label: "70 dB", color: "green" },
                                            { spl: 75, label: "75 dB", color: "blue" },
                                            { spl: 80, label: "80 dB", color: "blue" },
                                            { spl: 85, label: "85 dB", color: "yellow" },
                                            { spl: 90, label: "90 dB", color: "orange" },
                                            { spl: 95, label: "95 dB", color: "red" },
                                        ].map((s) =>
                                            _jsx(
                                                "button",
                                                {
                                                    onClick: () => t(s.spl),
                                                    className:
                                                        "px-3 py-1 text-xs rounded transition-colors " +
                                                        (e === s.spl
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                    children: s.label,
                                                },
                                                s.spl
                                            )
                                        ),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Headroom (dB)",
                                    }),
                                    _jsxs("select", {
                                        value: s,
                                        onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        children: [
                                            _jsx("option", { value: "6", children: "6 dB (Paging Only)" }),
                                            _jsx("option", { value: "10", children: "10 dB (Speech / Paging)" }),
                                            _jsx("option", { value: "15", children: "15 dB (Speech + Music)" }),
                                            _jsx("option", { value: "20", children: "20 dB (Background Music)" }),
                                            _jsx("option", { value: "25", children: "25 dB (Foreground Music)" }),
                                            _jsx("option", { value: "40", children: "40 dB (Live Performance)" }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "H in AVIXA formula - headroom for peaks",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "md:col-span-2",
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Speaker Sensitivity (dB @ 1W/1m)",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        value: r,
                                        onChange: (e) => l("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children:
                                            "Ls in AVIXA formula - from speaker specifications (typical: 84-97 dB)",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className:
                            "mt-6 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-200 dark:border-blue-800",
                        children: [
                            _jsx("h3", {
                                className: "text-sm font-semibold text-gray-800 mb-3",
                                children: "📊 Target SPL Reference Guide (AVIXA/Industry Standards)",
                            }),
                            _jsx("p", {
                                className: "text-xs text-gray-600 dark:text-gray-400 mb-4",
                                children:
                                    "Target SPL is the desired sound pressure level at the listener position. Choose based on ambient noise level (system should be 10-25 dB above ambient for intelligibility) and application requirements.",
                            }),
                            _jsxs("div", {
                                className: "grid md:grid-cols-2 gap-4",
                                children: [
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-green-200 dark:border-green-800",
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "text-xs font-semibold text-green-700 mb-2 flex items-center gap-1",
                                                children: [_jsx("span", { children: "🟢" }), " Low Level (60-70 dB)"],
                                            }),
                                            _jsxs("ul", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "60-65 dB:" }),
                                                            " Quiet BGM, libraries, spas, waiting rooms",
                                                        ],
                                                    }),
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "65-70 dB:" }),
                                                            " Retail BGM, restaurants, hotel lobbies, offices",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-green-600 mt-2 italic",
                                                children: "Ambient: 40-50 dB (quiet spaces)",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-800",
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "text-xs font-semibold text-blue-700 mb-2 flex items-center gap-1",
                                                children: [
                                                    _jsx("span", { children: "🔵" }),
                                                    " Medium Level (70-80 dB)",
                                                ],
                                            }),
                                            _jsxs("ul", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "70-75 dB:" }),
                                                            " Paging, announcements, airports, transit",
                                                        ],
                                                    }),
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "75-80 dB:" }),
                                                            " Speech/presentations, classrooms, conference rooms",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-blue-600 mt-2 italic",
                                                children: "Ambient: 50-65 dB (moderate noise)",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "text-xs font-semibold text-yellow-700 mb-2 flex items-center gap-1",
                                                children: [_jsx("span", { children: "🟡" }), " High Level (80-90 dB)"],
                                            }),
                                            _jsxs("ul", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "80-85 dB:" }),
                                                            " Foreground music, bars, fitness centers, worship",
                                                        ],
                                                    }),
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "85-90 dB:" }),
                                                            " Dance clubs, performance venues, cinema",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-yellow-600 mt-2 italic",
                                                children: "Ambient: 65-75 dB (noisy environments)",
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 p-3 rounded-lg border border-red-200 dark:border-red-800",
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "text-xs font-semibold text-red-700 mb-2 flex items-center gap-1",
                                                children: [
                                                    _jsx("span", { children: "🔴" }),
                                                    " Very High Level (90-105 dB)",
                                                ],
                                            }),
                                            _jsxs("ul", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 space-y-1",
                                                children: [
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "90-95 dB:" }),
                                                            " Live music, DJ events, concerts",
                                                        ],
                                                    }),
                                                    _jsxs("li", {
                                                        children: [
                                                            _jsx("strong", { children: "95-105 dB:" }),
                                                            " Stadiums, large arenas, outdoor festivals",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-red-600 mt-2 italic",
                                                children: "⚠️ Hearing protection recommended >85 dB",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsx("div", {
                                className: "mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",
                                children: _jsxs("p", {
                                    className: "text-xs text-yellow-800 dark:text-yellow-200",
                                    children: [
                                        _jsx("strong", { children: "💡 AVIXA Tip:" }),
                                        " For speech intelligibility, target SPL should be at least ",
                                        _jsx("strong", { children: "10 dB above ambient noise" }),
                                        ". For excellent intelligibility (STI > 0.6), aim for ",
                                        _jsx("strong", { children: "15-25 dB above ambient" }),
                                        ". AVIXA recommends not exceeding 85 dB for extended periods without hearing protection considerations.",
                                    ],
                                }),
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsxs("div", {
                        className: "flex items-center justify-between mb-4",
                        children: [
                            _jsxs("h2", {
                                className: "text-xl font-semibold text-gray-800 flex items-center gap-2",
                                children: [
                                    _jsx("span", { className: "text-purple-600", children: "📍" }),
                                    " Ceiling Speaker Layout",
                                ],
                            }),
                            _jsxs("label", {
                                className: "flex items-center gap-3 cursor-pointer",
                                children: [
                                    _jsx("span", {
                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                        children: "Enable ceiling mount calculations",
                                    }),
                                    _jsx("input", {
                                        type: "checkbox",
                                        checked: c,
                                        onChange: (e) => m(e.target.checked),
                                        className:
                                            "w-5 h-5 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer",
                                    }),
                                ],
                            }),
                        ],
                    }),
                    c &&
                        _jsxs(_Fragment, {
                            children: [
                                _jsx("p", {
                                    className: "text-sm text-gray-600 dark:text-gray-400 mb-6",
                                    children:
                                        "Calculate speaker coverage pattern and optimal spacing for ceiling-mounted speakers.",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Unit",
                                                }),
                                                _jsxs("select", {
                                                    value: j,
                                                    onChange: (e) => {
                                                        return (t = e.target.value), void D(t);
                                                        var t;
                                                    },
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                                        _jsx("option", { value: "m", children: "Meters (m)" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: ["Ceiling Height (", j, ")"],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.5",
                                                    min: "1",
                                                    value: x,
                                                    onChange: (e) =>
                                                        u("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: ["Listener Ear Height (", j, ")"],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.5",
                                                    min: "0",
                                                    value: h,
                                                    onChange: (e) =>
                                                        p("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children:
                                                        "ft" === j
                                                            ? "Typically 4ft seated, 5ft standing"
                                                            : "Typically 1.2m seated, 1.5m standing",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Speaker Coverage Angle (°)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "0",
                                                    max: "999",
                                                    value: g,
                                                    onChange: (e) =>
                                                        b(
                                                            "" === e.target.value
                                                                ? ""
                                                                : Math.min(999, Number(e.target.value) || "")
                                                        ),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    placeholder: "90",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children:
                                                        "From speaker specifications (-6dB point). Common: 60°-180°",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: "Spacing Pattern",
                                                }),
                                                _jsxs("select", {
                                                    value: f,
                                                    onChange: (e) => y(e.target.value),
                                                    className:
                                                        "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        _jsx("option", {
                                                            value: "edge",
                                                            children: "Edge-to-Edge (1.0D) - Minimum speakers",
                                                        }),
                                                        _jsx("option", {
                                                            value: "minimal",
                                                            children: "Partial Overlap (0.75D) - Good uniformity ★",
                                                        }),
                                                        _jsx("option", {
                                                            value: "center",
                                                            children: "Edge-to-Center (0.52D) - Maximum uniformity",
                                                        }),
                                                    ],
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "★ Recommended for most applications",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-4",
                                    children: [
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border-2 cursor-pointer transition-all " +
                                                ("edge" === f
                                                    ? "border-orange-500 bg-orange-50"
                                                    : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:border-gray-600"),
                                            onClick: () => y("edge"),
                                            children: [
                                                _jsx("div", {
                                                    className: "flex justify-center mb-2",
                                                    children: _jsxs("div", {
                                                        className: "flex items-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-orange-400 bg-orange-100",
                                                            }),
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-orange-400 bg-orange-100 -ml-0",
                                                            }),
                                                        ],
                                                    }),
                                                }),
                                                _jsx("div", {
                                                    className: "text-sm font-medium text-center",
                                                    children: "Edge-to-Edge",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 text-center",
                                                    children: "1.0D spacing",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-orange-600 text-center font-medium",
                                                    children: "Fewest speakers",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border-2 cursor-pointer transition-all " +
                                                ("minimal" === f
                                                    ? "border-green-500 bg-green-50 dark:bg-green-900/20"
                                                    : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:border-gray-600"),
                                            onClick: () => y("minimal"),
                                            children: [
                                                _jsx("div", {
                                                    className: "flex justify-center mb-2",
                                                    children: _jsxs("div", {
                                                        className: "flex items-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-green-400 bg-green-100",
                                                            }),
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-green-400 bg-green-100 -ml-3",
                                                            }),
                                                        ],
                                                    }),
                                                }),
                                                _jsx("div", {
                                                    className: "text-sm font-medium text-center",
                                                    children: "Partial Overlap ★",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 text-center",
                                                    children: "0.75D spacing",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-green-600 text-center font-medium",
                                                    children: "Good uniformity",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "p-4 rounded-lg border-2 cursor-pointer transition-all " +
                                                ("center" === f
                                                    ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20"
                                                    : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:border-gray-600"),
                                            onClick: () => y("center"),
                                            children: [
                                                _jsx("div", {
                                                    className: "flex justify-center mb-2",
                                                    children: _jsxs("div", {
                                                        className: "flex items-center",
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-blue-400 bg-blue-100",
                                                            }),
                                                            _jsx("div", {
                                                                className:
                                                                    "w-8 h-8 rounded-full border-2 border-blue-400 bg-blue-100 -ml-5",
                                                            }),
                                                        ],
                                                    }),
                                                }),
                                                _jsx("div", {
                                                    className: "text-sm font-medium text-center",
                                                    children: "Edge-to-Center",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 text-center",
                                                    children: "0.52D spacing",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600 text-center font-medium",
                                                    children: "Best uniformity",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",
                                    children: [
                                        _jsxs("h3", {
                                            className:
                                                "text-md font-semibold text-green-800 dark:text-green-200 mb-3 flex items-center gap-2",
                                            children: [
                                                _jsx("span", { children: "📐" }),
                                                " Room Size (for Speaker Count Recommendation)",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "grid md:grid-cols-3 gap-4",
                                            children: [
                                                _jsxs("div", {
                                                    children: [
                                                        _jsx("label", {
                                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                            children: "Unit",
                                                        }),
                                                        _jsxs("select", {
                                                            value: M,
                                                            onChange: (e) => {
                                                                return (t = e.target.value), void D(t);
                                                                var t;
                                                            },
                                                            className:
                                                                "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",
                                                            children: [
                                                                _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                                                _jsx("option", { value: "m", children: "Meters (m)" }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsxs("label", {
                                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                            children: ["Room Length (", M, ")"],
                                                        }),
                                                        _jsx("input", {
                                                            type: "number",
                                                            step: "1",
                                                            min: "1",
                                                            value: v,
                                                            onChange: (e) =>
                                                                N(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : parseFloat(e.target.value)
                                                                ),
                                                            className:
                                                                "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    children: [
                                                        _jsxs("label", {
                                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                            children: ["Room Width (", M, ")"],
                                                        }),
                                                        _jsx("input", {
                                                            type: "number",
                                                            step: "1",
                                                            min: "1",
                                                            value: w,
                                                            onChange: (e) =>
                                                                C(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : parseFloat(e.target.value)
                                                                ),
                                                            className:
                                                                "w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-green-700 mt-2",
                                            children:
                                                "Enter room dimensions to get speaker count and layout recommendations based on the ceiling speaker coverage pattern above.",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    !c &&
                        _jsx("p", {
                            className: "text-sm text-gray-500 dark:text-gray-400 italic",
                            children: "Enable the checkbox above to calculate ceiling speaker coverage and spacing.",
                        }),
                ],
            }),
            _jsx("button", {
                onClick: () => {
                    const t = ((e, t) => {
                            switch (t) {
                                case "ft":
                                    return 0.3048 * e;
                                case "in":
                                    return 0.0254 * e;
                                default:
                                    return e;
                            }
                        })(i, o),
                        a = t / 1,
                        l = 20 * Math.log10(a),
                        n = (e + s - r + l) / 10,
                        d = 1 * Math.pow(10, n),
                        m = {
                            requiredWatts: d < 0.01 ? 0.01 : Math.round(100 * d) / 100,
                            distanceLoss: Math.round(100 * l) / 100,
                            distanceM: Math.round(100 * t) / 100,
                            exponent: Math.round(1e3 * n) / 1e3,
                        };
                    let u = null,
                        p = null;
                    if (c) {
                        const e = x - h,
                            t = e <= 0.5,
                            s = "m" === j ? 1.2 : 4,
                            a = Math.max(s, e),
                            r = e < s && e > 0,
                            l = (Math.min(170, Math.max(10, g)) / 2) * (Math.PI / 180),
                            i = 2 * a * Math.tan(l),
                            n = i / 2;
                        let o, d, c, m;
                        switch (f) {
                            case "edge":
                                (o = i),
                                    (d = "Edge to Edge"),
                                    (c = "Coverage circles touch at edges (±4.4dB). Suitable for BGM/paging only."),
                                    (m = "±4.4 dB");
                                break;
                            case "minimal":
                            default:
                                (o = n * Math.sqrt(2)),
                                    (d = "Minimum Overlap"),
                                    (c = "AVIXA recommended (~29% overlap, ±2dB). Best balance of coverage and cost."),
                                    (m = "±2.0 dB");
                                break;
                            case "center":
                                (o = n),
                                    (d = "Full Overlap (Center-to-Center)"),
                                    (c =
                                        "Maximum uniformity (50% overlap, ±1.4dB). For critical listening applications."),
                                    (m = "±1.4 dB");
                        }
                        const u = Math.PI * Math.pow(n, 2),
                            b = "m" === j ? "m²" : "ft²";
                        p = {
                            effectiveHeight: Math.round(100 * a) / 100,
                            rawEffectiveHeight: Math.round(100 * e) / 100,
                            effectiveHeightWarning: t,
                            lowCeilingWarning: r,
                            coverageEfficiency: 1,
                            coverageDiameter: Math.round(100 * i) / 100,
                            rawCoverageDiameter: Math.round(100 * i) / 100,
                            coverageRadius: Math.round(100 * n) / 100,
                            coverageArea: Math.round(100 * u) / 100,
                            speakerSpacing: Math.round(100 * o) / 100,
                            spacingLabel: d,
                            spacingDescription: c,
                            dbVariation: m,
                            unit: j,
                            areaUnit: b,
                            coverageAdjusted: !1,
                        };
                    }
                    let b = null;
                    if (c && v > 0 && w > 0) {
                        const e =
                                M === j
                                    ? v
                                    : "ft" === M && "m" === j
                                      ? 0.3048 * v
                                      : "m" === M && "ft" === j
                                        ? 3.28084 * v
                                        : v,
                            t =
                                M === j
                                    ? w
                                    : "ft" === M && "m" === j
                                      ? 0.3048 * w
                                      : "m" === M && "ft" === j
                                        ? 3.28084 * w
                                        : w,
                            s = e * t,
                            a = p.coverageDiameter,
                            r = (p.coverageRadius, p.coverageArea),
                            l = { edge: 1, minimal: 0.75, center: 0.52 },
                            i = a * l[f],
                            n = Math.max(1, Math.round(e / i)),
                            o = Math.max(1, Math.round(t / i)),
                            d = n * o,
                            c = e / n,
                            x = t / o,
                            h = d * r,
                            g = Math.min(100, (h / s) * 100),
                            y = [],
                            _ = {
                                name:
                                    "edge" === f
                                        ? "Edge-to-Edge"
                                        : "minimal" === f
                                          ? "Partial Overlap"
                                          : "Edge-to-Center",
                                rows: o,
                                cols: n,
                                total: d,
                                spacingL: Math.round(100 * c) / 100,
                                spacingW: Math.round(100 * x) / 100,
                                coverage: Math.round(g),
                                description:
                                    "edge" === f
                                        ? "Coverage circles touch at edges (1.0D)"
                                        : "minimal" === f
                                          ? "Partial overlap for good uniformity (0.75D)"
                                          : "Maximum uniformity - edge to center (0.52D)",
                                isSelected: !0,
                                isAVIXA: !1,
                            };
                        y.push(_);
                        const N = a * l.edge,
                            C = a * l.minimal,
                            k = a * l.center,
                            S = Math.max(1, Math.round(e / N)),
                            R = Math.max(1, Math.round(t / N)),
                            P = S * R,
                            A = Math.max(1, Math.round(e / C)),
                            D = Math.max(1, Math.round(t / C)),
                            I = A * D,
                            E = Math.max(1, Math.round(e / k)),
                            F = Math.max(1, Math.round(t / k)),
                            B = E * F;
                        "edge" !== f &&
                            P !== d &&
                            y.push({
                                name: "Edge-to-Edge",
                                rows: R,
                                cols: S,
                                total: P,
                                spacingL: Math.round((e / S) * 100) / 100,
                                spacingW: Math.round((t / R) * 100) / 100,
                                coverage: Math.round(Math.min(100, ((P * r) / s) * 100)),
                                description: "Economy option - circles touch (1.0D)",
                                isSelected: !1,
                                isAVIXA: !1,
                            }),
                            "minimal" !== f &&
                                I !== d &&
                                y.push({
                                    name: "Partial Overlap",
                                    rows: D,
                                    cols: A,
                                    total: I,
                                    spacingL: Math.round((e / A) * 100) / 100,
                                    spacingW: Math.round((t / D) * 100) / 100,
                                    coverage: Math.round(Math.min(100, ((I * r) / s) * 100)),
                                    description: "Good uniformity (0.75D)",
                                    isSelected: !1,
                                    isAVIXA: !1,
                                }),
                            "center" !== f &&
                                B !== d &&
                                y.push({
                                    name: "Edge-to-Center",
                                    rows: F,
                                    cols: E,
                                    total: B,
                                    spacingL: Math.round((e / E) * 100) / 100,
                                    spacingW: Math.round((t / F) * 100) / 100,
                                    coverage: Math.round(Math.min(100, ((B * r) / s) * 100)),
                                    description: "Maximum uniformity (0.52D)",
                                    isSelected: !1,
                                    isAVIXA: !1,
                                }),
                            y.sort((e, t) => (e.isSelected ? -1 : t.isSelected ? 1 : e.total - t.total));
                        const T = M !== j,
                            L = s / d,
                            H = p.coverageDiameter,
                            U = H - c,
                            q = H - x,
                            $ = Math.round((U / H) * 100),
                            W = Math.round((q / H) * 100),
                            V = Math.round(($ + W) / 2),
                            O =
                                "m" === j
                                    ? { critical: 10, speech: 25, background: 50 }
                                    : { critical: 100, speech: 250, background: 500 };
                        let z, G, X, J, Q;
                        L <= O.critical
                            ? ((z = "High Density"),
                              (G = "blue"),
                              (X = [
                                  "Recording studios",
                                  "Performance venues",
                                  "Executive boardrooms",
                                  "Critical listening rooms",
                              ]),
                              (J =
                                  "Maximum uniformity with potential phase interaction. Best for applications requiring precise SPL control."))
                            : L <= O.speech
                              ? ((z = "Medium Density"),
                                (G = "green"),
                                (X = [
                                    "Conference rooms",
                                    "Classrooms",
                                    "Training facilities",
                                    "Houses of worship",
                                    "Retail spaces",
                                ]),
                                (J =
                                    "Optimal balance of coverage and cost. Suitable for speech intelligibility and general audio."))
                              : L <= O.background
                                ? ((z = "Standard Density"),
                                  (G = "yellow"),
                                  (X = ["Open offices", "Restaurants", "Lobbies", "Background music systems"]),
                                  (J =
                                      "Cost-effective coverage for background audio. May have minor SPL variations in overlap zones."))
                                : ((z = "Low Density"),
                                  (G = "orange"),
                                  (X = ["Warehouses", "Paging systems", "Large open areas", "Basic announcements"]),
                                  (J =
                                      "Minimum coverage configuration. Expect noticeable SPL drops between speakers. Not recommended for speech clarity."));
                        const K = y.find((e) => "Partial Overlap" === e.name);
                        Q =
                            "edge" === f
                                ? {
                                      verdict: V < 0 ? "Coverage gaps likely" : "Minimal redundancy",
                                      consideration:
                                          "Edge-to-edge provides minimum speaker count but may have audible gaps. Consider for paging/announcement systems only.",
                                      alternative: K
                                          ? `For better uniformity, partial overlap would use ${K.total} speakers.`
                                          : null,
                                  }
                                : "minimal" === f
                                  ? {
                                        verdict: "Recommended",
                                        consideration:
                                            "Partial overlap (0.75D) provides good uniformity with cost efficiency. Standard for most commercial applications.",
                                        alternative: null,
                                    }
                                  : {
                                        verdict: "Maximum Uniformity",
                                        consideration:
                                            "Edge-to-center provides best SPL uniformity for critical listening applications like boardrooms, courtrooms, and performance spaces.",
                                        alternative: K
                                            ? `Partial overlap would achieve adequate coverage with ${K.total} speakers.`
                                            : null,
                                    };
                        const Y = "m" === j ? p.effectiveHeight : 0.3048 * p.effectiveHeight,
                            Z = 20 * Math.log10(Math.max(1, Y) / 1);
                        let ee = null;
                        Z > 14
                            ? (ee = {
                                  level: "high",
                                  color: "red",
                                  title: "High SPL Loss",
                                  message: `At ${p.effectiveHeight}${j} effective height, SPL drops ${Z.toFixed(1)}dB. Consider higher-powered speakers or additional units for speech intelligibility.`,
                                  recommendation:
                                      "Increase amplifier power or consider adding more speakers for critical listening applications.",
                              })
                            : Z > 11
                              ? (ee = {
                                    level: "moderate",
                                    color: "yellow",
                                    title: "Moderate SPL Loss",
                                    message: `At ${p.effectiveHeight}${j} effective height, SPL drops ${Z.toFixed(1)}dB. Standard for commercial spaces.`,
                                    recommendation: "Ensure adequate amplifier headroom for speech applications.",
                                })
                              : Z > 8 &&
                                (ee = {
                                    level: "normal",
                                    color: "green",
                                    title: "Normal SPL Loss",
                                    message: `SPL loss of ${Z.toFixed(1)}dB is within normal range for ceiling speakers.`,
                                    recommendation: null,
                                }),
                            (b = {
                                inputLength: v,
                                inputWidth: w,
                                inputUnit: M,
                                roomLength: e,
                                roomWidth: t,
                                roomArea: Math.round(100 * s) / 100,
                                roomUnit: j,
                                areaUnit: "m" === j ? "m²" : "ft²",
                                recommendedTotal: d,
                                rows: o,
                                cols: n,
                                actualSpacingLength: Math.round(100 * c) / 100,
                                actualSpacingWidth: Math.round(100 * x) / 100,
                                coveragePercent: Math.round(g),
                                layouts: y,
                                unitsConverted: T,
                                sqPerSpeaker: Math.round(10 * L) / 10,
                                overlapPercentL: $,
                                overlapPercentW: W,
                                avgOverlap: V,
                                densityRating: z,
                                densityColor: G,
                                suitableApplications: X,
                                densityNote: J,
                                patternRecommendation: Q,
                                splLossFromHeight: Math.round(10 * Z) / 10,
                                splWarning: ee,
                            });
                        const te = d,
                            se = m.requiredWatts * te * 1.5;
                        u = {
                            speakerCount: te,
                            totalSpeakerPower: Math.round(m.requiredWatts * te * 100) / 100,
                            requiredAmpPower: Math.round(100 * se) / 100,
                            eprPerSpeaker: m.requiredWatts,
                        };
                    }
                    R({ ...m, ceilingCalcs: p, roomRecommendation: b, amplifierCalcs: u });
                },
                className:
                    "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-lg transition-colors text-lg mb-8 cursor-pointer",
                children: "Calculate Speaker Design",
            }),
            S &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                            children: [
                                _jsx("h3", {
                                    className: "text-lg font-semibold text-gray-800 mb-4",
                                    children: "EPR Calculation Results (AVIXA Standard)",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400",
                                                    children: "Required Power per Speaker (EPR)",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-4xl font-bold text-blue-700",
                                                    children: [S.requiredWatts, " W"],
                                                }),
                                                _jsx("div", {
                                                    className: "text-sm text-gray-500 dark:text-gray-400 mt-2",
                                                    children: "Electrical Power Required",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-gray-50 dark:bg-gray-900/50 p-6 rounded-lg border",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-sm text-gray-600 dark:text-gray-400 mb-3",
                                                    children: "AVIXA Formula Breakdown",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-gray-600 dark:text-gray-400 space-y-2 font-mono",
                                                    children: [
                                                        _jsxs("p", {
                                                            children: [
                                                                "Target SPL (Lp): ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [e, " dB"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            children: [
                                                                "Headroom (H): ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [s, " dB"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            children: [
                                                                "Sensitivity (Ls): ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [r, " dB @ 1W/1m"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            children: [
                                                                "Distance: ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [i, " ", o],
                                                                }),
                                                                " = ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [S.distanceM, " m"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            children: [
                                                                "Distance Loss: ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [
                                                                        "20×log₁₀(",
                                                                        S.distanceM,
                                                                        "/1) = ",
                                                                        S.distanceLoss,
                                                                        " dB",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            className: "pt-2 border-t",
                                                            children: [
                                                                "Exponent: (",
                                                                e,
                                                                " + ",
                                                                s,
                                                                " - ",
                                                                r,
                                                                " + ",
                                                                S.distanceLoss,
                                                                ") / 10 = ",
                                                                _jsx("span", {
                                                                    className: "font-bold truncate",
                                                                    children: S.exponent,
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("p", {
                                                            children: [
                                                                "EPR = 10",
                                                                _jsx("sup", { children: S.exponent }),
                                                                " × 1W = ",
                                                                _jsxs("span", {
                                                                    className: "font-bold truncate",
                                                                    children: [S.requiredWatts, " W"],
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        S.ceilingCalcs &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsx("h3", {
                                        className: "text-lg font-semibold text-gray-800 mb-4",
                                        children: "Ceiling Speaker Layout Results (AVIXA Standards)",
                                    }),
                                    S.ceilingCalcs.effectiveHeightWarning &&
                                        _jsxs("div", {
                                            className: "mb-4 p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-300 rounded-lg",
                                            children: [
                                                _jsx("div", {
                                                    className: "font-semibold text-red-700 flex items-center gap-2",
                                                    children: "⚠️ Warning: Invalid Configuration",
                                                }),
                                                _jsxs("p", {
                                                    className: "text-sm text-red-600 mt-1",
                                                    children: [
                                                        "Listener ear height (",
                                                        h,
                                                        " ",
                                                        j,
                                                        ") is too close to or exceeds ceiling height (",
                                                        x,
                                                        " ",
                                                        j,
                                                        "). This results in unrealistic coverage calculations.",
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    className: "text-sm text-red-600 mt-1",
                                                    children: [
                                                        "Effective height: ",
                                                        S.ceilingCalcs.rawEffectiveHeight,
                                                        " ",
                                                        j,
                                                        " → Minimum of 0.1 ",
                                                        j,
                                                        " used.",
                                                    ],
                                                }),
                                                _jsx("p", {
                                                    className: "text-sm text-red-700 font-medium mt-2",
                                                    children:
                                                        "m" === j
                                                            ? "Typical ear height: 1.2m (seated) or 1.5m (standing)"
                                                            : "Typical ear height: 4ft (seated) or 5ft (standing)",
                                                }),
                                            ],
                                        }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-3 gap-6 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className: "bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg border-2 border-purple-200 dark:border-purple-800",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Coverage Diameter",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-3xl font-bold text-purple-700",
                                                        children: [
                                                            S.ceilingCalcs.coverageDiameter,
                                                            " ",
                                                            S.ceilingCalcs.unit,
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-500 dark:text-gray-400 mt-1",
                                                        children: "at ear level",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-indigo-50 p-6 rounded-lg border-2 border-indigo-200",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Coverage Radius (r)",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-3xl font-bold text-indigo-700",
                                                        children: [
                                                            S.ceilingCalcs.coverageRadius,
                                                            " ",
                                                            S.ceilingCalcs.unit,
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-pink-50 p-6 rounded-lg border-2 border-pink-200",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Coverage Area",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-3xl font-bold text-pink-700",
                                                        children: [
                                                            S.ceilingCalcs.coverageArea,
                                                            " ",
                                                            S.ceilingCalcs.areaUnit,
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-500 dark:text-gray-400 mt-1",
                                                        children: "per speaker",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className:
                                            "bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-lg border-2 border-blue-200 dark:border-blue-800 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex items-center justify-between mb-2",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: [
                                                            "Speaker Spacing (",
                                                            S.ceilingCalcs.spacingLabel,
                                                            ")",
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [
                                                            _jsxs("span", {
                                                                className:
                                                                    "text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",
                                                                children: [S.ceilingCalcs.dbVariation, " variation"],
                                                            }),
                                                            _jsx("span", {
                                                                className:
                                                                    "text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",
                                                                children:
                                                                    "minimal" === f
                                                                        ? "AVIXA Recommended"
                                                                        : "edge" === f
                                                                          ? "Economy"
                                                                          : "Premium",
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "text-5xl font-bold text-blue-700 mb-2",
                                                children: [S.ceilingCalcs.speakerSpacing, " ", S.ceilingCalcs.unit],
                                            }),
                                            _jsx("p", {
                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                children: S.ceilingCalcs.spacingDescription,
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg mb-6",
                                        children: [
                                            _jsx("h4", {
                                                className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                                children: "AVIXA Spacing Options Comparison",
                                            }),
                                            _jsx("div", {
                                                className: "overflow-x-auto",
                                                children: _jsxs("table", {
                                                    className: "w-full text-sm",
                                                    children: [
                                                        _jsx("thead", {
                                                            children: _jsxs("tr", {
                                                                className: "border-b border-gray-300 dark:border-gray-600",
                                                                children: [
                                                                    _jsx("th", {
                                                                        className: "text-left py-2 px-2",
                                                                        children: "Pattern",
                                                                    }),
                                                                    _jsx("th", {
                                                                        className: "text-left py-2 px-2",
                                                                        children: "Formula",
                                                                    }),
                                                                    _jsx("th", {
                                                                        className: "text-left py-2 px-2",
                                                                        children: "Spacing",
                                                                    }),
                                                                    _jsx("th", {
                                                                        className: "text-left py-2 px-2",
                                                                        children: "SPL Variation",
                                                                    }),
                                                                    _jsx("th", {
                                                                        className: "text-left py-2 px-2",
                                                                        children: "Use Case",
                                                                    }),
                                                                ],
                                                            }),
                                                        }),
                                                        _jsxs("tbody", {
                                                            children: [
                                                                _jsxs("tr", {
                                                                    className:
                                                                        "border-b " +
                                                                        ("edge" === f ? "bg-blue-100" : ""),
                                                                    children: [
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-medium",
                                                                            children: "Edge-to-Edge",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-mono text-xs",
                                                                            children: "D = 2r",
                                                                        }),
                                                                        _jsxs("td", {
                                                                            className: "py-2 px-2",
                                                                            children: [
                                                                                (
                                                                                    2 * S.ceilingCalcs.coverageRadius
                                                                                ).toFixed(2),
                                                                                " ",
                                                                                S.ceilingCalcs.unit,
                                                                            ],
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-orange-600",
                                                                            children: "±4.35 dB",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-xs",
                                                                            children: "Paging, BGM",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsxs("tr", {
                                                                    className:
                                                                        "border-b " +
                                                                        ("minimal" === f ? "bg-blue-100" : ""),
                                                                    children: [
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-medium",
                                                                            children: "Minimum Overlap",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-mono text-xs",
                                                                            children: "D = r√2",
                                                                        }),
                                                                        _jsxs("td", {
                                                                            className: "py-2 px-2",
                                                                            children: [
                                                                                (
                                                                                    S.ceilingCalcs.coverageRadius *
                                                                                    Math.sqrt(2)
                                                                                ).toFixed(2),
                                                                                " ",
                                                                                S.ceilingCalcs.unit,
                                                                            ],
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-green-600",
                                                                            children: "±2 dB",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-xs",
                                                                            children: "Speech, Music",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsxs("tr", {
                                                                    className: "center" === f ? "bg-blue-100" : "",
                                                                    children: [
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-medium",
                                                                            children: "Full Overlap",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 font-mono text-xs",
                                                                            children: "D = r",
                                                                        }),
                                                                        _jsxs("td", {
                                                                            className: "py-2 px-2",
                                                                            children: [
                                                                                S.ceilingCalcs.coverageRadius,
                                                                                " ",
                                                                                S.ceilingCalcs.unit,
                                                                            ],
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-blue-600",
                                                                            children: "±1.2 dB",
                                                                        }),
                                                                        _jsx("td", {
                                                                            className: "py-2 px-2 text-xs",
                                                                            children: "Critical Listening",
                                                                        }),
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",
                                        children: [
                                            _jsx("h4", {
                                                className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                                children: "Calculation Details",
                                            }),
                                            _jsxs("div", {
                                                className: "grid md:grid-cols-2 gap-4 text-sm",
                                                children: [
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-500 dark:text-gray-400",
                                                                children: "Effective Height (H - h):",
                                                            }),
                                                            _jsxs("p", {
                                                                className: "font-mono text-gray-700 dark:text-gray-300",
                                                                children: [
                                                                    x,
                                                                    " - ",
                                                                    h,
                                                                    " = ",
                                                                    S.ceilingCalcs.effectiveHeight,
                                                                    " ",
                                                                    S.ceilingCalcs.unit,
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-500 dark:text-gray-400",
                                                                children: "Coverage Angle (C∠):",
                                                            }),
                                                            _jsxs("p", {
                                                                className: "font-mono text-gray-700 dark:text-gray-300",
                                                                children: [g, "° (nominal)"],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 space-y-2",
                                                children: [
                                                    _jsxs("p", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            _jsx("strong", {
                                                                children: "AVIXA Coverage Diameter Formula:",
                                                            }),
                                                            " D = 2 × (H - h) × tan(C∠ ÷ 2)",
                                                        ],
                                                    }),
                                                    _jsxs("p", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            _jsx("strong", { children: "Note:" }),
                                                            " Effective coverage angle is typically 70-80% of nominal. For critical applications, consider using 80% of the specified angle.",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        S.roomRecommendation &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsxs("h3", {
                                        className: "text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                        children: [
                                            _jsx("span", { className: "text-green-600", children: "📐" }),
                                            " Speaker Count Recommendation",
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-4 gap-4 mb-6",
                                        children: [
                                            _jsxs("div", {
                                                className: "bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Room Dimensions",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-gray-800",
                                                        children: [
                                                            S.roomRecommendation.roomLength,
                                                            " × ",
                                                            S.roomRecommendation.roomWidth,
                                                            " ",
                                                            S.roomRecommendation.roomUnit,
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-sm text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            "Area: ",
                                                            S.roomRecommendation.roomArea,
                                                            " ",
                                                            S.roomRecommendation.areaUnit,
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-green-700 font-medium",
                                                        children: "Recommended Speakers",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-4xl font-bold text-green-700",
                                                        children: S.roomRecommendation.recommendedTotal,
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-sm text-green-600",
                                                        children: [
                                                            S.roomRecommendation.rows,
                                                            " rows × ",
                                                            S.roomRecommendation.cols,
                                                            " columns",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Actual Spacing",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-blue-700",
                                                        children: [
                                                            S.roomRecommendation.actualSpacingLength,
                                                            " × ",
                                                            S.roomRecommendation.actualSpacingWidth,
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-sm text-gray-500 dark:text-gray-400",
                                                        children: ["L × W (", S.roomRecommendation.roomUnit, ")"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Est. Coverage",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-purple-700",
                                                        children: [S.roomRecommendation.coveragePercent, "%"],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-500 dark:text-gray-400",
                                                        children: "of room area",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    S.roomRecommendation.layouts &&
                                        S.roomRecommendation.layouts.length > 1 &&
                                        _jsxs("div", {
                                            className: "mb-6",
                                            children: [
                                                _jsx("h4", {
                                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                                    children: "Layout Options Comparison",
                                                }),
                                                _jsx("div", {
                                                    className: "grid md:grid-cols-3 gap-4",
                                                    children: S.roomRecommendation.layouts.map((e, t) =>
                                                        _jsxs(
                                                            "div",
                                                            {
                                                                className:
                                                                    "p-4 rounded-lg border-2 " +
                                                                    (e.isSelected
                                                                        ? "bg-green-50 dark:bg-green-900/20 border-green-400"
                                                                        : e.isAVIXA
                                                                          ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300"
                                                                          : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700"),
                                                                children: [
                                                                    e.isSelected &&
                                                                        _jsx("div", {
                                                                            className:
                                                                                "text-xs font-bold text-green-700 mb-1",
                                                                            children: "✓ YOUR SELECTION",
                                                                        }),
                                                                    !e.isSelected &&
                                                                        e.isAVIXA &&
                                                                        _jsx("div", {
                                                                            className:
                                                                                "text-xs font-bold text-blue-600 mb-1",
                                                                            children: "★ AVIXA STANDARD",
                                                                        }),
                                                                    !e.isSelected &&
                                                                        !e.isAVIXA &&
                                                                        _jsx("div", {
                                                                            className:
                                                                                "text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",
                                                                            children: "ALTERNATIVE",
                                                                        }),
                                                                    _jsx("div", {
                                                                        className:
                                                                            "font-semibold " +
                                                                            (e.isSelected
                                                                                ? "text-green-800 dark:text-green-200"
                                                                                : e.isAVIXA
                                                                                  ? "text-blue-800 dark:text-blue-200"
                                                                                  : "text-gray-800"),
                                                                        children: e.name,
                                                                    }),
                                                                    _jsxs("div", {
                                                                        className:
                                                                            "text-3xl font-bold my-2 " +
                                                                            (e.isSelected
                                                                                ? "text-green-700"
                                                                                : e.isAVIXA
                                                                                  ? "text-blue-700"
                                                                                  : "text-gray-800"),
                                                                        children: [e.total, " speakers"],
                                                                    }),
                                                                    _jsxs("div", {
                                                                        className: "text-sm text-gray-600 dark:text-gray-400 space-y-1",
                                                                        children: [
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Grid: ",
                                                                                    e.rows,
                                                                                    " × ",
                                                                                    e.cols,
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Spacing: ",
                                                                                    e.spacingL,
                                                                                    " × ",
                                                                                    e.spacingW,
                                                                                    " ",
                                                                                    S.roomRecommendation.roomUnit,
                                                                                ],
                                                                            }),
                                                                            _jsxs("div", {
                                                                                children: [
                                                                                    "Coverage: ~",
                                                                                    e.coverage,
                                                                                    "%",
                                                                                ],
                                                                            }),
                                                                        ],
                                                                    }),
                                                                    _jsx("div", {
                                                                        className:
                                                                            "text-xs mt-2 " +
                                                                            (e.isSelected
                                                                                ? "text-green-600"
                                                                                : e.isAVIXA
                                                                                  ? "text-blue-600"
                                                                                  : "text-gray-500 dark:text-gray-400"),
                                                                        children: e.description,
                                                                    }),
                                                                ],
                                                            },
                                                            t
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                    _jsxs("div", {
                                        className: "p-3 sm:p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "font-semibold text-yellow-800 dark:text-yellow-200 mb-2 flex items-center gap-2 text-sm sm:text-base",
                                                children: ["📋 Layout - ", S.ceilingCalcs.spacingLabel],
                                            }),
                                            _jsx("div", {
                                                className: "bg-white dark:bg-gray-800 p-2 sm:p-4 rounded border overflow-x-auto",
                                                children: (() => {
                                                    const e = S.roomRecommendation.roomLength,
                                                        t = S.roomRecommendation.roomWidth,
                                                        s = e / t,
                                                        a = "undefined" != typeof window && window.innerWidth < 640,
                                                        r = a ? Math.min(280, window.innerWidth - 80) : 400,
                                                        l = a ? 220 : 300;
                                                    let i, n;
                                                    s > r / l ? ((i = r), (n = r / s)) : ((n = l), (i = l * s)),
                                                        (i = Math.max(i, a ? 100 : 120)),
                                                        (n = Math.max(n, a ? 60 : 80));
                                                    const o = S.roomRecommendation.rows,
                                                        d = S.roomRecommendation.cols,
                                                        c = S.roomRecommendation.recommendedTotal,
                                                        m = i / e,
                                                        x = n / t,
                                                        u = e / d,
                                                        h = t / o,
                                                        p = u / 2,
                                                        g = h / 2,
                                                        b = S.ceilingCalcs.coverageDiameter,
                                                        y = a ? 6 : 8,
                                                        j = a ? 18 : 28,
                                                        _ = Math.min(0.15 * b, 0.3 * u, 0.3 * h),
                                                        v = Math.max(y, Math.min(j, _ * Math.min(m, x))),
                                                        N = b * m,
                                                        w = c <= (a ? 20 : 50) && v >= 12;
                                                    let C, M;
                                                    "edge" === f
                                                        ? ((C = 0.08), (M = 0.4))
                                                        : "minimal" === f
                                                          ? ((C = 0.06), (M = 0.3))
                                                          : ((C = 0.04), (M = 0.25));
                                                    const k = [];
                                                    for (let e = 0; e < o; e++)
                                                        for (let t = 0; t < d; t++) {
                                                            const s = p + t * u,
                                                                a = g + e * h,
                                                                r = s * m,
                                                                l = a * x;
                                                            k.push({
                                                                roomX: s,
                                                                roomY: a,
                                                                pixelX: r,
                                                                pixelY: l,
                                                                index: e * d + t,
                                                            });
                                                        }
                                                    const R = a ? "9px" : "11px";
                                                    return _jsxs("div", {
                                                        style: {
                                                            position: "relative",
                                                            width: i + "px",
                                                            height: n + "px",
                                                            backgroundColor: "#f8fafc",
                                                            border: a ? "2px solid #64748b" : "3px solid #64748b",
                                                            borderRadius: "4px",
                                                            marginLeft: (a ? 28 : 40) + "px",
                                                            marginTop: (a ? 22 : 30) + "px",
                                                            marginBottom: "8px",
                                                            boxShadow: "inset 0 2px 6px rgba(0,0,0,0.08)",
                                                        },
                                                        children: [
                                                            _jsxs("div", {
                                                                style: {
                                                                    position: "absolute",
                                                                    top: a ? "-18px" : "-24px",
                                                                    left: "50%",
                                                                    transform: "translateX(-50%)",
                                                                    fontSize: R,
                                                                    fontWeight: "bold",
                                                                    color: "#475569",
                                                                    backgroundColor: "#f1f5f9",
                                                                    padding: a ? "1px 4px" : "2px 8px",
                                                                    borderRadius: "4px",
                                                                    whiteSpace: "nowrap",
                                                                },
                                                                children: [e, " ", S.roomRecommendation.roomUnit],
                                                            }),
                                                            _jsxs("div", {
                                                                style: {
                                                                    position: "absolute",
                                                                    left: a ? "-24px" : "-36px",
                                                                    top: "50%",
                                                                    transform: "translateY(-50%) rotate(-90deg)",
                                                                    fontSize: R,
                                                                    fontWeight: "bold",
                                                                    color: "#475569",
                                                                    backgroundColor: "#f1f5f9",
                                                                    padding: a ? "1px 4px" : "2px 8px",
                                                                    borderRadius: "4px",
                                                                    whiteSpace: "nowrap",
                                                                },
                                                                children: [t, " ", S.roomRecommendation.roomUnit],
                                                            }),
                                                            ...k.map((e, t) =>
                                                                _jsx(
                                                                    "div",
                                                                    {
                                                                        style: {
                                                                            position: "absolute",
                                                                            left: e.pixelX - N / 2 + "px",
                                                                            top: e.pixelY - N / 2 + "px",
                                                                            width: N + "px",
                                                                            height: N + "px",
                                                                            borderRadius: "50%",
                                                                            border: `${a ? "1px" : "1.5px"} dashed rgba(34, 197, 94, ${M})`,
                                                                            backgroundColor: `rgba(34, 197, 94, ${C})`,
                                                                            pointerEvents: "none",
                                                                            zIndex: 1,
                                                                        },
                                                                    },
                                                                    "cov-" + t
                                                                )
                                                            ),
                                                            ...k.map((e, t) =>
                                                                _jsx(
                                                                    "div",
                                                                    {
                                                                        style: {
                                                                            position: "absolute",
                                                                            left: e.pixelX - v / 2 + "px",
                                                                            top: e.pixelY - v / 2 + "px",
                                                                            width: v + "px",
                                                                            height: v + "px",
                                                                            borderRadius: "50%",
                                                                            backgroundColor: "#10b981",
                                                                            border:
                                                                                (a ? "1px" : "2px") + " solid #047857",
                                                                            display: "flex",
                                                                            alignItems: "center",
                                                                            justifyContent: "center",
                                                                            fontSize: v > 14 ? "7px" : "5px",
                                                                            color: "white",
                                                                            fontWeight: "bold",
                                                                            boxShadow: "0 1px 2px rgba(0,0,0,0.3)",
                                                                            zIndex: 2,
                                                                        },
                                                                        children: w ? t + 1 : "",
                                                                    },
                                                                    "spk-" + t
                                                                )
                                                            ),
                                                        ],
                                                    });
                                                })(),
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "flex flex-wrap items-center justify-center gap-2 sm:gap-4 mt-2 sm:mt-3 text-xs text-gray-600 dark:text-gray-400",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                style: {
                                                                    width: "10px",
                                                                    height: "10px",
                                                                    borderRadius: "50%",
                                                                    backgroundColor: "#10b981",
                                                                    border: "1px solid #047857",
                                                                },
                                                            }),
                                                            _jsx("span", { className: "text-xs", children: "Speaker" }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                style: {
                                                                    width: "16px",
                                                                    height: "16px",
                                                                    borderRadius: "50%",
                                                                    border: "1px dashed rgba(34,197,94,0.5)",
                                                                    backgroundColor: "rgba(34,197,94,0.1)",
                                                                },
                                                            }),
                                                            _jsxs("span", {
                                                                className: "text-xs hidden sm:inline",
                                                                children: [
                                                                    "Coverage (",
                                                                    S.ceilingCalcs.coverageDiameter,
                                                                    " ",
                                                                    S.ceilingCalcs.unit,
                                                                    ")",
                                                                ],
                                                            }),
                                                            _jsx("span", {
                                                                className: "text-xs sm:hidden",
                                                                children: "Coverage",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1 text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            _jsx("span", {
                                                                className:
                                                                    "edge" === f
                                                                        ? "text-orange-600 font-medium"
                                                                        : "minimal" === f
                                                                          ? "text-green-600 font-medium"
                                                                          : "text-blue-600 font-medium",
                                                                children: S.ceilingCalcs.dbVariation,
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("p", {
                                                className: "text-xs text-yellow-700 mt-2 text-center",
                                                children: [
                                                    S.roomRecommendation.rows,
                                                    "×",
                                                    S.roomRecommendation.cols,
                                                    " = ",
                                                    S.roomRecommendation.recommendedTotal,
                                                    " speakers",
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",
                                        children: [
                                            _jsx("h4", {
                                                className: "font-semibold text-blue-800 dark:text-blue-200 mb-2",
                                                children: "💡 Installation Best Practices",
                                            }),
                                            _jsxs("ul", {
                                                className: "text-sm text-blue-700 space-y-1",
                                                children: [
                                                    _jsx("li", {
                                                        children:
                                                            "• Position first row at half the calculated spacing from the front wall",
                                                    }),
                                                    _jsx("li", {
                                                        children:
                                                            "• Maintain consistent spacing throughout the grid pattern",
                                                    }),
                                                    _jsx("li", {
                                                        children:
                                                            "• Adjust layout for obstacles (columns, light fixtures, HVAC)",
                                                    }),
                                                    _jsx("li", {
                                                        children:
                                                            "• Consider asymmetric layouts for non-rectangular rooms",
                                                    }),
                                                    _jsx("li", {
                                                        children:
                                                            "• Verify acoustic modeling for critical applications",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className:
                                            "mt-4 p-4 rounded-lg border-2 " +
                                            ("blue" === S.roomRecommendation.densityColor
                                                ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300"
                                                : "green" === S.roomRecommendation.densityColor
                                                  ? "bg-green-50 dark:bg-green-900/20 border-green-300"
                                                  : "yellow" === S.roomRecommendation.densityColor
                                                    ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                                    : "bg-orange-50 border-orange-300"),
                                        children: [
                                            _jsxs("h4", {
                                                className:
                                                    "font-semibold mb-3 flex items-center gap-2 " +
                                                    ("blue" === S.roomRecommendation.densityColor
                                                        ? "text-blue-800 dark:text-blue-200"
                                                        : "green" === S.roomRecommendation.densityColor
                                                          ? "text-green-800 dark:text-green-200"
                                                          : "yellow" === S.roomRecommendation.densityColor
                                                            ? "text-yellow-800 dark:text-yellow-200"
                                                            : "text-orange-800"),
                                                children: ["📋 Professional Assessment"],
                                            }),
                                            _jsxs("div", {
                                                className: "grid md:grid-cols-2 gap-4 mb-4",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "space-y-2",
                                                        children: [
                                                            _jsxs("div", {
                                                                className: "flex items-center gap-2",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className:
                                                                            "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium " +
                                                                            ("blue" ===
                                                                            S.roomRecommendation.densityColor
                                                                                ? "bg-blue-200 text-blue-800 dark:text-blue-200"
                                                                                : "green" ===
                                                                                    S.roomRecommendation.densityColor
                                                                                  ? "bg-green-200 text-green-800 dark:text-green-200"
                                                                                  : "yellow" ===
                                                                                      S.roomRecommendation.densityColor
                                                                                    ? "bg-yellow-200 text-yellow-800 dark:text-yellow-200"
                                                                                    : "bg-orange-200 text-orange-800"),
                                                                        children: S.roomRecommendation.densityRating,
                                                                    }),
                                                                    _jsxs("span", {
                                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                                        children: [
                                                                            S.roomRecommendation.sqPerSpeaker,
                                                                            " ",
                                                                            S.roomRecommendation.areaUnit,
                                                                            "/speaker",
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                            _jsxs("div", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "font-medium",
                                                                        children: "Overlap: ",
                                                                    }),
                                                                    S.roomRecommendation.avgOverlap,
                                                                    "% average (",
                                                                    S.roomRecommendation.overlapPercentL,
                                                                    "% × ",
                                                                    S.roomRecommendation.overlapPercentW,
                                                                    "%)",
                                                                ],
                                                            }),
                                                            _jsxs("div", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "font-medium",
                                                                        children: "Pattern: ",
                                                                    }),
                                                                    S.roomRecommendation.patternRecommendation.verdict,
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("div", {
                                                                className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                                children: "Suitable Applications:",
                                                            }),
                                                            _jsx("div", {
                                                                className: "flex flex-wrap gap-1",
                                                                children: S.roomRecommendation.suitableApplications.map(
                                                                    (e, t) =>
                                                                        _jsx(
                                                                            "span",
                                                                            {
                                                                                className:
                                                                                    "inline-flex items-center px-2 py-0.5 rounded text-xs bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300",
                                                                                children: e,
                                                                            },
                                                                            t
                                                                        )
                                                                ),
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsx("p", {
                                                className:
                                                    "text-sm " +
                                                    ("blue" === S.roomRecommendation.densityColor
                                                        ? "text-blue-700"
                                                        : "green" === S.roomRecommendation.densityColor
                                                          ? "text-green-700"
                                                          : "yellow" === S.roomRecommendation.densityColor
                                                            ? "text-yellow-700"
                                                            : "text-orange-700"),
                                                children: S.roomRecommendation.densityNote,
                                            }),
                                            S.roomRecommendation.patternRecommendation.consideration &&
                                                _jsxs("p", {
                                                    className:
                                                        "text-sm text-gray-600 dark:text-gray-400 mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",
                                                    children: [
                                                        _jsx("span", { className: "font-medium", children: "Note: " }),
                                                        S.roomRecommendation.patternRecommendation.consideration,
                                                    ],
                                                }),
                                            S.roomRecommendation.patternRecommendation.alternative &&
                                                _jsxs("p", {
                                                    className:
                                                        "text-sm text-amber-700 mt-2 font-semibold bg-amber-50 dark:bg-amber-900/20 px-3 py-2 rounded-lg border border-amber-200 dark:border-amber-800",
                                                    children: [
                                                        "💡 ",
                                                        S.roomRecommendation.patternRecommendation.alternative,
                                                    ],
                                                }),
                                            S.roomRecommendation.splWarning &&
                                                _jsxs("div", {
                                                    className:
                                                        "mt-4 p-4 rounded-lg border-2 " +
                                                        ("high" === S.roomRecommendation.splWarning.level
                                                            ? "bg-red-50 dark:bg-red-900/20 border-red-300"
                                                            : "moderate" === S.roomRecommendation.splWarning.level
                                                              ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300"
                                                              : "bg-green-50 dark:bg-green-900/20 border-green-300"),
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2 mb-2",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-lg",
                                                                    children:
                                                                        "high" === S.roomRecommendation.splWarning.level
                                                                            ? "⚠️"
                                                                            : "moderate" ===
                                                                                S.roomRecommendation.splWarning.level
                                                                              ? "📢"
                                                                              : "✓",
                                                                }),
                                                                _jsx("span", {
                                                                    className:
                                                                        "font-bold " +
                                                                        ("high" ===
                                                                        S.roomRecommendation.splWarning.level
                                                                            ? "text-red-700"
                                                                            : "moderate" ===
                                                                                S.roomRecommendation.splWarning.level
                                                                              ? "text-yellow-700"
                                                                              : "text-green-700"),
                                                                    children: S.roomRecommendation.splWarning.title,
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "text-sm text-gray-600 dark:text-gray-400 ml-2",
                                                                    children: [
                                                                        "(Inverse Square Law: -",
                                                                        S.roomRecommendation.splLossFromHeight,
                                                                        "dB)",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsx("p", {
                                                            className:
                                                                "text-sm " +
                                                                ("high" === S.roomRecommendation.splWarning.level
                                                                    ? "text-red-700"
                                                                    : "moderate" ===
                                                                        S.roomRecommendation.splWarning.level
                                                                      ? "text-yellow-700"
                                                                      : "text-green-700"),
                                                            children: S.roomRecommendation.splWarning.message,
                                                        }),
                                                        S.roomRecommendation.splWarning.recommendation &&
                                                            _jsx("p", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400 mt-2 font-medium",
                                                                children:
                                                                    S.roomRecommendation.splWarning.recommendation,
                                                            }),
                                                    ],
                                                }),
                                        ],
                                    }),
                                ],
                            }),
                        S.amplifierCalcs &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                                children: [
                                    _jsxs("h3", {
                                        className: "text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                        children: [
                                            _jsx("span", { className: "text-green-600", children: "⚡" }),
                                            " Amplifier Power Requirements",
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                                        children: "Based on the recommended speaker count and EPR calculation above.",
                                    }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-4 gap-4 mb-4",
                                        children: [
                                            _jsxs("div", {
                                                className: "bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Speakers",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-2xl font-bold text-gray-800",
                                                        children: S.amplifierCalcs.speakerCount,
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "from layout above",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Total Speaker Power",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-blue-700",
                                                        children: [S.amplifierCalcs.totalSpeakerPower, " W"],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            S.amplifierCalcs.eprPerSpeaker,
                                                            "W × ",
                                                            S.amplifierCalcs.speakerCount,
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-200 dark:border-green-800",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Required Amp Power",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-green-700",
                                                        children: [S.amplifierCalcs.requiredAmpPower, " W"],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [S.amplifierCalcs.totalSpeakerPower, "W × 1.5"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-2 border-yellow-300",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Recommended Size",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-2xl font-bold text-yellow-700",
                                                        children: [
                                                            ((I = S.amplifierCalcs.requiredAmpPower),
                                                            [60, 120, 240, 500, 1e3, 2e3, 4e3, 8e3].find(
                                                                (e) => e >= I
                                                            ) || 1e3 * Math.ceil(I / 1e3) + "+"),
                                                            " W",
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "next standard size",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                                        children: _jsxs("p", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: [
                                                _jsx("strong", { children: "Calculation:" }),
                                                " ",
                                                S.amplifierCalcs.eprPerSpeaker,
                                                "W (EPR) × ",
                                                S.amplifierCalcs.speakerCount,
                                                " speakers × 1.5 (headroom) = ",
                                                _jsxs("strong", { children: [S.amplifierCalcs.requiredAmpPower, "W"] }),
                                            ],
                                        }),
                                    }),
                                ],
                            }),
                    ],
                }),
        ],
    });
    var I;
}
function DisplaySizeCalculator() {
    const [e, t] = useState(20),
        [s, a] = useState(2.5),
        [r, l] = useState(1080),
        [i, n] = useState(16),
        [o, d] = useState(9),
        [c, m] = useState("BDM"),
        [x, u] = useState("ft"),
        [h, p] = useState(null),
        [g, b] = useState(!1);
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Display Size Calculator (AVIXA DISCAS)",
                    }),
                    h !== null &&
                        _jsx("button", {
                            onClick: () => b(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: g,
                onConfirm: () => {
                    t(20), a(2.5), l(1080), n(16), d(9), m("BDM"), u("ft"), p(null), b(!1);
                },
                onCancel: () => b(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates the minimum display size needed for your farthest viewer using AVIXA's DISCAS standard. Choose between BDM (Basic Decision Making) for general content or ADM (Analytical Decision Making) for detailed content like spreadsheets.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-base sm:text-lg font-semibold text-gray-800 mb-4",
                        children: "AVIXA DISCAS Standard Overview",
                    }),
                    _jsx("p", {
                        className: "text-sm text-gray-600 dark:text-gray-400 mb-4",
                        children:
                            "DISCAS (Display Image Size for 2D Content in Audiovisual Systems) is the AVIXA/ANSI standard for calculating optimal display sizes based on viewing distance and content type.",
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-4",
                        children: [
                            _jsxs("div", {
                                className:
                                    "p-4 rounded-lg border-2 cursor-pointer transition-all " +
                                    ("BDM" === c
                                        ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20"
                                        : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:border-gray-600"),
                                onClick: () => m("BDM"),
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            _jsx("span", { className: "text-2xl", children: "📊" }),
                                            _jsx("h3", {
                                                className: "font-semibold text-gray-800",
                                                children: "Basic Decision Making (BDM)",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-3",
                                        children:
                                            "For content where viewers need to understand overall information but not every fine detail.",
                                    }),
                                    _jsxs("div", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 space-y-1",
                                        children: [
                                            _jsx("p", { children: _jsx("strong", { children: "Use Cases:" }) }),
                                            _jsxs("ul", {
                                                className: "list-disc list-inside ml-2",
                                                children: [
                                                    _jsx("li", { children: "PowerPoint presentations" }),
                                                    _jsx("li", { children: "Word processing documents" }),
                                                    _jsx("li", { children: "Spreadsheets" }),
                                                    _jsx("li", { children: "Classrooms & training rooms" }),
                                                    _jsx("li", { children: "Boardrooms & conference rooms" }),
                                                    _jsx("li", { children: "Information displays" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",
                                        children: [
                                            _jsxs("p", {
                                                className: "text-xs font-mono text-gray-500 dark:text-gray-400",
                                                children: [
                                                    _jsx("strong", { children: "Formula:" }),
                                                    " Image Height = Farthest Viewer ÷ (200 × %Element Height)",
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                children: "Acuity Factor: 200",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className:
                                    "p-4 rounded-lg border-2 cursor-pointer transition-all " +
                                    ("ADM" === c
                                        ? "border-purple-500 bg-purple-50 dark:bg-purple-900/20"
                                        : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:border-gray-600"),
                                onClick: () => m("ADM"),
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            _jsx("span", { className: "text-2xl", children: "🔬" }),
                                            _jsx("h3", {
                                                className: "font-semibold text-gray-800",
                                                children: "Analytical Decision Making (ADM)",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 mb-3",
                                        children:
                                            "For specialist viewing where pixel-level detail is critical for decision making.",
                                    }),
                                    _jsxs("div", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 space-y-1",
                                        children: [
                                            _jsx("p", { children: _jsx("strong", { children: "Use Cases:" }) }),
                                            _jsxs("ul", {
                                                className: "list-disc list-inside ml-2",
                                                children: [
                                                    _jsx("li", { children: "Medical imagery (X-rays, MRI, CT)" }),
                                                    _jsx("li", { children: "Engineering & CAD drawings" }),
                                                    _jsx("li", { children: "Architectural plans" }),
                                                    _jsx("li", { children: "Electrical schematics" }),
                                                    _jsx("li", { children: "Forensic evidence review" }),
                                                    _jsx("li", { children: "Photographic evaluation" }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",
                                        children: [
                                            _jsxs("p", {
                                                className: "text-xs font-mono text-gray-500 dark:text-gray-400",
                                                children: [
                                                    _jsx("strong", { children: "Formula:" }),
                                                    " Image Height = (Farthest Viewer × Vertical Pixels) ÷ 3438",
                                                ],
                                            }),
                                            _jsx("p", {
                                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                children: "Acuity Factor: 3438",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "mt-4 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",
                        children: _jsxs("p", {
                            className: "text-xs text-gray-600 dark:text-gray-400",
                            children: [
                                _jsx("strong", { children: "Legacy 4/6/8 Rule:" }),
                                " Before DISCAS, designers divided farthest viewer distance by 6 (BDM) or 4 (ADM) to get image height. DISCAS provides more accurate calculations based on visual acuity standards and accounts for display resolution.",
                            ],
                        }),
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-8 mb-6 sm:mb-8 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children:
                            "BDM" === c
                                ? "📊 Basic Decision Making Calculator"
                                : "🔬 Analytical Decision Making Calculator",
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-4 sm:gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Viewing Method",
                                    }),
                                    _jsxs("select", {
                                        value: c,
                                        onChange: (e) => m(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "BDM", children: "BDM (Basic Decision Making)" }),
                                            _jsx("option", {
                                                value: "ADM",
                                                children: "ADM (Analytical Decision Making)",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Distance Unit",
                                    }),
                                    _jsxs("select", {
                                        value: x,
                                        onChange: (e) => u(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "in", children: "Inches" }),
                                            _jsx("option", { value: "ft", children: "Feet" }),
                                            _jsx("option", { value: "m", children: "Meters" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Farthest Viewer Distance (", x, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Horizontal distance from display to farthest viewer",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Aspect Ratio",
                                    }),
                                    _jsxs("div", {
                                        className: "flex flex-wrap gap-2 items-center",
                                        children: [
                                            _jsxs("div", {
                                                className: "flex items-center gap-1",
                                                children: [
                                                    _jsx("input", {
                                                        type: "number",
                                                        value: i,
                                                        onChange: (e) =>
                                                            n("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                        className:
                                                            "w-16 sm:w-20 px-2 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                                    }),
                                                    _jsx("span", { className: "text-gray-500 dark:text-gray-400", children: ":" }),
                                                    _jsx("input", {
                                                        type: "number",
                                                        value: o,
                                                        onChange: (e) =>
                                                            d("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                        className:
                                                            "w-16 sm:w-20 px-2 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "flex gap-1",
                                                children: [
                                                    _jsx("button", {
                                                        onClick: () => {
                                                            n(16), d(9);
                                                        },
                                                        className:
                                                            "px-2 py-1 text-xs rounded " +
                                                            (16 === i && 9 === o
                                                                ? "bg-blue-600 text-white"
                                                                : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                        children: "16:9",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => {
                                                            n(16), d(10);
                                                        },
                                                        className:
                                                            "px-2 py-1 text-xs rounded " +
                                                            (16 === i && 10 === o
                                                                ? "bg-blue-600 text-white"
                                                                : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                        children: "16:10",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => {
                                                            n(4), d(3);
                                                        },
                                                        className:
                                                            "px-2 py-1 text-xs rounded " +
                                                            (4 === i && 3 === o
                                                                ? "bg-blue-600 text-white"
                                                                : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                        children: "4:3",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            "BDM" === c &&
                                _jsxs("div", {
                                    className: "md:col-span-2",
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "% Element Height",
                                        }),
                                        _jsx("input", {
                                            type: "number",
                                            step: "0.1",
                                            value: s,
                                            onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                            className:
                                                "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children:
                                                "Ratio of smallest critical element to screen height. Typical values: 1.5% (small text) to 3% (large text/graphics). A 20pt font on 1080p content is approximately 2.5%.",
                                        }),
                                        _jsxs("div", {
                                            className: "flex flex-wrap gap-2 mt-2",
                                            children: [
                                                _jsx("button", {
                                                    onClick: () => a(1.5),
                                                    className:
                                                        "px-3 py-1 text-xs rounded " +
                                                        (1.5 === s
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                    children: "1.5% (Fine)",
                                                }),
                                                _jsx("button", {
                                                    onClick: () => a(2.5),
                                                    className:
                                                        "px-3 py-1 text-xs rounded " +
                                                        (2.5 === s
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                    children: "2.5% (Standard)",
                                                }),
                                                _jsx("button", {
                                                    onClick: () => a(3.5),
                                                    className:
                                                        "px-3 py-1 text-xs rounded " +
                                                        (3.5 === s
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700"),
                                                    children: "3.5% (Large)",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            "ADM" === c &&
                                _jsxs("div", {
                                    className: "md:col-span-2",
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Vertical Resolution (pixels)",
                                        }),
                                        _jsxs("select", {
                                            value: r,
                                            onChange: (e) => l("" === e.target.value ? "" : parseFloat(e.target.value)),
                                            className:
                                                "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                            children: [
                                                _jsx("option", { value: "720", children: "720p (HD)" }),
                                                _jsx("option", { value: "1080", children: "1080p (Full HD)" }),
                                                _jsx("option", { value: "1440", children: "1440p (QHD)" }),
                                                _jsx("option", { value: "2160", children: "2160p (4K UHD)" }),
                                                _jsx("option", { value: "4320", children: "4320p (8K UHD)" }),
                                            ],
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                            children:
                                                "Higher resolution allows viewers to sit closer while resolving pixel-level detail. ADM requires every pixel to be individually distinguishable.",
                                        }),
                                    ],
                                }),
                        ],
                    }),
                    _jsx("button", {
                        onClick: () => p(_0xb402b0(e, s, r, i, o, c, x)),
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Display Size",
                    }),
                ],
            }),
            h &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsxs("h3", {
                            className: "text-lg font-semibold text-gray-800 mb-4",
                            children: ["BDM" === c ? "BDM" : "ADM", " Calculation Results"],
                        }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-2 gap-6 mb-6",
                            children: [
                                _jsxs("div", {
                                    className:
                                        "p-8 rounded-lg border-2 text-center " +
                                        ("BDM" === c ? "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800" : "bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800"),
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Recommended Display Size",
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "text-6xl font-bold " +
                                                ("BDM" === c ? "text-blue-700" : "text-purple-700"),
                                            children: [h.diagonalInches, '"'],
                                        }),
                                        _jsx("div", { className: "text-gray-600 dark:text-gray-400 mt-2", children: "diagonal" }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-gray-50 dark:bg-gray-900/50 p-6 rounded-lg border",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400 mb-3",
                                            children: "Display Dimensions",
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2",
                                            children: [
                                                _jsxs("p", {
                                                    className: "text-lg",
                                                    children: [
                                                        _jsx("strong", { children: "Width:" }),
                                                        " ",
                                                        h.imageWidth,
                                                        " ",
                                                        h.unit,
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    className: "text-lg",
                                                    children: [
                                                        _jsx("strong", { children: "Height:" }),
                                                        " ",
                                                        h.imageHeight,
                                                        " ",
                                                        h.unit,
                                                    ],
                                                }),
                                                _jsxs("p", {
                                                    className: "text-sm text-gray-500 dark:text-gray-400",
                                                    children: ["Aspect Ratio: ", i, ":", o],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",
                            children: [
                                _jsx("h4", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "AVIXA Formula Breakdown",
                                }),
                                _jsx("div", {
                                    className: "text-sm text-gray-600 dark:text-gray-400 space-y-2 font-mono",
                                    children: _jsxs(
                                        _Fragment,
                                        "BDM" === c
                                            ? {
                                                  children: [
                                                      _jsx("p", {
                                                          children:
                                                              "Image Height = Farthest Viewer ÷ (Acuity Factor × %Element Height)",
                                                      }),
                                                      _jsxs("p", {
                                                          children: ["Image Height = ", e, " ÷ (200 × ", s / 100, ")"],
                                                      }),
                                                      _jsxs("p", {
                                                          children: [
                                                              "Image Height = ",
                                                              e,
                                                              " ÷ ",
                                                              ((s / 100) * 200).toFixed(2),
                                                              " = ",
                                                              _jsxs("strong", {
                                                                  children: [h.imageHeight, " ", h.unit],
                                                              }),
                                                          ],
                                                      }),
                                                  ],
                                              }
                                            : {
                                                  children: [
                                                      _jsx("p", {
                                                          children:
                                                              "Image Height = (Farthest Viewer × Vertical Pixels) ÷ Acuity Factor",
                                                      }),
                                                      _jsxs("p", {
                                                          children: ["Image Height = (", e, " × ", r, ") ÷ 3438"],
                                                      }),
                                                      _jsxs("p", {
                                                          children: [
                                                              "Image Height = ",
                                                              e * r,
                                                              " ÷ 3438 = ",
                                                              _jsxs("strong", {
                                                                  children: [h.imageHeight, " ", h.unit],
                                                              }),
                                                          ],
                                                      }),
                                                  ],
                                              }
                                    ),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",
                            children: [
                                _jsx("h4", {
                                    className: "font-semibold text-yellow-800 dark:text-yellow-200 mb-2",
                                    children: "Common Display Sizes Reference",
                                }),
                                _jsxs("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-yellow-700",
                                    children: [
                                        _jsx("span", { children: '• 55" = 48"×27"' }),
                                        _jsx("span", { children: '• 65" = 57"×32"' }),
                                        _jsx("span", { children: '• 75" = 65"×37"' }),
                                        _jsx("span", { children: '• 86" = 75"×42"' }),
                                        _jsx("span", { children: '• 98" = 85"×48"' }),
                                        _jsx("span", { children: '• 100" = 87"×49"' }),
                                        _jsx("span", { children: '• 110" = 96"×54"' }),
                                        _jsx("span", { children: '• 120" = 105"×59"' }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function CameraCalculator() {
    const [e, t] = useState(5),
        [s, a] = useState(90),
        [r, l] = useState("m"),
        [i, n] = useState("1080p"),
        [o, d] = useState(1),
        [c, m] = useState(null),
        [x, u] = useState(null),
        [h, p] = useState("security_indoor"),
        [g, b] = useState(!1),
        [f, y] = useState(!1),
        j = {
            conferencing_seated: {
                name: "Video Conferencing (Seated)",
                heightM: { min: 1.2, optimal: 1.3, max: 1.5 },
                heightFt: { min: 4, optimal: 4.3, max: 5 },
                tiltAngle: "0° to 5° down",
                description:
                    "Eye-level mounting for natural face-to-face collaboration. Position camera at or slightly above seated eye level.",
                standards: "Logitech/Poly/Cisco Best Practices",
                tips: [
                    "Mount camera between or below displays",
                    "Avoid extreme angles that distort faces",
                    "Ensure camera sees entire table width",
                ],
            },
            conferencing_standing: {
                name: "Video Conferencing (Standing/Presenter)",
                heightM: { min: 1.7, optimal: 1.8, max: 2 },
                heightFt: { min: 5.5, optimal: 6, max: 6.5 },
                tiltAngle: "0° to 5° down",
                description: "Elevated position for presenters at whiteboards or standing meetings.",
                standards: "Logitech/Poly Best Practices",
                tips: [
                    "Use adjustable mount for seated/standing modes",
                    "Consider PTZ camera for flexibility",
                    "Account for whiteboard visibility",
                ],
            },
            security_indoor: {
                name: "Security - Indoor (General)",
                heightM: { min: 2.5, optimal: 3, max: 3.7 },
                heightFt: { min: 8, optimal: 10, max: 12 },
                tiltAngle: "15° to 30° down",
                description: "Standard indoor security mounting. Balances facial capture with vandal resistance.",
                standards: "IEC 62676-4, Industry Best Practice",
                tips: [
                    "Mount in corner for maximum coverage",
                    "Avoid backlighting from windows",
                    "Ensure IR illumination reaches floor",
                ],
            },
            security_facial: {
                name: "Security - Facial Recognition",
                heightM: { min: 1.5, optimal: 1.7, max: 2 },
                heightFt: { min: 5, optimal: 5.5, max: 6.5 },
                tiltAngle: "0° to 10° down",
                description: "Low mounting optimized for facial capture and biometric identification.",
                standards: "IEC 62676-4 Identification Level",
                tips: [
                    "Position at doorways/chokepoints",
                    "Minimize downward angle",
                    "Ensure even facial lighting",
                    "Aim for 250+ PPM for identification",
                ],
            },
            security_entrance: {
                name: "Security - Entry Points",
                heightM: { min: 2.1, optimal: 2.4, max: 2.7 },
                heightFt: { min: 7, optimal: 8, max: 9 },
                tiltAngle: "10° to 20° down",
                description: "Entrance/exit monitoring for doors and gates. Captures faces while maintaining security.",
                standards: "UK Police Recommendations, IEC 62676-4",
                tips: [
                    "Mount to capture faces before entry",
                    "Avoid direct sunlight glare",
                    "Consider dual cameras: one facial, one overview",
                ],
            },
            security_outdoor: {
                name: "Security - Outdoor/Perimeter",
                heightM: { min: 3, optimal: 4, max: 5 },
                heightFt: { min: 10, optimal: 13, max: 16 },
                tiltAngle: "20° to 45° down",
                description: "Elevated outdoor mounting for wide area surveillance and vandal prevention.",
                standards: "IEC 62676-4, Commercial Security Standards",
                tips: [
                    "Use weatherproof housing",
                    "Consider lightning protection",
                    "Account for IR range at night",
                    "Higher = wider coverage but less facial detail",
                ],
            },
            security_parking: {
                name: "Security - Parking/LPR",
                heightM: { min: 1, optimal: 1.2, max: 1.5 },
                heightFt: { min: 3, optimal: 4, max: 5 },
                tiltAngle: "5° to 15° down",
                description: "Low mounting for license plate recognition (LPR/ANPR). Minimizes headlight glare.",
                standards: "LPR Industry Standards",
                tips: [
                    "Mount at bumper/plate height",
                    "Angle to avoid headlight reflection",
                    "Use IR illumination for night capture",
                ],
            },
            security_warehouse: {
                name: "Security - Warehouse/Industrial",
                heightM: { min: 3.7, optimal: 4.5, max: 6 },
                heightFt: { min: 12, optimal: 15, max: 20 },
                tiltAngle: "30° to 45° down",
                description: "High mounting for large open spaces with racking and equipment.",
                standards: "Commercial/Industrial Best Practice",
                tips: [
                    "Cover aisles from each end",
                    "Account for forklift and equipment height",
                    "Use varifocal lenses for flexibility",
                ],
            },
            security_retail: {
                name: "Security - Retail/POS",
                heightM: { min: 2.1, optimal: 2.5, max: 3 },
                heightFt: { min: 7, optimal: 8, max: 10 },
                tiltAngle: "15° to 25° down",
                description: "Retail environment balancing customer privacy with loss prevention.",
                standards: "Retail Security Best Practice",
                tips: [
                    "Cover POS terminals and high-value areas",
                    "Avoid capturing payment card details",
                    "Consider covert cameras for high-theft areas",
                ],
            },
        },
        _ = {
            "720p": { horizontal: 1280, vertical: 720, name: "720p HD" },
            "1080p": { horizontal: 1920, vertical: 1080, name: "1080p Full HD" },
            "2K": { horizontal: 2560, vertical: 1440, name: "2K QHD" },
            "4MP": { horizontal: 2688, vertical: 1520, name: "4MP" },
            "5MP": { horizontal: 2592, vertical: 1944, name: "5MP" },
            "4K": { horizontal: 3840, vertical: 2160, name: "4K UHD / 8MP" },
            "8MP": { horizontal: 3840, vertical: 2160, name: "4K UHD / 8MP" },
            "12MP": { horizontal: 4e3, vertical: 3e3, name: "12MP" },
        };
    useEffect(() => {
        if (c && c.selectedResolution && c.coverageWidthMeters > 0 && c.hfov > 0 && c.hfov < 180) {
            const e = c.coverageWidthMeters,
                t = c.selectedResolution;
            if (o >= 1 && o <= 100 && t.horizontal > 0) {
                const s = calculateCameraWithZoom(t.horizontal, e, o, c.hfov);
                u(s);
            } else o < 1 && u(null);
        }
    }, [o, c]);
    const v = (e) =>
        e >= 250
            ? { level: "Identification", color: "green", icon: "🟢" }
            : e >= 125
              ? { level: "Recognition", color: "yellow", icon: "🟡" }
              : e >= 62
                ? { level: "Observation", color: "orange", icon: "🟠" }
                : e >= 25
                  ? { level: "Detection", color: "red", icon: "🔴" }
                  : { level: "Monitoring", color: "gray", icon: "⚪" };
    return _jsxs("div", {
        className: "max-w-6xl mx-auto px-6 py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Camera Distance Calculator",
                    }),
                    c !== null &&
                        _jsx("button", {
                            onClick: () => y(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: f,
                onConfirm: () => {
                    t(5), a(90), l("m"), n("1080p"), d(1), m(null), u(null), p("security_indoor"), b(!1), y(!1);
                },
                onCancel: () => y(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Calculates maximum camera distances for each DORI level (Detection, Observation, Recognition, Identification) based on IEC 62676-4 standards. Enter camera resolution, lens field of view, and target coverage width to plan surveillance camera placement.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-lg font-semibold text-blue-800 dark:text-blue-200 mb-3",
                        children: "IEC 62676-4 DORI Standard",
                    }),
                    _jsxs("p", {
                        className: "text-sm text-blue-700 mb-4",
                        children: [
                            "The ",
                            _jsx("strong", { children: "DORI" }),
                            " (Detection, Observation, Recognition, Identification) standard from IEC 62676-4 defines pixel density requirements for video surveillance systems based on operational needs.",
                        ],
                    }),
                    _jsxs("div", {
                        className: "bg-white dark:bg-gray-800 rounded-lg p-3 border border-blue-200 dark:border-blue-800 mb-4",
                        children: [
                            _jsx("p", {
                                className: "text-sm font-mono text-blue-800 dark:text-blue-200 mb-2",
                                children: _jsx("strong", { children: "Camera Distance Formula:" }),
                            }),
                            _jsx("p", {
                                className: "text-sm font-mono text-blue-700",
                                children: "Distance = Coverage Width ÷ (2 × tan(HFOV ÷ 2))",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "bg-red-50 dark:bg-red-900/20 p-3 rounded border border-red-200 dark:border-red-800 text-center",
                                children: [
                                    _jsx("div", { className: "text-2xl mb-1", children: "🔴" }),
                                    _jsx("div", { className: "font-bold text-red-700", children: "Detection" }),
                                    _jsx("div", { className: "text-red-600", children: "25 PPM / 8 PPF" }),
                                    _jsx("div", { className: "text-gray-500 dark:text-gray-400 mt-1", children: "Presence detected" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-orange-50 p-3 rounded border border-orange-200 text-center",
                                children: [
                                    _jsx("div", { className: "text-2xl mb-1", children: "🟠" }),
                                    _jsx("div", { className: "font-bold text-orange-700", children: "Observation" }),
                                    _jsx("div", { className: "text-orange-600", children: "62 PPM / 19 PPF" }),
                                    _jsx("div", { className: "text-gray-500 dark:text-gray-400 mt-1", children: "Clothing details" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800 text-center",
                                children: [
                                    _jsx("div", { className: "text-2xl mb-1", children: "🟡" }),
                                    _jsx("div", { className: "font-bold text-yellow-700", children: "Recognition" }),
                                    _jsx("div", { className: "text-yellow-600", children: "125 PPM / 38 PPF" }),
                                    _jsx("div", {
                                        className: "text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Recognize if seen before",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-green-50 dark:bg-green-900/20 p-3 rounded border border-green-200 dark:border-green-800 text-center",
                                children: [
                                    _jsx("div", { className: "text-2xl mb-1", children: "🟢" }),
                                    _jsx("div", { className: "font-bold text-green-700", children: "Identification" }),
                                    _jsx("div", { className: "text-green-600", children: "250 PPM / 76 PPF" }),
                                    _jsx("div", { className: "text-gray-500 dark:text-gray-400 mt-1", children: "Positive ID" }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 mb-8 border",
                children: [
                    _jsx("h2", {
                        className: "text-xl font-semibold text-gray-800 mb-4",
                        children: "Camera Configuration",
                    }),
                    _jsxs("div", {
                        className: "grid md:grid-cols-2 gap-6",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Camera Application",
                                    }),
                                    _jsxs("select", {
                                        value: h,
                                        onChange: (e) => p(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("optgroup", {
                                                label: "Video Conferencing",
                                                children: [
                                                    _jsx("option", {
                                                        value: "conferencing_seated",
                                                        children: "Conferencing - Seated Meeting",
                                                    }),
                                                    _jsx("option", {
                                                        value: "conferencing_standing",
                                                        children: "Conferencing - Standing/Presenter",
                                                    }),
                                                ],
                                            }),
                                            _jsx("optgroup", {
                                                label: "Security & Surveillance",
                                                children: [
                                                    _jsx("option", {
                                                        value: "security_indoor",
                                                        children: "Security - Indoor (General)",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_facial",
                                                        children: "Security - Facial Recognition",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_entrance",
                                                        children: "Security - Entry Points",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_outdoor",
                                                        children: "Security - Outdoor/Perimeter",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_parking",
                                                        children: "Security - Parking/LPR",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_warehouse",
                                                        children: "Security - Warehouse/Industrial",
                                                    }),
                                                    _jsx("option", {
                                                        value: "security_retail",
                                                        children: "Security - Retail/POS",
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Select application type for mounting height recommendations",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Unit",
                                    }),
                                    _jsxs("select", {
                                        value: r,
                                        onChange: (e) => l(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "m", children: "Meters (m)" }),
                                            _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Camera Max Resolution",
                                    }),
                                    _jsxs("select", {
                                        value: i,
                                        onChange: (e) => n(e.target.value),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                        children: [
                                            _jsx("option", { value: "720p", children: "720p (1280×720)" }),
                                            _jsx("option", { value: "1080p", children: "1080p (1920×1080)" }),
                                            _jsx("option", { value: "2K", children: "2K QHD (2560×1440)" }),
                                            _jsx("option", { value: "4MP", children: "4MP (2688×1520)" }),
                                            _jsx("option", { value: "5MP", children: "5MP (2592×1944)" }),
                                            _jsx("option", { value: "4K", children: "4K UHD (3840×2160)" }),
                                            _jsx("option", { value: "8MP", children: "8MP (3840×2160)" }),
                                            _jsx("option", { value: "12MP", children: "12MP (4000×3000)" }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "Select your camera's maximum resolution",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: ["Coverage Width (", r, ")"],
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        min: "0.1",
                                        value: e,
                                        onChange: (e) => t("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                        children: "The horizontal width of the area to be covered",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "md:col-span-2",
                                children: [
                                    _jsxs("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: [
                                            "Horizontal Field of View (HFOV): ",
                                            _jsxs("span", { className: "font-bold text-blue-600", children: [s, "°"] }),
                                        ],
                                    }),
                                    _jsx("input", {
                                        type: "range",
                                        min: "5",
                                        max: "179",
                                        step: "1",
                                        value: s,
                                        onChange: (e) => a("" === e.target.value ? "" : parseFloat(e.target.value)),
                                        className:
                                            "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                    }),
                                    _jsxs("div", {
                                        className: "flex justify-between text-xs text-gray-400 mt-1",
                                        children: [
                                            _jsx("span", { children: "5° (Telephoto)" }),
                                            _jsx("span", { children: "90° (Standard)" }),
                                            _jsx("span", { children: "179° (Fisheye)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "md:col-span-2",
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Quick Select - Common Lens Types",
                                    }),
                                    _jsx("div", {
                                        className: "flex flex-wrap gap-2",
                                        children: [
                                            { hfov: 180, label: "180° (Fisheye)", type: "Fisheye" },
                                            { hfov: 120, label: "120° (Super Wide)", type: "Wide" },
                                            { hfov: 108, label: "108° (Wide)", type: "Wide" },
                                            { hfov: 90, label: "90° (Standard Wide)", type: "Standard" },
                                            { hfov: 72, label: "72° (Standard)", type: "Standard" },
                                            { hfov: 60, label: "60° (Narrow)", type: "Narrow" },
                                            { hfov: 45, label: "45° (Telephoto)", type: "Telephoto" },
                                            { hfov: 30, label: "30° (Long Telephoto)", type: "Telephoto" },
                                            { hfov: 15, label: "15° (Super Telephoto)", type: "Telephoto" },
                                        ].map((e) =>
                                            _jsx(
                                                "button",
                                                {
                                                    onClick: () => a(e.hfov),
                                                    className:
                                                        "px-3 py-1.5 text-xs rounded-lg border transition-colors " +
                                                        (s === e.hfov
                                                            ? "bg-blue-600 text-white border-blue-600"
                                                            : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20"),
                                                    children: e.label,
                                                },
                                                e.hfov
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200",
                        children: [
                            _jsxs("label", {
                                className: "block text-sm font-medium text-indigo-800 mb-2",
                                children: [
                                    "🔍 Optical Zoom Factor: ",
                                    _jsxs("span", { className: "font-bold text-indigo-600", children: [o, "x"] }),
                                ],
                            }),
                            _jsx("input", {
                                type: "range",
                                min: "1",
                                max: "30",
                                step: "0.5",
                                value: o,
                                onChange: (e) => d(Number(e.target.value) || 1),
                                className:
                                    "w-full h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600",
                            }),
                            _jsxs("div", {
                                className: "flex justify-between text-xs text-indigo-400 mt-1",
                                children: [
                                    _jsx("span", { children: "1x (No zoom)" }),
                                    _jsx("span", { children: "10x" }),
                                    _jsx("span", { children: "20x" }),
                                    _jsx("span", { children: "30x" }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "flex flex-wrap gap-2 mt-3",
                                children: [1, 2, 4, 8, 12, 20, 30].map((e) =>
                                    _jsxs(
                                        "button",
                                        {
                                            type: "button",
                                            onClick: () => d(e),
                                            className:
                                                "px-3 py-1 text-xs rounded border cursor-pointer transition-colors " +
                                                (o === e
                                                    ? "bg-indigo-600 text-white border-indigo-600"
                                                    : "bg-white dark:bg-gray-800 text-indigo-700 border-indigo-300 hover:bg-indigo-100"),
                                            children: [e, "x"],
                                        },
                                        e
                                    )
                                ),
                            }),
                            _jsx("p", {
                                className: "text-xs text-indigo-600 mt-2",
                                children:
                                    "Optical zoom increases effective pixel density (PPM), improving DORI capability at distance",
                            }),
                        ],
                    }),
                    _jsx("button", {
                        type: "button",
                        onClick: () => {
                            if (e > 0 && e <= 1e4 && s > 0 && s < 180) {
                                const t = calculateCameraDistance(e, s, r),
                                    a = _[i],
                                    l = "ft" === r ? 0.3048 * e : e,
                                    n = l > 0 ? Math.round(a.horizontal / l) : 0,
                                    d = Math.round(0.3048 * n);
                                if (
                                    (m({ ...t, selectedResolution: { ...a, key: i, ppm: n, ppf: d } }),
                                    o >= 1 && o <= 100)
                                ) {
                                    const e = calculateCameraWithZoom(a.horizontal, l, o, s);
                                    u(e);
                                } else u(null);
                            }
                        },
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Camera Distance",
                    }),
                ],
            }),
            c &&
                _jsxs("div", {
                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-8 border",
                    children: [
                        _jsx("h2", {
                            className: "text-xl font-semibold text-gray-800 mb-6",
                            children: "Camera Placement Results",
                        }),
                        o > 1 &&
                            x &&
                            _jsxs("div", {
                                className: "mb-6 p-4 bg-indigo-50 rounded-lg border-2 border-indigo-300",
                                children: [
                                    _jsxs("h3", {
                                        className: "font-semibold text-indigo-800 mb-3",
                                        children: ["🔍 Zoom Analysis (", o, "x Optical Zoom)"],
                                    }),
                                    x.doriImproved &&
                                        _jsxs("div", {
                                            className: "bg-green-100 p-3 rounded-lg mb-3 border border-green-300",
                                            children: [
                                                _jsx("span", {
                                                    className: "text-green-800 dark:text-green-200 font-semibold",
                                                    children: "✅ DORI Level Improved: ",
                                                }),
                                                _jsx("span", {
                                                    className: "text-gray-600 dark:text-gray-400",
                                                    children: x.baseDORI.level,
                                                }),
                                                _jsx("span", {
                                                    className: "text-green-600 font-bold",
                                                    children: " → ",
                                                }),
                                                _jsx("span", {
                                                    className: "text-green-700 font-bold",
                                                    children: x.effectiveDORI.level,
                                                }),
                                            ],
                                        }),
                                    _jsxs("div", {
                                        className: "grid grid-cols-2 md:grid-cols-4 gap-3",
                                        children: [
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Effective PPM",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xl font-bold text-indigo-600",
                                                        children: x.effectivePPM,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Effective DORI",
                                                    }),
                                                    _jsx("div", {
                                                        className:
                                                            "text-lg font-bold " +
                                                            ("Identification" === x.effectiveDORI.level
                                                                ? "text-green-600"
                                                                : "Recognition" === x.effectiveDORI.level
                                                                  ? "text-yellow-600"
                                                                  : "Observation" === x.effectiveDORI.level
                                                                    ? "text-orange-600"
                                                                    : "Detection" === x.effectiveDORI.level
                                                                      ? "text-red-600"
                                                                      : "text-gray-500 dark:text-gray-400"),
                                                        children: x.effectiveDORI.level,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Effective HFOV",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-indigo-600",
                                                        children: [x.effectiveHFOV, "°"],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: "Effective Coverage",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-indigo-600",
                                                        children: [
                                                            "ft" === r
                                                                ? x.effectiveCoverageWidthFt
                                                                : x.effectiveCoverageWidthM,
                                                            " ",
                                                            r,
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-3 gap-4 mb-6",
                            children: [
                                _jsxs("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-2 border-blue-200 dark:border-blue-800 text-center",
                                    children: [
                                        _jsx("div", {
                                            className: "text-sm text-gray-600 dark:text-gray-400",
                                            children: "Camera Distance",
                                        }),
                                        _jsx("div", {
                                            className: "text-4xl font-bold text-blue-700",
                                            children: c.distance,
                                        }),
                                        _jsx("div", { className: "text-lg text-blue-600", children: c.unit }),
                                        "ft" === r &&
                                            _jsxs("div", {
                                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                children: ["(", c.distanceMeters, " m)"],
                                            }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-green-50 dark:bg-green-900/20 p-6 rounded-lg border-2 border-green-200 dark:border-green-800 text-center",
                                    children: [
                                        _jsx("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Coverage Width" }),
                                        _jsx("div", {
                                            className: "text-4xl font-bold text-green-700",
                                            children: c.coverageWidth,
                                        }),
                                        _jsx("div", { className: "text-lg text-green-600", children: c.unit }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg border-2 border-purple-200 dark:border-purple-800 text-center",
                                    children: [
                                        _jsx("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Field of View" }),
                                        _jsxs("div", {
                                            className: "text-4xl font-bold text-purple-700",
                                            children: [c.hfov, "°"],
                                        }),
                                        _jsx("div", { className: "text-lg text-purple-600", children: "HFOV" }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg mb-6",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                    children: "Calculation Breakdown",
                                }),
                                _jsxs("p", {
                                    className: "text-sm text-gray-600 dark:text-gray-400 font-mono",
                                    children: [
                                        "Distance = ",
                                        c.coverageWidth,
                                        " ",
                                        c.unit,
                                        " ÷ (2 × tan(",
                                        c.hfov,
                                        "° ÷ 2))",
                                    ],
                                }),
                                _jsxs("p", {
                                    className: "text-sm text-gray-600 dark:text-gray-400 font-mono",
                                    children: ["Distance = ", c.coverageWidth, " ÷ (2 × tan(", c.hfov / 2, "°))"],
                                }),
                                _jsxs("p", {
                                    className: "text-sm text-gray-600 dark:text-gray-400 font-mono",
                                    children: [
                                        "Distance = ",
                                        c.coverageWidth,
                                        " ÷ ",
                                        (2 * Math.tan(((c.hfov / 2) * Math.PI) / 180)).toFixed(4),
                                        " = ",
                                        _jsxs("strong", { children: [c.distance, " ", c.unit] }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "mb-6",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Pixel Density by Camera Resolution (IEC 62676-4)",
                                }),
                                _jsx("div", {
                                    className: "overflow-x-auto",
                                    children: _jsxs("table", {
                                        className: "w-full text-sm border-collapse",
                                        children: [
                                            _jsx("thead", {
                                                children: _jsxs("tr", {
                                                    className: "bg-gray-100 dark:bg-gray-700",
                                                    children: [
                                                        _jsx("th", {
                                                            className: "border p-2 text-left",
                                                            children: "Resolution",
                                                        }),
                                                        _jsx("th", {
                                                            className: "border p-2 text-center",
                                                            children: "Pixels",
                                                        }),
                                                        _jsx("th", {
                                                            className: "border p-2 text-center",
                                                            children: "PPM",
                                                        }),
                                                        _jsx("th", {
                                                            className: "border p-2 text-center",
                                                            children: "PPF",
                                                        }),
                                                        _jsx("th", {
                                                            className: "border p-2 text-center",
                                                            children: "DORI Level",
                                                        }),
                                                    ],
                                                }),
                                            }),
                                            _jsx("tbody", {
                                                children: c.ppmByResolution.map((e) => {
                                                    const t = v(e.ppm),
                                                        s =
                                                            c.selectedResolution &&
                                                            e.name === c.selectedResolution.name;
                                                    return _jsxs(
                                                        "tr",
                                                        {
                                                            className: s
                                                                ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300"
                                                                : "hover:bg-gray-50 dark:bg-gray-900/50",
                                                            children: [
                                                                _jsxs("td", {
                                                                    className: "border p-2 font-medium",
                                                                    children: [
                                                                        e.name,
                                                                        s &&
                                                                            _jsx("span", {
                                                                                className:
                                                                                    "ml-2 text-xs bg-blue-600 text-white px-2 py-0.5 rounded",
                                                                                children: "Selected",
                                                                            }),
                                                                    ],
                                                                }),
                                                                _jsxs("td", {
                                                                    className: "border p-2 text-center text-gray-600 dark:text-gray-400",
                                                                    children: [e.horizontal, "×", e.vertical],
                                                                }),
                                                                _jsx("td", {
                                                                    className: "border p-2 text-center font-bold",
                                                                    children: e.ppm,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "border p-2 text-center text-gray-600 dark:text-gray-400",
                                                                    children: e.ppf,
                                                                }),
                                                                _jsx("td", {
                                                                    className: "border p-2 text-center",
                                                                    children: _jsxs("span", {
                                                                        className:
                                                                            "inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium " +
                                                                            ("red" === t.color
                                                                                ? "bg-red-100 text-red-700"
                                                                                : "orange" === t.color
                                                                                  ? "bg-orange-100 text-orange-700"
                                                                                  : "yellow" === t.color
                                                                                    ? "bg-yellow-100 text-yellow-700"
                                                                                    : "green" === t.color
                                                                                      ? "bg-green-100 text-green-700"
                                                                                      : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),
                                                                        children: [t.icon, " ", t.level],
                                                                    }),
                                                                }),
                                                            ],
                                                        },
                                                        e.name
                                                    );
                                                }),
                                            }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                        c.selectedResolution &&
                            _jsxs("div", {
                                className: "p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-6",
                                children: [
                                    _jsxs("h3", {
                                        className: "font-semibold text-blue-800 dark:text-blue-200 mb-3",
                                        children: ["📷 Your Selected Camera Resolution: ", c.selectedResolution.name],
                                    }),
                                    _jsxs("div", {
                                        className: "grid grid-cols-2 md:grid-cols-4 gap-3",
                                        children: [
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "Resolution",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-lg font-bold text-blue-700",
                                                        children: [
                                                            c.selectedResolution.horizontal,
                                                            "×",
                                                            c.selectedResolution.vertical,
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "PPM",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xl font-bold text-blue-700",
                                                        children: c.selectedResolution.ppm,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "PPF",
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-xl font-bold text-blue-700",
                                                        children: c.selectedResolution.ppf,
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                                        children: "DORI Level",
                                                    }),
                                                    (() => {
                                                        const e = v(c.selectedResolution.ppm);
                                                        return _jsxs("div", {
                                                            className:
                                                                "text-lg font-bold " +
                                                                ("red" === e.color
                                                                    ? "text-red-700"
                                                                    : "orange" === e.color
                                                                      ? "text-orange-700"
                                                                      : "yellow" === e.color
                                                                        ? "text-yellow-700"
                                                                        : "green" === e.color
                                                                          ? "text-green-700"
                                                                          : "text-gray-700 dark:text-gray-300"),
                                                            children: [e.icon, " ", e.level],
                                                        });
                                                    })(),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                        _jsxs("div", {
                            className: "p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800 mb-6",
                            children: [
                                _jsxs("h3", {
                                    className: "font-semibold text-yellow-800 dark:text-yellow-200 mb-3",
                                    children: [
                                        "📏 Maximum Distance by DORI Level (",
                                        c.selectedResolution ? c.selectedResolution.name : "1080p",
                                        " Camera)",
                                    ],
                                }),
                                _jsxs("p", {
                                    className: "text-xs text-yellow-700 mb-3",
                                    children: [
                                        "For a ",
                                        c.selectedResolution ? c.selectedResolution.name : "1080p",
                                        " camera with ",
                                        c.hfov,
                                        "° HFOV, here are the maximum distances for each DORI level:",
                                    ],
                                }),
                                _jsx("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-3",
                                    children: Object.entries(c.doriLevels).map(([e, t]) => {
                                        const s =
                                                (c.selectedResolution ? c.selectedResolution.horizontal : 1920) /
                                                t.ppm /
                                                (2 * Math.tan(((c.hfov / 2) * Math.PI) / 180)),
                                            a = "ft" === r ? s / 0.3048 : s;
                                        return _jsxs(
                                            "div",
                                            {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded border text-center",
                                                children: [
                                                    _jsx("div", {
                                                        className: "font-semibold text-gray-800 capitalize",
                                                        children: e,
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xl font-bold text-yellow-700",
                                                        children: [Math.round(10 * a) / 10, " ", r],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [t.ppm, " PPM"],
                                                    }),
                                                ],
                                            },
                                            e
                                        );
                                    }),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-purple-800 dark:text-purple-200 mb-3",
                                    children: "📋 IEC 62676-4:2025 OODPCVS Standard (New)",
                                }),
                                _jsx("p", {
                                    className: "text-xs text-purple-700 mb-3",
                                    children:
                                        "The updated 2025 standard introduces more granular levels for modern high-resolution cameras:",
                                }),
                                _jsx("div", {
                                    className: "grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",
                                    children: Object.entries(c.oodpcvsLevels).map(([e, t]) =>
                                        _jsxs(
                                            "div",
                                            {
                                                className: "bg-white dark:bg-gray-800 p-2 rounded border",
                                                children: [
                                                    _jsx("div", {
                                                        className: "font-semibold text-purple-700 capitalize",
                                                        children: e,
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-purple-600",
                                                        children: [t.ppm, " PPM"],
                                                    }),
                                                    _jsx("div", {
                                                        className: "text-gray-500 dark:text-gray-400 text-xs",
                                                        children: t.description,
                                                    }),
                                                ],
                                            },
                                            e
                                        )
                                    ),
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "mt-6 bg-amber-50 dark:bg-amber-900/20 rounded-xl p-5 border-2 border-amber-200 dark:border-amber-800",
                            children: [
                                _jsxs("div", {
                                    className: "flex items-center justify-between mb-4",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-amber-800 dark:text-amber-200",
                                            children: "📐 Recommended Mounting Height",
                                        }),
                                        _jsx("button", {
                                            type: "button",
                                            onClick: () => b(!g),
                                            className:
                                                "text-xs bg-amber-200 hover:bg-amber-300 text-amber-800 dark:text-amber-200 px-3 py-1 rounded-full transition-colors cursor-pointer",
                                            children: g ? "Hide Details" : "Show Details",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-4",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-4 rounded-lg border text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mb-1",
                                                    children: "Minimum Height",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-amber-600",
                                                    children: [
                                                        "ft" === r ? j[h].heightFt.min : j[h].heightM.min,
                                                        " ",
                                                        r,
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-amber-100 p-4 rounded-lg border-2 border-amber-400 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-amber-700 font-medium mb-1",
                                                    children: "✓ Optimal Height",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-amber-700",
                                                    children: [
                                                        "ft" === r ? j[h].heightFt.optimal : j[h].heightM.optimal,
                                                        " ",
                                                        r,
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "bg-white dark:bg-gray-800 p-4 rounded-lg border text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mb-1",
                                                    children: "Maximum Height",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-2xl font-bold text-amber-600",
                                                    children: [
                                                        "ft" === r ? j[h].heightFt.max : j[h].heightM.max,
                                                        " ",
                                                        r,
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "flex flex-wrap gap-3 text-sm",
                                    children: [
                                        _jsxs("span", {
                                            className: "bg-white dark:bg-gray-800 px-3 py-1 rounded-full border",
                                            children: ["🎯 Application: ", _jsx("strong", { children: j[h].name })],
                                        }),
                                        _jsxs("span", {
                                            className: "bg-white dark:bg-gray-800 px-3 py-1 rounded-full border",
                                            children: ["📐 Tilt Angle: ", _jsx("strong", { children: j[h].tiltAngle })],
                                        }),
                                        _jsxs("span", {
                                            className: "bg-white dark:bg-gray-800 px-3 py-1 rounded-full border text-xs",
                                            children: ["📋 Standard: ", j[h].standards],
                                        }),
                                    ],
                                }),
                                g &&
                                    _jsxs("div", {
                                        className: "mt-4 pt-4 border-t border-amber-200 dark:border-amber-800",
                                        children: [
                                            _jsx("p", {
                                                className: "text-sm text-amber-800 dark:text-amber-200 mb-3",
                                                children: j[h].description,
                                            }),
                                            _jsxs("div", {
                                                className: "bg-white dark:bg-gray-800 p-3 rounded-lg border",
                                                children: [
                                                    _jsx("h4", {
                                                        className: "text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",
                                                        children: "Installation Tips:",
                                                    }),
                                                    _jsx("ul", {
                                                        className: "text-xs text-gray-600 dark:text-gray-400 space-y-1",
                                                        children: j[h].tips.map((e, t) =>
                                                            _jsxs("li", { children: ["• ", e] }, t)
                                                        ),
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
function DSPCalculator() {
    const [e, t] = useState("metric"),
        [s, a] = useState("medium_conference"),
        r = {
            huddle: {
                name: "Huddle Room (2-4 people)",
                lengthM: 3,
                widthM: 3,
                heightM: 2.7,
                rt60: 0.4,
                noiseFloor: 30,
                micCount: 1,
                talkerToMic: 0.4,
                talkerToFarthest: 3,
                speakerToListener: 1.5,
                micToSpeaker: 2,
                description: "~100 sq ft / 9 m² - Quick meetings, 1-on-1s",
            },
            small_conference: {
                name: "Small Conference (4-6 people)",
                lengthM: 5,
                widthM: 4,
                heightM: 2.7,
                rt60: 0.5,
                noiseFloor: 32,
                micCount: 2,
                talkerToMic: 0.5,
                talkerToFarthest: 4,
                speakerToListener: 1.5,
                micToSpeaker: 2.5,
                description: "~150 sq ft / 14 m² - Team meetings",
            },
            medium_conference: {
                name: "Medium Conference (8-12 people)",
                lengthM: 8,
                widthM: 6,
                heightM: 3,
                rt60: 0.5,
                noiseFloor: 35,
                micCount: 4,
                talkerToMic: 0.5,
                talkerToFarthest: 7,
                speakerToListener: 2,
                micToSpeaker: 3,
                description: "~300 sq ft / 28 m² - Department meetings",
            },
            large_boardroom: {
                name: "Large Boardroom (12-20 people)",
                lengthM: 12,
                widthM: 8,
                heightM: 3,
                rt60: 0.6,
                noiseFloor: 35,
                micCount: 8,
                talkerToMic: 0.6,
                talkerToFarthest: 10,
                speakerToListener: 2.5,
                micToSpeaker: 4,
                description: "~500 sq ft / 46 m² - Board meetings, presentations",
            },
            training_room: {
                name: "Training Room (20-30 people)",
                lengthM: 15,
                widthM: 10,
                heightM: 3.5,
                rt60: 0.7,
                noiseFloor: 38,
                micCount: 2,
                talkerToMic: 0.4,
                talkerToFarthest: 14,
                speakerToListener: 3,
                micToSpeaker: 5,
                description: "~750 sq ft / 70 m² - Training, workshops",
            },
            auditorium: {
                name: "Auditorium (50+ people)",
                lengthM: 25,
                widthM: 15,
                heightM: 5,
                rt60: 1,
                noiseFloor: 40,
                micCount: 4,
                talkerToMic: 0.3,
                talkerToFarthest: 22,
                speakerToListener: 4,
                micToSpeaker: 8,
                description: "~2000 sq ft / 185 m² - Large presentations, lectures",
            },
            custom: {
                name: "Custom (Manual Entry)",
                lengthM: 10,
                widthM: 8,
                heightM: 3,
                rt60: 0.6,
                noiseFloor: 35,
                micCount: 4,
                talkerToMic: 0.5,
                talkerToFarthest: 8,
                speakerToListener: 2,
                micToSpeaker: 2.5,
                description: "Enter your own room specifications",
            },
        },
        l = (t) => ("" === t || null == t ? "" : "imperial" === e ? Math.round(10 * ((e) => 3.28084 * e)(t)) / 10 : t),
        i = (t, s) => {
            if ("" === t || null == t) return void s("");
            const a = parseFloat(t);
            isNaN(a) ? s("") : s("imperial" === e ? a / 3.28084 : a);
        },
        [n, o] = useState(4),
        [d, c] = useState(-50),
        [m, x] = useState(4),
        [u, h] = useState(24),
        [p, g] = useState(24),
        [b, f] = useState(0.5),
        [y, j] = useState(3),
        [_, v] = useState(3),
        [N, w] = useState("presentation"),
        [C, M] = useState(2),
        [k, S] = useState(35),
        [R, P] = useState(8),
        [A, D] = useState(6),
        [I, E] = useState(3),
        [F, B] = useState(0.5),
        [T, L] = useState(7),
        [H, U] = useState(2),
        [q, $] = useState("cardioid"),
        [W, V] = useState(!1),
        [O, z] = useState(78),
        [G, X] = useState(74),
        [J, Q] = useState(["aec", "eq", "compressor", "matrix", "delay"]),
        [K, Y] = useState(48e3),
        [Z, ee] = useState(24),
        [te, se] = useState(16),
        [ae, re] = useState("dante"),
        [le, ie] = useState({ mics: 4, programAudio: 2, usbVoip: 2, playback: 1, wireless: 2, hdmiAudio: 2 }),
        [ne, oe] = useState({ loudspeakers: 4, amplifiers: 2, ucCodec: 1, overflow: 2, recording: 2 }),
        [de, ce] = useState(1),
        [me, xe] = useState(1),
        [ue, he] = useState(null),
        [pe, ge] = useState("input"),
        [be, fe] = useState(!1),
        ye = (e, t) => {
            ie("" !== t ? (s) => ({ ...s, [e]: Math.max(0, parseInt(t) || 0) }) : (t) => ({ ...t, [e]: "" }));
        },
        je = (e, t) => {
            oe("" !== t ? (s) => ({ ...s, [e]: Math.max(0, parseInt(t) || 0) }) : (t) => ({ ...t, [e]: "" }));
        },
        _e = (e, t, s = !1) =>
            _jsxs("span", {
                className:
                    "inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium " +
                    (e
                        ? "bg-green-100 text-green-700"
                        : s
                          ? "bg-orange-100 text-orange-700"
                          : "bg-red-100 text-red-700"),
                children: [e ? "✅" : s ? "⚠️" : "❌", " ", t],
            });
    return _jsxs("div", {
        className: "max-w-7xl mx-auto px-6 py-8",
        children: [
            _jsx("div", {
                className: "mb-4",
                children: _jsxs("span", {
                    className:
                        "inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-800 dark:text-purple-200 text-sm font-semibold rounded-full border border-purple-200 dark:border-purple-800",
                    children: [_jsx("span", { className: "text-purple-600", children: "⚡" }), " Advanced Tool"],
                }),
            }),
            _jsxs("div", {
                className: "flex items-center justify-between mb-2",
                children: [
                    _jsx("h1", { className: "text-3xl font-bold text-gray-900 dark:text-gray-100", children: "DSP System Calculator" }),
                    ue !== null &&
                        _jsx("button", {
                            onClick: () => fe(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: be,
                onConfirm: () => {
                    t("metric"),
                        a("medium_conference"),
                        v(3),
                        w("presentation"),
                        M(2),
                        S(35),
                        P(8),
                        D(6),
                        E(3),
                        B(0.5),
                        L(7),
                        U(2),
                        $("cardioid"),
                        V(!1),
                        z(78),
                        X(74),
                        Q(["aec", "eq", "compressor", "matrix", "delay"]),
                        Y(48e3),
                        ee(24),
                        se(16),
                        re("dante"),
                        ie({ mics: 4, programAudio: 2, usbVoip: 2, playback: 1, wireless: 2, hdmiAudio: 2 }),
                        oe({ loudspeakers: 4, amplifiers: 2, ucCodec: 1, overflow: 2, recording: 2 }),
                        ce(1),
                        xe(1),
                        he(null),
                        ge("input"),
                        fe(!1);
                },
                onCancel: () => fe(!1),
            }),
            _jsx("p", {
                className: "text-gray-600 dark:text-gray-400 mb-4",
                children: "Professional DSP design tool based on AVIXA standards, IEC 60268, and industry practices",
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Comprehensive DSP system design tool covering gain structure analysis, I/O matrix routing, AEC (acoustic echo cancellation) configuration, system latency calculation, and network audio requirements. Navigate sections using the tabs below.",
                    ],
                }),
            }),
            _jsx("div", {
                className: "bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6 border border-blue-200 dark:border-blue-800",
                children: _jsxs("div", {
                    className: "grid md:grid-cols-4 gap-4 text-xs",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg border",
                            children: [
                                _jsx("div", { className: "font-semibold text-blue-700", children: "AVIXA ACR" }),
                                _jsx("div", { className: "text-gray-600 dark:text-gray-400", children: "Coverage ≤ 6 dB" }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg border",
                            children: [
                                _jsx("div", { className: "font-semibold text-green-700", children: "Headroom" }),
                                _jsx("div", { className: "text-gray-600 dark:text-gray-400", children: "≥ 20 dB (best practice)" }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg border",
                            children: [
                                _jsx("div", { className: "font-semibold text-purple-700", children: "Latency" }),
                                _jsx("div", { className: "text-gray-600 dark:text-gray-400", children: "< 20 ms (live sound)" }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 p-3 rounded-lg border",
                            children: [
                                _jsx("div", { className: "font-semibold text-orange-700", children: "SNR Target" }),
                                _jsx("div", { className: "text-gray-600 dark:text-gray-400", children: "≥ 25 dB (optimal)" }),
                            ],
                        }),
                    ],
                }),
            }),
            _jsx("div", {
                className: "flex flex-wrap gap-2 mb-6",
                children: [
                    { id: "input", name: "Input/Gain", icon: "🎤" },
                    { id: "room", name: "Room/SPL", icon: "🏠" },
                    { id: "feedback", name: "PAG/NAG", icon: "🔊" },
                    { id: "dsp", name: "DSP Blocks", icon: "🎛️" },
                    { id: "io", name: "I/O Matrix", icon: "🔀" },
                    { id: "network", name: "Network", icon: "🌐" },
                ].map((e) =>
                    _jsxs(
                        "button",
                        {
                            onClick: () => ge(e.id),
                            className:
                                "px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 " +
                                (pe === e.id
                                    ? "bg-blue-600 text-white shadow-md dark:shadow-gray-950/20"
                                    : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border hover:bg-blue-50 dark:bg-blue-900/20"),
                            children: [_jsx("span", { children: e.icon }), e.name],
                        },
                        e.id
                    )
                ),
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-6 mb-6 border",
                children: [
                    "input" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🎤" }), " Input & Gain Structure"],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Mic Count",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    max: "64",
                                                    value: n,
                                                    onChange: (e) =>
                                                        o(
                                                            "" === e.target.value || "" === e.target.value
                                                                ? ""
                                                                : parseInt(e.target.value)
                                                        ),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Mic Level (dBV)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: d,
                                                    onChange: (e) =>
                                                        c("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Typical: -60 to -40 dBV",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Nominal System Level (dBu)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: m,
                                                    onChange: (e) =>
                                                        x("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Pro audio: +4 dBu",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Max Input Level (dBu)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: u,
                                                    onChange: (e) =>
                                                        h("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Max Output Level (dBu)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: p,
                                                    onChange: (e) =>
                                                        g("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",
                                    children: _jsxs("p", {
                                        className: "text-xs text-blue-700",
                                        children: [
                                            _jsx("strong", { children: "IEC 60268:" }),
                                            " Voltage Gain (dB) = 20 × log₁₀(V_out / V_in) | Power Gain (dB) = 10 × log₁₀(P_out / P_in)",
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    "room" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🏠" }), " Room Acoustics & SPL"],
                                }),
                                _jsxs("div", {
                                    className: "flex flex-wrap gap-4 mb-6 items-end",
                                    children: [
                                        _jsxs("div", {
                                            className: "flex-1 min-w-[200px]",
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Room Type Preset",
                                                }),
                                                _jsxs("select", {
                                                    value: s,
                                                    onChange: (e) =>
                                                        ((e) => {
                                                            const t = r[e];
                                                            t &&
                                                                "custom" !== e &&
                                                                (P(t.lengthM),
                                                                D(t.widthM),
                                                                E(t.heightM),
                                                                f(t.rt60),
                                                                S(t.noiseFloor),
                                                                o(t.micCount),
                                                                B(t.talkerToMic),
                                                                L(t.talkerToFarthest),
                                                                U(t.speakerToListener),
                                                                v(t.micToSpeaker),
                                                                j(0.8 * t.talkerToFarthest),
                                                                ie((e) => ({ ...e, mics: t.micCount }))),
                                                                a(e);
                                                        })(e.target.value),
                                                    className:
                                                        "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                                    children: [
                                                        _jsx("option", {
                                                            value: "huddle",
                                                            children: "Huddle Room (2-4 people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "small_conference",
                                                            children: "Small Conference (4-6 people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "medium_conference",
                                                            children: "Medium Conference (8-12 people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "large_boardroom",
                                                            children: "Large Boardroom (12-20 people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "training_room",
                                                            children: "Training Room (20-30 people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "auditorium",
                                                            children: "Auditorium (50+ people)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "custom",
                                                            children: "Custom (Manual Entry)",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded-lg",
                                            children: [
                                                _jsx("span", {
                                                    className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                    children: "Units:",
                                                }),
                                                _jsx("button", {
                                                    onClick: () => t("metric"),
                                                    className:
                                                        "px-3 py-1 rounded text-sm font-medium transition-all " +
                                                        ("metric" === e
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:bg-gray-700"),
                                                    children: "Meters",
                                                }),
                                                _jsx("button", {
                                                    onClick: () => t("imperial"),
                                                    className:
                                                        "px-3 py-1 rounded text-sm font-medium transition-all " +
                                                        ("imperial" === e
                                                            ? "bg-blue-600 text-white"
                                                            : "bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:bg-gray-700"),
                                                    children: "Feet",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                "custom" !== s &&
                                    _jsx("div", {
                                        className: "mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",
                                        children: _jsxs("p", {
                                            className: "text-sm text-green-700",
                                            children: [
                                                _jsx("strong", { children: "Preset Applied: " }),
                                                r[s].description,
                                                " • Values auto-populated based on industry standards (Biamp, AVIXA).",
                                            ],
                                        }),
                                    }),
                                _jsxs("h3", {
                                    className: "text-md font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: ["Room Dimensions ", "imperial" === e ? "(feet)" : "(meters)"],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-6 bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: ["Room Length (", "imperial" === e ? "ft" : "m", ")"],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "6" : "2",
                                                    max: "imperial" === e ? "330" : "100",
                                                    value: l(R),
                                                    onChange: (e) => {
                                                        i(e.target.value, P), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: ["Room Width (", "imperial" === e ? "ft" : "m", ")"],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "6" : "2",
                                                    max: "imperial" === e ? "330" : "100",
                                                    value: l(A),
                                                    onChange: (e) => {
                                                        i(e.target.value, D), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: ["Room Height (", "imperial" === e ? "ft" : "m", ")"],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "0.5" : "0.1",
                                                    min: "imperial" === e ? "7" : "2",
                                                    max: "imperial" === e ? "65" : "20",
                                                    value: l(I),
                                                    onChange: (e) => {
                                                        i(e.target.value, E), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("h3", {
                                    className: "text-md font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Acoustic Parameters",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "RT60 (seconds)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.1",
                                                    min: "0.1",
                                                    max: "5",
                                                    value: b,
                                                    onChange: (e) => {
                                                        f("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                            a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Conference: 0.4-0.6s | Worship: 1.0-2.0s",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: [
                                                        "Listener Distance (",
                                                        "imperial" === e ? "ft" : "m",
                                                        ")",
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "2" : "0.5",
                                                    value: l(y),
                                                    onChange: (e) => {
                                                        i(e.target.value, j), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Speaker to farthest listener",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: [
                                                        "Mic-to-Speaker Distance (",
                                                        "imperial" === e ? "ft" : "m",
                                                        ")",
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "2" : "0.5",
                                                    max: "imperial" === e ? "65" : "20",
                                                    value: l(_),
                                                    onChange: (e) => {
                                                        i(e.target.value, v), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "For ERL: Closer = worse echo",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Target SPL Application",
                                                }),
                                                _jsxs("select", {
                                                    value: N,
                                                    onChange: (e) => w(e.target.value),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", {
                                                            value: "voice",
                                                            children: "Voice/Conferencing (65 dBA)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "presentation",
                                                            children: "Presentation (75 dBA)",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Room Absorption Loss (dB)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.5",
                                                    min: "0",
                                                    max: "10",
                                                    value: C,
                                                    onChange: (e) =>
                                                        M("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Noise Floor (dBA)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: k,
                                                    onChange: (e) =>
                                                        S("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "NC-25: ~35 dBA | NC-35: ~45 dBA",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "SPL 95th Percentile (dB)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: O,
                                                    onChange: (e) =>
                                                        z("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "SPL 5th Percentile (dB)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "1",
                                                    value: G,
                                                    onChange: (e) =>
                                                        X("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",
                                    children: _jsxs("p", {
                                        className: "text-xs text-green-700",
                                        children: [
                                            _jsx("strong", { children: "AVIXA ACR:" }),
                                            " ACR = SPL_95% - SPL_5% | Pass: ACR ≤ 6 dB",
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    "feedback" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🔊" }), " PAG/NAG Feedback Analysis"],
                                }),
                                _jsx("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4 border border-blue-200 dark:border-blue-800",
                                    children: _jsxs("p", {
                                        className: "text-sm text-blue-800 dark:text-blue-200",
                                        children: [
                                            _jsx("strong", { children: "Shure PAG/NAG:" }),
                                            " PAG (Potential Acoustic Gain) must exceed NAG (Needed Acoustic Gain) to avoid feedback. Formula: PAG = 20log(D1) - 20log(D2) + 20log(D0) - 20log(Ds) - 10log(NOM) - 6dB FSM",
                                        ],
                                    }),
                                }),
                                _jsx("h3", {
                                    className: "text-md font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Microphone Configuration",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-3 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Microphone Pattern",
                                                }),
                                                _jsxs("select", {
                                                    value: q,
                                                    onChange: (e) => $(e.target.value),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", {
                                                            value: "omni",
                                                            children: "Omnidirectional (+0 dB)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "cardioid",
                                                            children: "Cardioid (+4.8 dB)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "supercardioid",
                                                            children: "Supercardioid (+5.7 dB)",
                                                        }),
                                                        _jsx("option", {
                                                            value: "hypercardioid",
                                                            children: "Hypercardioid (+6 dB)",
                                                        }),
                                                    ],
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Directivity bonus improves PAG",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: [
                                                        "Talker to Mic Distance (",
                                                        "imperial" === e ? "ft" : "m",
                                                        ")",
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "0.5" : "0.1",
                                                    min: "imperial" === e ? "0.5" : "0.1",
                                                    max: "imperial" === e ? "16" : "5",
                                                    value: l(F),
                                                    onChange: (e) => {
                                                        i(e.target.value, B), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Ds: Closer = better gain",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "flex items-center gap-3 pt-6",
                                            children: [
                                                _jsx("input", {
                                                    type: "checkbox",
                                                    id: "useAutomixer",
                                                    checked: W,
                                                    onChange: (e) => {
                                                        const t = e.target.checked;
                                                        V(t),
                                                            t && !J.includes("automixer")
                                                                ? Q((e) => [...e, "automixer"])
                                                                : !t &&
                                                                  J.includes("automixer") &&
                                                                  Q((e) => e.filter((e) => "automixer" !== e));
                                                    },
                                                    className: "w-4 h-4 text-blue-600 rounded focus:ring-blue-500",
                                                }),
                                                _jsxs("label", {
                                                    htmlFor: "useAutomixer",
                                                    className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                    children: [
                                                        "Use Automixer ",
                                                        _jsx("span", {
                                                            className: "text-green-600",
                                                            children: "(NOM=1)",
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("h3", {
                                    className: "text-md font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                    children: ["System Distances (PAG/NAG) ", "imperial" === e ? "- feet" : "- meters"],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-4 mb-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: [
                                                        "Talker to Farthest Listener (",
                                                        "imperial" === e ? "ft" : "m",
                                                        ")",
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "3" : "1",
                                                    max: "imperial" === e ? "165" : "50",
                                                    value: l(T),
                                                    onChange: (e) => {
                                                        i(e.target.value, L), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "D0: Distance without reinforcement",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: [
                                                        "Nearest Listener to Speaker (",
                                                        "imperial" === e ? "ft" : "m",
                                                        ")",
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "imperial" === e ? "1" : "0.5",
                                                    min: "imperial" === e ? "2" : "0.5",
                                                    max: "imperial" === e ? "65" : "20",
                                                    value: l(H),
                                                    onChange: (e) => {
                                                        i(e.target.value, U), a("custom");
                                                    },
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "D2: Speaker to audience front row",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200",
                                    children: _jsxs("p", {
                                        className: "text-xs text-orange-700",
                                        children: [
                                            _jsx("strong", { children: "Feedback Stability Margin (FSM):" }),
                                            " A 6 dB margin is automatically included in PAG calculation. PAG - NAG should be ≥ 0 for stable operation.",
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    "dsp" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🎛️" }), " DSP Processing Blocks"],
                                }),
                                _jsx("div", {
                                    className: "grid md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",
                                    children: [
                                        {
                                            id: "aec",
                                            name: "AEC (Echo Cancellation)",
                                            mips: "Variable",
                                            perChannel: 2,
                                            note: "base 5 + 2/ch + 0.02/ms tail",
                                        },
                                        { id: "eq", name: "Parametric EQ", mips: "1.5", perChannel: 1.5 },
                                        { id: "compressor", name: "Compressor", mips: "0.8", perChannel: 0.8 },
                                        { id: "limiter", name: "Limiter", mips: "0.5", perChannel: 0.5 },
                                        { id: "gate", name: "Noise Gate", mips: "0.4", perChannel: 0.4 },
                                        { id: "delay", name: "Delay", mips: "0.3", isBase: !0 },
                                        { id: "matrix", name: "Matrix Router", mips: "Variable", perCrosspoint: 0.005 },
                                        { id: "filter", name: "Crossover/Filter", mips: "0.2", perChannel: 0.2 },
                                        { id: "agc", name: "AGC", mips: "1.2", perChannel: 1.2 },
                                        {
                                            id: "feedback_suppressor",
                                            name: "Feedback Suppressor",
                                            mips: "3.0",
                                            perChannel: 3,
                                        },
                                        { id: "noise_reduction", name: "Noise Reduction", mips: "2.0", perChannel: 2 },
                                        { id: "automixer", name: "Automixer", mips: "Variable", perChannel: 1 },
                                    ].map((e) => {
                                        let t = e.mips,
                                            s = !1,
                                            a = 0;
                                        try {
                                            const r = Object.values(le).reduce((e, t) => e + (Number(t) || 0), 0),
                                                l = Object.values(ne).reduce((e, t) => e + (Number(t) || 0), 0),
                                                i = r + l;
                                            if ("aec" === e.id) {
                                                const e = Math.min(
                                                    400,
                                                    Math.max(100, 50 * Math.ceil((1e3 * (b || 0.5) * 1.5) / 50))
                                                );
                                                (a = 5 + 2 * (n || 4) + 0.02 * e), (t = a.toFixed(1)), (s = !0);
                                            } else
                                                "matrix" === e.id
                                                    ? ((a = 0.005 * r * l), (t = a.toFixed(1)), (s = !0))
                                                    : "automixer" === e.id
                                                      ? ((a = 1 * (n || 4)), (t = a.toFixed(1)), (s = !0))
                                                      : e.isBase
                                                        ? (t = e.mips)
                                                        : e.perChannel &&
                                                          ((a = e.perChannel * i), (t = a.toFixed(1)), (s = !0));
                                        } catch (s) {
                                            t = e.mips;
                                        }
                                        return _jsxs(
                                            "button",
                                            {
                                                onClick: () =>
                                                    ((e) => {
                                                        const t = !J.includes(e);
                                                        Q((t) =>
                                                            t.includes(e) ? t.filter((t) => t !== e) : [...t, e]
                                                        ),
                                                            "automixer" === e && V(t);
                                                    })(e.id),
                                                className:
                                                    "p-3 rounded-lg border text-left transition-all " +
                                                    (J.includes(e.id)
                                                        ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300 text-blue-800 dark:text-blue-200"
                                                        : "bg-gray-50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:bg-gray-700"),
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex items-center justify-between",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "font-medium text-sm",
                                                                children: e.name,
                                                            }),
                                                            _jsx("span", {
                                                                className:
                                                                    "w-5 h-5 rounded flex items-center justify-center text-xs " +
                                                                    (J.includes(e.id)
                                                                        ? "bg-blue-600 text-white"
                                                                        : "bg-gray-300 text-gray-600 dark:text-gray-400"),
                                                                children: J.includes(e.id) ? "✓" : "",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className:
                                                            "text-xs mt-1 " + (s ? "text-blue-500" : "text-gray-500 dark:text-gray-400"),
                                                        children: ["~", t, " MIPS", s ? "" : "/ch"],
                                                    }),
                                                ],
                                            },
                                            e.id
                                        );
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-4 mt-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Sample Rate",
                                                }),
                                                _jsxs("select", {
                                                    value: K,
                                                    onChange: (e) => Y(Number(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", { value: "44100", children: "44.1 kHz" }),
                                                        _jsx("option", {
                                                            value: "48000",
                                                            children: "48 kHz (Standard)",
                                                        }),
                                                        _jsx("option", { value: "96000", children: "96 kHz" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Bit Depth",
                                                }),
                                                _jsxs("select", {
                                                    value: Z,
                                                    onChange: (e) =>
                                                        ee("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", { value: "16", children: "16-bit" }),
                                                        _jsx("option", { value: "24", children: "24-bit (Standard)" }),
                                                        _jsx("option", { value: "32", children: "32-bit float" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    "io" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🔀" }), " I/O Matrix Configuration"],
                                }),
                                _jsx("div", {
                                    className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4 border border-blue-200 dark:border-blue-800",
                                    children: _jsxs("p", {
                                        className: "text-sm text-blue-800 dark:text-blue-200",
                                        children: [
                                            _jsx("strong", { children: "About I/O Matrix:" }),
                                            " Define all audio inputs and outputs for your DSP system. The matrix size (inputs × outputs) determines routing complexity and DSP resource requirements. Each input can potentially be routed to any output.",
                                        ],
                                    }),
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("h3", {
                                                    className:
                                                        "font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",
                                                    children: [
                                                        _jsx("span", { className: "text-green-600", children: "📥" }),
                                                        " Inputs",
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-3",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Microphones",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children:
                                                                                "Wired mics (table, ceiling, handheld)",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.mics,
                                                                    onChange: (e) => ye("mics", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Program Audio",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children:
                                                                                "Background music, paging sources",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.programAudio,
                                                                    onChange: (e) => ye("programAudio", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "USB/VoIP",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Soft codec, Teams/Zoom inputs",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.usbVoip,
                                                                    onChange: (e) => ye("usbVoip", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Playback",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Media players, Blu-ray, signage",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.playback,
                                                                    onChange: (e) => ye("playback", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Wireless Mics",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Bodypack, handheld receivers",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.wireless,
                                                                    onChange: (e) => ye("wireless", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "HDMI Audio",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "De-embedded from video sources",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: le.hdmiAudio,
                                                                    onChange: (e) => ye("hdmiAudio", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded text-sm text-green-700",
                                                    children: [
                                                        "Total Inputs: ",
                                                        Object.values(le).reduce((e, t) => e + t, 0),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("h3", {
                                                    className:
                                                        "font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",
                                                    children: [
                                                        _jsx("span", { className: "text-blue-600", children: "📤" }),
                                                        " Outputs",
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-3",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Loudspeakers",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Ceiling, wall, floor monitors",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: ne.loudspeakers,
                                                                    onChange: (e) => je("loudspeakers", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Amplifier Channels",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Feeds to external power amps",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: ne.amplifiers,
                                                                    onChange: (e) => je("amplifiers", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "UC Codec",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "USB to Teams/Zoom/WebEx",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: ne.ucCodec,
                                                                    onChange: (e) => je("ucCodec", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Overflow/Lobby",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Adjacent rooms, lobby feeds",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: ne.overflow,
                                                                    onChange: (e) => je("overflow", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-3",
                                                            children: [
                                                                _jsxs("div", {
                                                                    className: "w-40",
                                                                    children: [
                                                                        _jsx("label", {
                                                                            className:
                                                                                "text-sm font-medium text-gray-700 dark:text-gray-300",
                                                                            children: "Recording",
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-500 dark:text-gray-400",
                                                                            children: "Archive, broadcast, streaming",
                                                                        }),
                                                                    ],
                                                                }),
                                                                _jsx("input", {
                                                                    type: "number",
                                                                    min: "0",
                                                                    max: "64",
                                                                    value: ne.recording,
                                                                    onChange: (e) => je("recording", e.target.value),
                                                                    className:
                                                                        "w-20 px-2 py-1 border rounded text-center",
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm text-blue-700",
                                                    children: [
                                                        "Total Outputs: ",
                                                        Object.values(ne).reduce((e, t) => e + t, 0),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",
                                    children: _jsxs("p", {
                                        className: "text-sm text-purple-700",
                                        children: [
                                            _jsx("strong", { children: "Matrix Size:" }),
                                            " ",
                                            Object.values(le).reduce((e, t) => e + t, 0),
                                            " × ",
                                            Object.values(ne).reduce((e, t) => e + t, 0),
                                            " = ",
                                            Object.values(le).reduce((e, t) => e + t, 0) *
                                                Object.values(ne).reduce((e, t) => e + t, 0),
                                            " crosspoints",
                                        ],
                                    }),
                                }),
                                _jsx("div", {
                                    className: "mt-3 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg border",
                                    children: _jsxs("p", {
                                        className: "text-xs text-gray-600 dark:text-gray-400",
                                        children: [
                                            _jsx("strong", { children: "💡 Tip:" }),
                                            " Count stereo sources as 2 channels. Network audio (Dante/AVB) channels are configured in the Network tab. The matrix size affects DSP resource requirements - larger matrices need more powerful processors.",
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    "network" === pe &&
                        _jsxs("div", {
                            children: [
                                _jsxs("h2", {
                                    className: "text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",
                                    children: [_jsx("span", { children: "🌐" }), " Network Audio & Latency"],
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Network Type",
                                                }),
                                                _jsxs("select", {
                                                    value: ae,
                                                    onChange: (e) => re(e.target.value),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    children: [
                                                        _jsx("option", { value: "dante", children: "Dante" }),
                                                        _jsx("option", { value: "avb", children: "AVB/Milan" }),
                                                        _jsx("option", { value: "ndi", children: "NDI" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Channel Count",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    max: "512",
                                                    value: te,
                                                    onChange: (e) =>
                                                        se(
                                                            "" === e.target.value || "" === e.target.value
                                                                ? ""
                                                                : parseInt(e.target.value)
                                                        ),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "A/D & D/A Latency (ms)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.1",
                                                    min: "0.1",
                                                    value: de,
                                                    onChange: (e) =>
                                                        ce("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Typical: 0.6-1.4 ms",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                    children: "Network Latency (ms)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.1",
                                                    min: "0.1",
                                                    value: me,
                                                    onChange: (e) =>
                                                        xe("" === e.target.value ? "" : parseFloat(e.target.value)),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                    children: "Dante/AVB: 0.25-2 ms",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "mt-4 p-3 bg-orange-50 rounded-lg",
                                    children: _jsxs("p", {
                                        className: "text-xs text-orange-700",
                                        children: [
                                            _jsx("strong", { children: "Dante Bandwidth:" }),
                                            " (Sample Rate × Bit Depth × Channels × 2) ÷ 1,000,000 Mbps",
                                        ],
                                    }),
                                }),
                            ],
                        }),
                ],
            }),
            _jsx("button", {
                onClick: () => {
                    he(
                        calculateDSP({
                            micCount: n,
                            micLevelDbv: d,
                            nominalSystemLevelDbu: m,
                            maxInputLevelDbu: u,
                            maxOutputLevelDbu: p,
                            rt60Seconds: b,
                            listenerDistanceM: y,
                            micToSpeakerDistanceM: _,
                            targetSplType: N,
                            roomAbsorptionLossDb: C,
                            noiseFloorDba: k,
                            roomLengthM: R,
                            roomWidthM: A,
                            roomHeightM: I,
                            talkerToMicM: F,
                            talkerToFarthestListenerM: T,
                            nearestListenerToSpeakerM: H,
                            micPattern: q,
                            useAutomixer: W,
                            spl95Percentile: O,
                            spl5Percentile: G,
                            dspBlocks: J,
                            sampleRate: K,
                            bitDepth: Z,
                            danteChannelCount: te,
                            networkType: ae,
                            inputs: le,
                            outputs: ne,
                            adDaLatencyMs: de,
                            networkLatencyMs: me,
                        })
                    );
                },
                className:
                    "w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 rounded-xl transition-all shadow-lg dark:shadow-gray-950/30 hover:shadow-xl mb-8",
                children: "🔬 Calculate DSP System Requirements",
            }),
            ue &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className:
                                "rounded-xl p-6 border-2 " +
                                (ue.summary.overallScore >= 80
                                    ? "bg-green-50 dark:bg-green-900/20 border-green-300"
                                    : ue.summary.overallScore >= 60
                                      ? "bg-orange-50 border-orange-300"
                                      : "bg-red-50 dark:bg-red-900/20 border-red-300"),
                            children: [
                                _jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("h2", {
                                                    className: "text-2xl font-bold text-gray-800",
                                                    children: ["System Score: ", ue.summary.overallScore, "%"],
                                                }),
                                                _jsxs("p", {
                                                    className: "text-gray-600 dark:text-gray-400",
                                                    children: [
                                                        ue.summary.checksPass,
                                                        "/",
                                                        ue.summary.checksTotal,
                                                        " checks passed • ",
                                                        ue.summary.overallRating,
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "text-6xl",
                                            children:
                                                ue.summary.overallScore >= 80
                                                    ? "✅"
                                                    : ue.summary.overallScore >= 60
                                                      ? "⚠️"
                                                      : "❌",
                                        }),
                                    ],
                                }),
                                ue.errors &&
                                    ue.errors.length > 0 &&
                                    _jsxs("div", {
                                        className: "mt-4 p-4 bg-red-100 rounded-lg border border-red-300",
                                        children: [
                                            _jsx("p", {
                                                className: "text-sm font-semibold text-red-800 dark:text-red-200 mb-3",
                                                children: "❌ Critical Issues - Must Resolve:",
                                            }),
                                            _jsx("div", {
                                                className: "space-y-3",
                                                children: ue.errors.map((e, t) => {
                                                    const s = ((e) => {
                                                        const t = e.toLowerCase();
                                                        return (t.includes("pag") && t.includes("nag")) ||
                                                            t.includes("feedback")
                                                            ? {
                                                                  tip: "System will feedback before achieving needed gain. Halve talker-to-mic distance (+6dB), double mic-to-speaker distance (+6dB), use directional mics (+5dB), or enable automixer.",
                                                                  actions: [
                                                                      "Move mics closer to talkers",
                                                                      "Increase speaker-to-mic distance",
                                                                      "Switch to cardioid/supercardioid mics",
                                                                      "Enable automixer/gating",
                                                                  ],
                                                              }
                                                            : t.includes("erl") || t.includes("aec")
                                                              ? {
                                                                    tip: "AEC cannot function with low Echo Return Loss. Increase physical separation between mics and speakers, add acoustic treatment.",
                                                                    actions: [
                                                                        "Increase mic-speaker separation",
                                                                        "Reduce RT60 with acoustic panels",
                                                                        "Use beamforming microphone arrays",
                                                                        "Consider ceiling speakers aimed away from mics",
                                                                    ],
                                                                }
                                                              : t.includes("snr") || t.includes("signal")
                                                                ? {
                                                                      tip: "SNR too low for intelligible speech. Reduce ambient noise or increase signal level.",
                                                                      actions: [
                                                                          "Address HVAC/mechanical noise",
                                                                          "Use higher sensitivity microphones",
                                                                          "Position mics closer to sources",
                                                                          "Add acoustic isolation",
                                                                      ],
                                                                  }
                                                                : t.includes("dsp") ||
                                                                    t.includes("mips") ||
                                                                    t.includes("very heavy")
                                                                  ? {
                                                                        tip: "DSP is overloaded and will cause audio dropouts, glitches, and system instability. Reduce processing or upgrade hardware.",
                                                                        actions: [
                                                                            "Upgrade to enterprise DSP",
                                                                            "Distribute across multiple units",
                                                                            "Remove non-essential processing",
                                                                            "Keep utilization under 70%",
                                                                        ],
                                                                    }
                                                                  : {
                                                                        tip: "This issue must be resolved before the system can function properly.",
                                                                        actions: [
                                                                            "Consult with acoustic engineer",
                                                                            "Review system design parameters",
                                                                        ],
                                                                    };
                                                    })(e);
                                                    return _jsxs(
                                                        "div",
                                                        {
                                                            className: "p-3 bg-white dark:bg-gray-800 rounded-lg border border-red-200 dark:border-red-800",
                                                            children: [
                                                                _jsxs("p", {
                                                                    className: "text-sm text-red-800 dark:text-red-200 font-medium",
                                                                    children: ["❌ ", e],
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "mt-2 pl-3 border-l-2 border-red-300",
                                                                    children: [
                                                                        _jsxs("p", {
                                                                            className:
                                                                                "text-xs text-red-700 font-medium mb-1",
                                                                            children: ["🔧 Fix: ", s.tip],
                                                                        }),
                                                                        _jsx("div", {
                                                                            className: "flex flex-wrap gap-1 mt-1",
                                                                            children: s.actions.map((e, t) =>
                                                                                _jsx(
                                                                                    "span",
                                                                                    {
                                                                                        className:
                                                                                            "px-2 py-0.5 bg-red-50 dark:bg-red-900/20 text-red-600 text-xs rounded",
                                                                                        children: e,
                                                                                    },
                                                                                    t
                                                                                )
                                                                            ),
                                                                        }),
                                                                    ],
                                                                }),
                                                            ],
                                                        },
                                                        t
                                                    );
                                                }),
                                            }),
                                        ],
                                    }),
                                ue.warnings &&
                                    ue.warnings.length > 0 &&
                                    _jsxs("div", {
                                        className: "mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg",
                                        children: [
                                            _jsx("p", {
                                                className: "text-sm font-semibold text-orange-700 mb-3",
                                                children: "⚠️ Warnings & Recommendations:",
                                            }),
                                            _jsx("div", {
                                                className: "space-y-3",
                                                children: ue.warnings.map((e, t) => {
                                                    const s = ((e) => {
                                                        const t = e.toLowerCase();
                                                        return t.includes("headroom")
                                                            ? {
                                                                  tip: "Increase amplifier power or reduce nominal operating level. Target 10-12dB headroom for speech, 15-20dB for music.",
                                                                  standard: "AVIXA Standard",
                                                              }
                                                            : t.includes("feedback") ||
                                                                t.includes("pag") ||
                                                                t.includes("nag")
                                                              ? {
                                                                    tip: "Move mics closer to talkers, increase mic-to-speaker distance, use directional mics, or enable automixer.",
                                                                    standard: "Industry Best Practice",
                                                                }
                                                              : t.includes("acr") || t.includes("coverage")
                                                                ? {
                                                                      tip: "Add distributed speakers or adjust aiming. Target ≤6dB variation per AVIXA A2 category.",
                                                                      standard: "AVIXA A102.01",
                                                                  }
                                                                : t.includes("erl") || t.includes("echo")
                                                                  ? {
                                                                        tip: "Increase mic-speaker separation, add acoustic treatment, or use beamforming microphones.",
                                                                        standard: "AEC Best Practice",
                                                                    }
                                                                  : t.includes("snr") ||
                                                                      t.includes("signal") ||
                                                                      t.includes("noise")
                                                                    ? {
                                                                          tip: "Reduce ambient noise (target NC-30/35dBA), use higher sensitivity mics, or position mics closer to sources.",
                                                                          standard: "ANSI/ASA S12.60",
                                                                      }
                                                                    : t.includes("latency")
                                                                      ? {
                                                                            tip: "Reduce processing blocks, configure network audio for lower latency, minimize conversion stages.",
                                                                            standard: "Live Sound < 20ms",
                                                                        }
                                                                      : t.includes("rt60") || t.includes("reverb")
                                                                        ? {
                                                                              tip: "Install acoustic panels, ceiling clouds, or carpet. Target RT60 of 0.4-0.6s for conferencing.",
                                                                              standard: "AVIXA/ASA",
                                                                          }
                                                                        : t.includes("dsp load") ||
                                                                            t.includes("processing") ||
                                                                            t.includes("heavy") ||
                                                                            t.includes("mips")
                                                                          ? {
                                                                                tip: "Reduce active processing blocks, remove processing from unused channels, or upgrade to higher-capacity DSP. Keep utilization under 70% for stability and headroom.",
                                                                                standard: "DSP Best Practice",
                                                                            }
                                                                          : t.includes("nom") ||
                                                                              t.includes("automixer") ||
                                                                              t.includes("open mic")
                                                                            ? {
                                                                                  tip: "Enable automixer to improve PAG. Each doubling of open mics costs 3dB of gain before feedback.",
                                                                                  standard: "NOM Equation",
                                                                              }
                                                                            : t.includes("distance") ||
                                                                                t.includes("critical")
                                                                              ? {
                                                                                    tip: "Position microphones within the critical distance for best direct-to-reverberant ratio.",
                                                                                    standard: "Acoustic Design",
                                                                                }
                                                                              : {
                                                                                    tip: "Review system design parameters and consult manufacturer specifications.",
                                                                                    standard: "General",
                                                                                };
                                                    })(e);
                                                    return _jsxs(
                                                        "div",
                                                        {
                                                            className:
                                                                "p-3 bg-orange-50 rounded-lg border border-orange-200",
                                                            children: [
                                                                _jsxs("p", {
                                                                    className: "text-sm text-orange-800 font-medium",
                                                                    children: ["⚠️ ", e],
                                                                }),
                                                                _jsxs("div", {
                                                                    className: "mt-2 flex items-start gap-2",
                                                                    children: [
                                                                        _jsx("span", {
                                                                            className: "text-blue-500 mt-0.5",
                                                                            children: "💡",
                                                                        }),
                                                                        _jsxs("div", {
                                                                            children: [
                                                                                _jsx("p", {
                                                                                    className: "text-xs text-gray-700 dark:text-gray-300",
                                                                                    children: s.tip,
                                                                                }),
                                                                                _jsx("p", {
                                                                                    className:
                                                                                        "text-xs text-gray-400 mt-1",
                                                                                    children: s.standard,
                                                                                }),
                                                                            ],
                                                                        }),
                                                                    ],
                                                                }),
                                                            ],
                                                        },
                                                        t
                                                    );
                                                }),
                                            }),
                                        ],
                                    }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4",
                            children: [
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "🎚️" }), " Gain Structure"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Input Headroom:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.gainStructure.inputHeadroomDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Required Input Gain:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.gainStructure.requiredInputGainDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "System Headroom:",
                                                        }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold truncate " +
                                                                (ue.gainStructure.systemHeadroomDb >=
                                                                ue.gainStructure.headroomTarget
                                                                    ? "text-green-600"
                                                                    : ue.gainStructure.systemHeadroomDb >=
                                                                        ue.gainStructure.headroomTarget - 3
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: [ue.gainStructure.systemHeadroomDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "pt-2 border-t",
                                                    children: _e(
                                                        ue.gainStructure.headroomPass,
                                                        `≥${ue.gainStructure.headroomTarget} dB`
                                                    ),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                ue.nom &&
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                        children: [
                                            _jsxs("h3", {
                                                className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                                children: [_jsx("span", { children: "🎤" }), " NOM (Open Mics)"],
                                            }),
                                            _jsxs("div", {
                                                className: "space-y-2 text-sm",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Mic Count:",
                                                            }),
                                                            _jsx("span", {
                                                                className: "font-bold truncate",
                                                                children: ue.nom.micCount,
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Effective NOM:",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate",
                                                                children: [
                                                                    ue.nom.effectiveNom,
                                                                    ue.nom.useAutomixer ? " (automixer)" : "",
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "NOM Penalty:",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate text-orange-600",
                                                                children: ["-", ue.nom.nomPenaltyDb, " dB"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Mic Pattern:",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate text-green-600",
                                                                children: [
                                                                    ue.nom.micPattern,
                                                                    " (+",
                                                                    ue.nom.micDirectivityBonus,
                                                                    " dB)",
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "pt-2 border-t text-xs text-gray-500 dark:text-gray-400",
                                                        children: ue.nom.recommendation,
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ue.pagNag &&
                                    _jsxs("div", {
                                        className:
                                            "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10 " +
                                            (ue.pagNag.feedbackMarginPass ? "" : "border-red-300 bg-red-50 dark:bg-red-900/20"),
                                        children: [
                                            _jsxs("h3", {
                                                className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                                children: [_jsx("span", { children: "🔊" }), " PAG/NAG (Feedback)"],
                                            }),
                                            _jsxs("div", {
                                                className: "space-y-2 text-sm",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "PAG (w/directivity):",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate",
                                                                children: [ue.pagNag.pagDb, " dB"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "NAG (Needed):",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate",
                                                                children: [ue.pagNag.nagDb, " dB"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400 font-semibold",
                                                                children: "Feedback Margin:",
                                                            }),
                                                            _jsxs("span", {
                                                                className:
                                                                    "font-bold truncate " +
                                                                    (ue.pagNag.feedbackMarginDb >= 6
                                                                        ? "text-green-600"
                                                                        : ue.pagNag.feedbackMarginDb >= 0
                                                                          ? "text-orange-600"
                                                                          : "text-red-600"),
                                                                children: [ue.pagNag.feedbackMarginDb, " dB"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "pt-2 border-t",
                                                        children: _jsxs("span", {
                                                            className:
                                                                "inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium " +
                                                                ("Excellent" === ue.pagNag.feedbackRiskRating ||
                                                                "Good" === ue.pagNag.feedbackRiskRating
                                                                    ? "bg-green-100 text-green-700"
                                                                    : "Marginal" === ue.pagNag.feedbackRiskRating ||
                                                                        "At Risk" === ue.pagNag.feedbackRiskRating
                                                                      ? "bg-orange-100 text-orange-700"
                                                                      : "bg-red-100 text-red-700"),
                                                            children: [
                                                                "Excellent" === ue.pagNag.feedbackRiskRating ||
                                                                "Good" === ue.pagNag.feedbackRiskRating
                                                                    ? "✅"
                                                                    : "Marginal" === ue.pagNag.feedbackRiskRating ||
                                                                        "At Risk" === ue.pagNag.feedbackRiskRating
                                                                      ? "⚠️"
                                                                      : "❌",
                                                                " ",
                                                                ue.pagNag.feedbackRiskRating,
                                                            ],
                                                        }),
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ue.room &&
                                    _jsxs("div", {
                                        className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                        children: [
                                            _jsxs("h3", {
                                                className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                                children: [_jsx("span", { children: "🏠" }), " Room Analysis"],
                                            }),
                                            _jsxs("div", {
                                                className: "space-y-2 text-sm",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Volume:",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate",
                                                                children: [ue.room.volumeM3, " m³"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Critical Distance:",
                                                            }),
                                                            _jsxs("span", {
                                                                className: "font-bold truncate",
                                                                children: [ue.room.criticalDistanceM, " m"],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex justify-between min-w-0",
                                                        children: [
                                                            _jsx("span", {
                                                                className: "text-gray-600 dark:text-gray-400",
                                                                children: "Dc Rating:",
                                                            }),
                                                            _jsx("span", {
                                                                className:
                                                                    "font-bold truncate " +
                                                                    ("Excellent" === ue.room.roomAcousticsRating ||
                                                                    "Good" === ue.room.roomAcousticsRating
                                                                        ? "text-green-600"
                                                                        : "Acceptable" ===
                                                                                ue.room.roomAcousticsRating ||
                                                                            "Challenging" ===
                                                                                ue.room.roomAcousticsRating
                                                                          ? "text-orange-600"
                                                                          : "text-red-600"),
                                                                children: ue.room.roomAcousticsRating,
                                                            }),
                                                        ],
                                                    }),
                                                    _jsx("div", {
                                                        className: "pt-2 border-t text-xs",
                                                        children: _jsxs("span", {
                                                            className: ue.room.micWithinCriticalDistance
                                                                ? "text-green-600"
                                                                : "text-orange-600",
                                                            children: [
                                                                ue.room.micWithinCriticalDistance ? "✅" : "⚠️",
                                                                " Mic ",
                                                                ue.room.micWithinCriticalDistance
                                                                    ? "within"
                                                                    : "outside",
                                                                " critical zone",
                                                            ],
                                                        }),
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "🔊" }), " SPL Requirements"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Target SPL:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [
                                                                ue.splCalculation.targetSplDb,
                                                                " dBA (",
                                                                ue.splCalculation.targetSplType,
                                                                ")",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Distance Loss:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.splCalculation.distanceLossDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Room Absorption:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.splCalculation.roomAbsorptionLossDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "pt-2 border-t",
                                                    children: _jsxs("span", {
                                                        className: "text-lg font-bold text-blue-700",
                                                        children: [
                                                            "Required: ",
                                                            ue.splCalculation.requiredSpeakerOutputDb,
                                                            " dB SPL",
                                                        ],
                                                    }),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "📊" }), " ACR (AVIXA)"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "95th Percentile:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.acr.spl95Percentile, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "5th Percentile:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.acr.spl5Percentile, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "ACR Value:",
                                                        }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold text-lg truncate " +
                                                                (ue.acr.acrDb <= 3
                                                                    ? "text-green-600"
                                                                    : ue.acr.acrDb <= 6
                                                                      ? "text-blue-600"
                                                                      : ue.acr.acrDb <= 10
                                                                        ? "text-orange-600"
                                                                        : "text-red-600"),
                                                            children: [ue.acr.acrDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "pt-2 border-t flex items-center justify-between",
                                                    children: [
                                                        _e(ue.acr.acrPass, "≤6 dB"),
                                                        _jsx("span", {
                                                            className:
                                                                "text-xs font-medium " +
                                                                (ue.acr.acrRating.includes("Excellent") ||
                                                                ue.acr.acrRating.includes("Good")
                                                                    ? "text-green-600"
                                                                    : ue.acr.acrRating.includes("Acceptable")
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: ue.acr.acrRating,
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "🔇" }), " AEC (Echo Cancellation)"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Mic-to-Speaker:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.aec.micToSpeakerDistanceM, " m"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "RT60:" }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold truncate " +
                                                                (ue.aec.rt60Seconds <= 0.5
                                                                    ? "text-green-600"
                                                                    : ue.aec.rt60Seconds <= 0.8
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: [ue.aec.rt60Seconds, "s"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Recommended Tail:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.aec.aecTailLengthMs, " ms"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "ERL:" }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold " +
                                                                (ue.aec.erlDb >= 10
                                                                    ? "text-green-600"
                                                                    : ue.aec.erlDb >= 6
                                                                      ? "text-blue-600"
                                                                      : ue.aec.erlDb >= 3
                                                                        ? "text-orange-600"
                                                                        : "text-red-600"),
                                                            children: [ue.aec.erlDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "pt-2 border-t flex items-center justify-between",
                                                    children: [
                                                        _e(ue.aec.erlPass, "ERL ≥6 dB"),
                                                        _jsx("span", {
                                                            className:
                                                                "text-xs font-medium " +
                                                                ("Excellent" === ue.aec.erlRating ||
                                                                "Good" === ue.aec.erlRating
                                                                    ? "text-green-600"
                                                                    : "Acceptable" === ue.aec.erlRating
                                                                      ? "text-blue-600"
                                                                      : "Poor" === ue.aec.erlRating
                                                                        ? "text-orange-600"
                                                                        : "text-red-600"),
                                                            children: ue.aec.erlRating,
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className:
                                                        "mt-2 p-2 rounded text-xs " +
                                                        (ue.aec.erlPass
                                                            ? "bg-blue-50 dark:bg-blue-900/20 text-blue-700"
                                                            : "bg-red-50 dark:bg-red-900/20 text-red-700"),
                                                    children: ue.aec.erlPass
                                                        ? ue.aec.erlAdvice
                                                        : "💡 To improve: Increase mic-to-speaker distance, reduce RT60, or add acoustic treatment.",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "📉" }), " Noise & SNR"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Noise Floor:",
                                                        }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold truncate " +
                                                                (ue.noiseAndSensitivity.noiseFloorDba <= 35
                                                                    ? "text-green-600"
                                                                    : ue.noiseAndSensitivity.noiseFloorDba <= 45
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: [ue.noiseAndSensitivity.noiseFloorDba, " dBA"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "SNR:" }),
                                                        _jsxs("span", {
                                                            className:
                                                                "font-bold text-lg truncate " +
                                                                (ue.noiseAndSensitivity.snrDb >= 25
                                                                    ? "text-green-600"
                                                                    : ue.noiseAndSensitivity.snrDb >= 15
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: [ue.noiseAndSensitivity.snrDb, " dB"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Mic Sensitivity:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [
                                                                ue.noiseAndSensitivity.micSensitivityMvPa,
                                                                " mV/Pa",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "pt-2 border-t flex items-center justify-between",
                                                    children: [
                                                        _e(ue.noiseAndSensitivity.snrPass, "≥25 dB"),
                                                        _jsx("span", {
                                                            className:
                                                                "text-xs font-medium " +
                                                                ("Excellent" === ue.noiseAndSensitivity.snrRating ||
                                                                "Good" === ue.noiseAndSensitivity.snrRating
                                                                    ? "text-green-600"
                                                                    : "Acceptable" === ue.noiseAndSensitivity.snrRating
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: ue.noiseAndSensitivity.snrRating,
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "💻" }), " DSP Load"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Total MIPS:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold text-lg truncate",
                                                            children: ue.dspLoad.totalMips,
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Load Rating:",
                                                        }),
                                                        _jsx("span", {
                                                            className:
                                                                "font-bold truncate " +
                                                                ("Light" === ue.dspLoad.loadRating
                                                                    ? "text-green-600"
                                                                    : "Moderate" === ue.dspLoad.loadRating
                                                                      ? "text-blue-600"
                                                                      : "Heavy" === ue.dspLoad.loadRating
                                                                        ? "text-orange-600"
                                                                        : "text-red-600"),
                                                            children: ue.dspLoad.loadRating,
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Active Blocks:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold truncate",
                                                            children: ue.dspLoad.dspBlocks.length,
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "pt-2 border-t",
                                                    children: _jsx("div", {
                                                        className: "w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",
                                                        children: _jsx("div", {
                                                            className:
                                                                "h-2 rounded-full " +
                                                                (ue.dspLoad.totalMips < 100
                                                                    ? "bg-green-50 dark:bg-green-900/200"
                                                                    : ue.dspLoad.totalMips < 500
                                                                      ? "bg-orange-500"
                                                                      : "bg-red-50 dark:bg-red-900/200"),
                                                            style: {
                                                                width: `${Math.min(100, ue.dspLoad.totalMips / 10)}%`,
                                                            },
                                                        }),
                                                    }),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "🔀" }), " Matrix"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Inputs:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold truncate",
                                                            children: ue.matrix.totalInputs,
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Outputs:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold truncate",
                                                            children: ue.matrix.totalOutputs,
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Matrix Size:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold text-lg truncate",
                                                            children: ue.matrix.matrixSize,
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "pt-2 border-t",
                                                    children: _jsxs("span", {
                                                        className:
                                                            "px-2 py-1 rounded text-xs font-medium " +
                                                            ("Small" === ue.matrix.matrixSizeRating
                                                                ? "bg-green-100 text-green-700"
                                                                : "Medium" === ue.matrix.matrixSizeRating
                                                                  ? "bg-blue-100 text-blue-700"
                                                                  : "bg-purple-100 text-purple-700"),
                                                        children: [ue.matrix.matrixSizeRating, " System"],
                                                    }),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "⏱️" }), " Latency Budget"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "DSP Processing:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.latency.breakdown.dspProcessingMs, " ms"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsxs("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: ["Network (", ue.latency.networkType, "):"],
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [ue.latency.breakdown.networkTransportMs, " ms"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "A/D + D/A:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [
                                                                ue.latency.breakdown.adConversion +
                                                                    ue.latency.breakdown.daConversion,
                                                                " ms",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className:
                                                        "flex justify-between font-bold " +
                                                        (ue.latency.totalLatencyMs <= 10
                                                            ? "text-green-700"
                                                            : ue.latency.totalLatencyMs <= 20
                                                              ? "text-blue-700"
                                                              : ue.latency.totalLatencyMs <= 30
                                                                ? "text-orange-700"
                                                                : "text-red-700"),
                                                    children: [
                                                        _jsx("span", { children: "Total:" }),
                                                        _jsxs("span", {
                                                            className: "text-lg",
                                                            children: [ue.latency.totalLatencyMs, " ms"],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "pt-2 border-t flex items-center justify-between",
                                                    children: [
                                                        _e(ue.latency.latencyPass, "<20 ms"),
                                                        _jsx("span", {
                                                            className:
                                                                "text-xs font-medium " +
                                                                ("Excellent" === ue.latency.latencyRating ||
                                                                "Good" === ue.latency.latencyRating
                                                                    ? "text-green-600"
                                                                    : "Acceptable" === ue.latency.latencyRating
                                                                      ? "text-orange-600"
                                                                      : "text-red-600"),
                                                            children: ue.latency.latencyRating,
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl p-5 border shadow-sm dark:shadow-gray-950/10",
                                    children: [
                                        _jsxs("h3", {
                                            className: "font-semibold text-gray-800 mb-3 flex items-center gap-2",
                                            children: [_jsx("span", { children: "🌐" }), " Network Audio"],
                                        }),
                                        _jsxs("div", {
                                            className: "space-y-2 text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Channels:",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold truncate",
                                                            children: ue.networkAudio.channelCount,
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Per Channel:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold truncate",
                                                            children: [
                                                                ue.networkAudio.perChannelBandwidthKbps,
                                                                " Kbps",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between min-w-0",
                                                    children: [
                                                        _jsx("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Total Bandwidth:",
                                                        }),
                                                        _jsxs("span", {
                                                            className: "font-bold text-lg truncate",
                                                            children: [ue.networkAudio.totalBandwidthMbps, " Mbps"],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "pt-2 border-t",
                                                    children: _jsxs("span", {
                                                        className:
                                                            "px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",
                                                        children: [
                                                            "Recommended: ",
                                                            ue.networkAudio.recommendedSwitch,
                                                            " Switch",
                                                        ],
                                                    }),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border",
                            children: [
                                _jsx("h3", {
                                    className: "font-semibold text-gray-800 mb-4",
                                    children: "📐 Formulas Used (AVIXA / IEC 60268)",
                                }),
                                _jsxs("div", {
                                    className: "grid md:grid-cols-2 gap-4 text-xs font-mono text-gray-600 dark:text-gray-400",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Input Headroom:" }),
                                                " max_input - nominal_input",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Required Gain:" }),
                                                " nominal_level - mic_level",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "System Headroom:" }),
                                                " max_output - nominal_level",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Required SPL:" }),
                                                " target + 20×log₁₀(d/1) + absorption",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [_jsx("strong", { children: "ACR:" }), " SPL_95% - SPL_5%"],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "AEC Tail:" }),
                                                " 2 × RT60 × 1000 ms",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "SNR:" }),
                                                " desired_speech - noise_floor",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Mic Sensitivity:" }),
                                                " 10^((dBV + 94) / 20) mV/Pa",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Voltage Gain:" }),
                                                " 20 × log₁₀(V_out / V_in)",
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsx("strong", { children: "Dante BW:" }),
                                                " SR × bits × ch × 1.25 / 10⁶ Mbps",
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        ue.actionItems &&
                            ue.actionItems.length > 0 &&
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl p-6 border shadow-sm dark:shadow-gray-950/10",
                                children: [
                                    _jsx("h3", {
                                        className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",
                                        children: "📋 Action Items & Recommendations",
                                    }),
                                    _jsx("div", {
                                        className: "space-y-4",
                                        children: ue.actionItems.map((e, t) =>
                                            _jsxs(
                                                "div",
                                                {
                                                    className:
                                                        "p-4 rounded-lg border-l-4 " +
                                                        ("critical" === e.priority
                                                            ? "bg-red-50 dark:bg-red-900/20 border-red-500"
                                                            : "high" === e.priority
                                                              ? "bg-orange-50 border-orange-500"
                                                              : "medium" === e.priority
                                                                ? "bg-yellow-50 dark:bg-yellow-900/20 border-yellow-400"
                                                                : "bg-blue-50 dark:bg-blue-900/20 border-blue-400"),
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex items-center gap-2 mb-2",
                                                            children: [
                                                                _jsx("span", {
                                                                    className:
                                                                        "px-2 py-0.5 rounded text-xs font-bold uppercase " +
                                                                        ("critical" === e.priority
                                                                            ? "bg-red-200 text-red-800 dark:text-red-200"
                                                                            : "high" === e.priority
                                                                              ? "bg-orange-200 text-orange-800"
                                                                              : "medium" === e.priority
                                                                                ? "bg-yellow-200 text-yellow-800 dark:text-yellow-200"
                                                                                : "bg-blue-200 text-blue-800 dark:text-blue-200"),
                                                                    children: e.priority,
                                                                }),
                                                                _jsx("span", {
                                                                    className: "font-semibold text-gray-700 dark:text-gray-300",
                                                                    children: e.category,
                                                                }),
                                                            ],
                                                        }),
                                                        _jsx("p", {
                                                            className: "text-sm text-gray-700 dark:text-gray-300 font-medium mb-2",
                                                            children: e.issue,
                                                        }),
                                                        _jsx("ul", {
                                                            className: "text-sm text-gray-600 dark:text-gray-400 space-y-1 ml-4",
                                                            children: e.actions.map((e, t) =>
                                                                _jsxs("li", { className: "list-disc", children: e }, t)
                                                            ),
                                                        }),
                                                    ],
                                                },
                                                t
                                            )
                                        ),
                                    }),
                                ],
                            }),
                        ue.dspRecommendation &&
                            _jsxs("div", {
                                className:
                                    "bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6 border-2 border-purple-200 dark:border-purple-800 shadow-sm dark:shadow-gray-950/10",
                                children: [
                                    _jsxs("h3", {
                                        className: "text-xl font-bold text-purple-800 dark:text-purple-200 mb-4 flex items-center gap-2",
                                        children: [_jsx("span", { children: "🎛️" }), " DSP Selection Recommendation"],
                                    }),
                                    _jsxs("div", {
                                        className: "grid md:grid-cols-2 gap-6",
                                        children: [
                                            _jsxs("div", {
                                                children: [
                                                    _jsxs("div", {
                                                        className: "mb-4",
                                                        children: [
                                                            _jsx("p", {
                                                                className: "text-sm text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Recommended DSP Tier",
                                                            }),
                                                            _jsx("p", {
                                                                className:
                                                                    "text-2xl font-bold capitalize " +
                                                                    ("enterprise" === ue.dspRecommendation.tier
                                                                        ? "text-purple-700"
                                                                        : "professional" === ue.dspRecommendation.tier
                                                                          ? "text-indigo-700"
                                                                          : "mid-range" === ue.dspRecommendation.tier
                                                                            ? "text-blue-700"
                                                                            : "text-green-700"),
                                                                children: ue.dspRecommendation.tier,
                                                            }),
                                                            _jsx("p", {
                                                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                                children: ue.dspRecommendation.tierReason.join("; "),
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "mb-4",
                                                        children: [
                                                            _jsx("p", {
                                                                className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                                children: "Required Features:",
                                                            }),
                                                            _jsx("div", {
                                                                className: "flex flex-wrap gap-2",
                                                                children: ue.dspRecommendation.featuresNeeded.map(
                                                                    (e, t) =>
                                                                        _jsx(
                                                                            "span",
                                                                            {
                                                                                className:
                                                                                    "px-2 py-1 bg-white dark:bg-gray-800 rounded border text-xs text-gray-700 dark:text-gray-300",
                                                                                children: e,
                                                                            },
                                                                            t
                                                                        )
                                                                ),
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400",
                                                        children: [
                                                            _jsxs("p", {
                                                                children: [
                                                                    "Room Size: ",
                                                                    _jsx("span", {
                                                                        className: "font-medium capitalize",
                                                                        children: ue.dspRecommendation.roomSizeCategory,
                                                                    }),
                                                                ],
                                                            }),
                                                            _jsxs("p", {
                                                                children: [
                                                                    "I/O Count: ",
                                                                    ue.dspRecommendation.complexityFactors.ioCount,
                                                                    " channels",
                                                                ],
                                                            }),
                                                            _jsxs("p", {
                                                                children: [
                                                                    "Matrix: ",
                                                                    ue.dspRecommendation.complexityFactors.matrixSize,
                                                                    " crosspoints",
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("p", {
                                                        className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                        children: "Recommended Products:",
                                                    }),
                                                    _jsx("div", {
                                                        className: "space-y-2",
                                                        children: ue.dspRecommendation.options.map((e, t) =>
                                                            _jsxs(
                                                                "div",
                                                                {
                                                                    className:
                                                                        "bg-white dark:bg-gray-800 p-3 rounded-lg border shadow-sm dark:shadow-gray-950/10",
                                                                    children: [
                                                                        _jsxs("div", {
                                                                            className:
                                                                                "flex justify-between items-start",
                                                                            children: [
                                                                                _jsxs("div", {
                                                                                    children: [
                                                                                        _jsx("p", {
                                                                                            className:
                                                                                                "font-semibold text-gray-800 text-sm",
                                                                                            children:
                                                                                                e.brand + " " + e.model,
                                                                                        }),
                                                                                        _jsx("p", {
                                                                                            className:
                                                                                                "text-xs text-gray-500 dark:text-gray-400",
                                                                                            children: e.channels,
                                                                                        }),
                                                                                    ],
                                                                                }),
                                                                            ],
                                                                        }),
                                                                        _jsx("p", {
                                                                            className: "text-xs text-gray-600 dark:text-gray-400 mt-1",
                                                                            children: e.useCase,
                                                                        }),
                                                                    ],
                                                                },
                                                                t
                                                            )
                                                        ),
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                    _jsxs("div", {
                                        className: "mt-4 p-3 bg-white dark:bg-gray-800/50 rounded-lg",
                                        children: [
                                            _jsxs("p", {
                                                className: "text-xs text-gray-600 dark:text-gray-400 mb-3",
                                                children: [
                                                    _jsx("strong", { children: "Note:" }),
                                                    " DSP recommendations are based on your I/O requirements, processing needs, and room characteristics. Always verify specific product capabilities against your exact requirements and consult manufacturer specifications.",
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "border-t pt-3",
                                                children: [
                                                    _jsx("p", {
                                                        className: "text-xs font-semibold text-purple-700 mb-2",
                                                        children: "💡 DSP Selection Best Practices:",
                                                    }),
                                                    _jsxs("ul", {
                                                        className: "text-xs text-gray-600 dark:text-gray-400 space-y-1 ml-4",
                                                        children: [
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Plan for 30% I/O expansion - choose DSP with room to grow",
                                                            }),
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Ensure AEC tail length exceeds RT60 × 1.5 for effective echo cancellation",
                                                            }),
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Match network audio protocol (Dante/AES67/AVB) to existing infrastructure",
                                                            }),
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Verify USB audio support if soft codec integration is required",
                                                            }),
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Keep DSP processing load under 70% for stability and future expansion",
                                                            }),
                                                            _jsx("li", {
                                                                className: "list-disc",
                                                                children:
                                                                    "Consider redundancy options for mission-critical applications",
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                    ],
                }),
        ],
    });
}
function RackBuilderCalculator() {
    const [e, t] = useState([]),
        [s, a] = useState(""),
        [r, l] = useState("1"),
        [i, n] = useState("rack"),
        [o, d] = useState("full"),
        [c, m] = useState(25),
        [x, u] = useState(!1),
        [h, p] = useState([]),
        [g, b] = useState(null),
        [f, y] = useState(null),
        [j, _] = useState(null),
        [v, N] = useState({}),
        [w, C] = useState(null),
        [M, k] = useState(""),
        [S, R] = useState(null),
        [P, A] = useState(""),
        [D, I] = useState(null),
        [E, F] = useState(0),
        [B, T] = useState(0),
        [L, H] = useState("auto"),
        [U, q] = useState([]),
        [$, W] = useState(0),
        [V, O] = useState(null),
        [z, G] = useState(null),
        [X, J] = useState(!1),
        [Q, K] = useState(42),
        [Y, Z] = useState(!1),
        [ee, te] = useState(null),
        [se, ae] = useState(""),
        [re, le] = useState("1"),
        [ie, ne] = useState("rack"),
        [oe, de] = useState("full"),
        // Cache for PDF logo to avoid re-fetching on each export
        pdfLogoCacheRef = useRef(null),
        pdfLogoLoadingRef = useRef(false),
        ce = (useRef(null), [8, 12, 15, 18, 22, 25, 27, 32, 37, 42, 45]),
        me = 45,
        xe = [
            { bg: "bg-blue-50 dark:bg-blue-900/200", border: "border-blue-600", text: "text-white" },
            { bg: "bg-emerald-500", border: "border-emerald-600", text: "text-white" },
            { bg: "bg-violet-500", border: "border-violet-600", text: "text-white" },
            { bg: "bg-amber-50 dark:bg-amber-900/200", border: "border-amber-600", text: "text-white" },
            { bg: "bg-rose-500", border: "border-rose-600", text: "text-white" },
            { bg: "bg-cyan-500", border: "border-cyan-600", text: "text-white" },
            { bg: "bg-fuchsia-500", border: "border-fuchsia-600", text: "text-white" },
            { bg: "bg-lime-600", border: "border-lime-700", text: "text-white" },
        ],
        ue = (e) => {
            const t = "rack" === e.type,
                s = e.isHalfWidth || "half" === e.width,
                a = e.ru || 1;
            let r;
            return (
                (r = a <= 2 ? "small" : a <= 4 ? "medium" : "large"),
                t
                    ? s
                        ? "small" === r
                            ? {
                                  bg: "bg-blue-400",
                                  border: "border-blue-500 border-dashed",
                                  text: "text-white",
                                  label: "Rack Half 1-2U",
                              }
                            : "medium" === r
                              ? {
                                    bg: "bg-indigo-400",
                                    border: "border-indigo-500 border-dashed",
                                    text: "text-white",
                                    label: "Rack Half 3-4U",
                                }
                              : {
                                    bg: "bg-violet-400",
                                    border: "border-violet-500 border-dashed",
                                    text: "text-white",
                                    label: "Rack Half 5+U",
                                }
                        : "small" === r
                          ? {
                                bg: "bg-blue-600",
                                border: "border-blue-700",
                                text: "text-white",
                                label: "Rack Full 1-2U",
                            }
                          : "medium" === r
                            ? {
                                  bg: "bg-indigo-600",
                                  border: "border-indigo-700",
                                  text: "text-white",
                                  label: "Rack Full 3-4U",
                              }
                            : {
                                  bg: "bg-violet-600",
                                  border: "border-violet-700",
                                  text: "text-white",
                                  label: "Rack Full 5+U",
                              }
                    : s
                      ? "small" === r
                          ? {
                                bg: "bg-emerald-400",
                                border: "border-emerald-500 border-dashed",
                                text: "text-white",
                                label: "Shelf Half 1-2U",
                            }
                          : "medium" === r
                            ? {
                                  bg: "bg-teal-400",
                                  border: "border-teal-500 border-dashed",
                                  text: "text-white",
                                  label: "Shelf Half 3-4U",
                              }
                            : {
                                  bg: "bg-cyan-400",
                                  border: "border-cyan-500 border-dashed",
                                  text: "text-white",
                                  label: "Shelf Half 5+U",
                              }
                      : "small" === r
                        ? {
                              bg: "bg-emerald-600",
                              border: "border-emerald-700",
                              text: "text-white",
                              label: "Shelf Full 1-2U",
                          }
                        : "medium" === r
                          ? {
                                bg: "bg-teal-600",
                                border: "border-teal-700",
                                text: "text-white",
                                label: "Shelf Full 3-4U",
                            }
                          : {
                                bg: "bg-cyan-600",
                                border: "border-cyan-700",
                                text: "text-white",
                                label: "Shelf Full 5+U",
                            }
            );
        },
        [he, pe] = useState(!1);
    useEffect(() => {
        if (D) {
            F((e) => e + 1);
            const e = setTimeout(() => I(null), 4e3);
            return () => clearTimeout(e);
        }
    }, [D]);
    
    // Preload jsPDF library and logo on component mount for faster PDF export
    useEffect(() => {
        // Preload jsPDF library
        if (!window.jspdf) {
            const script = document.createElement("script");
            script.src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js";
            script.async = true;
            document.head.appendChild(script);
        }
        
        // Preload logo
        if (!pdfLogoCacheRef.current && !pdfLogoLoadingRef.current) {
            pdfLogoLoadingRef.current = true;
            const logoUrl = "https://avtoolspro.com/AV_TOOLS_LOGO.png";
            const img = new Image();
            img.crossOrigin = "Anonymous";
            img.onload = () => {
                try {
                    const canvas = document.createElement("canvas");
                    canvas.width = img.width;
                    canvas.height = img.height;
                    canvas.getContext("2d").drawImage(img, 0, 0);
                    pdfLogoCacheRef.current = canvas.toDataURL("image/png");
                } catch (e) {
                    console.log("Could not preload logo:", e);
                }
                pdfLogoLoadingRef.current = false;
            };
            img.onerror = () => {
                pdfLogoLoadingRef.current = false;
            };
            img.src = logoUrl;
        }
    }, []);
    
    const ge = ((e) => {
            const t = e.filter((e) => "rack" === e.type),
                s = e.filter((e) => "shelf" === e.type),
                a = t.filter((e) => "full" === e.width),
                r = t.filter((e) => "half" === e.width),
                l = s.filter((e) => "full" === e.width),
                i = s.filter((e) => "half" === e.width),
                n = {};
            r.forEach((e) => {
                n[e.ru] || (n[e.ru] = []), n[e.ru].push(e);
            });
            const o = {};
            i.forEach((e) => {
                o[e.ru] || (o[e.ru] = []), o[e.ru].push(e);
            });
            let d = 0,
                c = 0;
            Object.entries(n).forEach(([e, t]) => {
                const s = parseInt(e),
                    a = Math.floor(t.length / 2),
                    r = t.length % 2;
                (d += a * s + r * s), (c += a * s);
            });
            let m = 0,
                x = 0;
            Object.entries(o).forEach(([e, t]) => {
                const s = parseInt(e),
                    a = Math.floor(t.length / 2),
                    r = t.length % 2;
                (m += a * s + r * s), (x += a * s);
            });
            const u = a.reduce((e, t) => e + t.ru, 0),
                h = l.reduce((e, t) => e + t.ru, 0);
            let p = 0;
            Object.values(n).forEach((e) => {
                e.length % 2 == 1 && (p += e[0].ru);
            }),
                Object.values(o).forEach((e) => {
                    e.length % 2 == 1 && (p += e[0].ru);
                });
            const g = l.length + Object.values(o).reduce((e, t) => e + Math.ceil(t.length / 2), 0);
            return {
                effectiveRU: u + d + h + m,
                totalRUWithoutPairing: e.reduce((e, t) => e + t.ru, 0),
                ruSaved: c + x,
                halfBlanksNeeded: p,
                shelvesNeeded: g,
                halfRackCount: r.length,
                halfShelfCount: i.length,
                hasHeavyEquipment: e.some((e) => e.ru >= 4),
                halfRackByRU: n,
                halfShelfByRU: o,
            };
        })(e),
        be = ge.effectiveRU,
        fe = (() => {
            if (0 === be) return { rackSizes: [45], totalCapacity: 45, blanksNeeded: 45, actualSparePercent: 100 };
            const e = 1 - c / 100;
            let t = [];
            const s = Math.floor(45 * e);
            if (be <= Math.floor(me * e)) {
                const s = Math.ceil(be / e);
                t = [ce.find((e) => e >= s) || me];
            } else {
                let a = be;
                for (; a > 0; ) {
                    if (a > s) t.push(45), (a -= s);
                    else {
                        const s = Math.ceil(a / e),
                            r = ce.find((e) => e >= s) || me;
                        t.push(r), (a = 0);
                    }
                    if (t.length > 10) break;
                }
            }
            const a = t.reduce((e, t) => e + t, 0),
                r = a - be;
            return {
                rackSizes: t,
                totalCapacity: a,
                blanksNeeded: r,
                actualSparePercent: Math.round((r / a) * 100),
                needsMultipleRacks: t.length > 1,
            };
        })(),
        { rackSizes: ye, totalCapacity: je, blanksNeeded: _e, actualSparePercent: ve, needsMultipleRacks: Ne } = fe,
        we = [...ye],
        Ce = we.reduce((e, t) => e + t, 0),
        Me = Ce - be,
        ke =
            (Ce > 0 && Math.round((Me / Ce) * 100),
            () => {
                const t = [],
                    s = [];
                let a = 1;
                e.forEach((e, t) => {
                    s.push({ ...e, colorIndex: t % xe.length, isHalfWidth: "half" === e.width });
                });
                const r = we.length,
                    l = c / 100,
                    i = we.map((e) => Math.floor(e * (1 - l))),
                    n = [...s],
                    o = we.map(() => []),
                    d = we.map(() => 0);
                for (const e of n) {
                    let t = !1;
                    for (let s = 0; s < r && !t; s++) {
                        i[s] - d[s] >= e.ru && (o[s].push(e), (d[s] += e.ru), (t = !0));
                    }
                    if (!t)
                        for (let s = 0; s < r && !t; s++) {
                            we[s] - d[s] >= e.ru && (o[s].push(e), (d[s] += e.ru), (t = !0));
                        }
                }
                return (
                    we.forEach((e, s) => {
                        const r = [];
                        let l = 1,
                            i = 0;
                        for (
                            o[s].forEach((e) => {
                                r.push({ id: e.id, startRU: l, endRU: l + e.ru - 1, type: "equipment", item: e }),
                                    (l += e.ru),
                                    (i += e.ru);
                            });
                            l <= e;

                        )
                            r.push({ id: `blank-${s}-${a++}`, startRU: l, endRU: l, type: "blank", ru: 1 }), l++;
                        t.push({ rackIndex: s, rackSize: e, layout: r, equipmentRU: i, blanksRU: e - i });
                    }),
                    t
                );
            }),
        Se = useRef(""),
        Re = (useRef(""), useRef(c)),
        [Pe, Ae] = useState(!1),
        De = useRef(!1),
        Ie = useRef([]),
        Ee = useRef(h);
    useEffect(() => {
        Ee.current = h;
    }, [h]);
    const Fe = [8, 12, 15, 18, 22, 25, 27, 32, 37, 42, 45],
        Be = (e, t = 45) => {
            for (const s of Fe) if (s >= e && s <= t) return s;
            return t;
        },
        Te = (e, t) => (t >= 100 ? 0 : t <= 0 ? e : Math.floor(e * (1 - t / 100))),
        Le = (e, t) => (t <= 0 || e <= 0 ? 0 : t >= 100 ? 45 : Math.ceil((e * t) / (100 - t))),
        He = (e, t, s = 45) => {
            const a = ((e, t) => e + Le(e, t))(e, t);
            return Be(a, s);
        },
        Ue = (e) => {
            let t = 0,
                s = 0;
            return (
                e.forEach((e) => {
                    "equipment" === e.type && e.item ? (t += e.item.ru || 1) : "blank" === e.type && s++;
                }),
                { equipRU: t, blanksRU: s, totalRU: t + s }
            );
        },
        qe = (e, t, s, a = null) => {
            const r = ((e, t, s, a = null) => {
                for (let r = 0; r < e.length; r++) {
                    const l = e[r];
                    if ("equipment" !== l.type || !l.item) continue;
                    const i = l.item;
                    if (a && i.id === a) continue;
                    const n = i.isHalfWidth || "half" === i.width,
                        o = !0 === i.isHalfPair || null != i.pairItem;
                    if (n && !o && i.type === t && (i.ru || 1) === s) return { layoutIdx: r, item: l };
                }
                return null;
            })(e.layout, t, s, a);
            if (r)
                return {
                    canPlace: !0,
                    method: "pair",
                    layoutIdx: r.layoutIdx,
                    details: "Can pair with existing half-width item",
                };
            let l = 0,
                i = -1;
            for (let t = 0; t < e.layout.length; t++) {
                if ("blank" === e.layout[t].type) {
                    if ((-1 === i && (i = t), l++, l >= s))
                        return {
                            canPlace: !0,
                            method: "blanks",
                            startIdx: i,
                            blanksCount: l,
                            details: `Can use ${s}U of blank space`,
                        };
                } else (i = -1), (l = 0);
            }
            return {
                canPlace: !1,
                method: "none",
                details: `No compatible half-width to pair with and insufficient blanks (need ${s}U)`,
            };
        },
        $e = (e, t) => {
            const s = [];
            for (let a = 1; a <= e; a++)
                s.push({ id: `blank-${t}-${Date.now()}-${a}`, type: "blank", ru: 1, startRU: a, endRU: a });
            return { rackSize: e, rackIndex: t, name: "", equipmentRU: 0, blanksRU: e, layout: s };
        },
        We = (e, t) => (e.name && e.name.trim() ? e.name.trim() : `Rack ${t + 1}`),
        Ve = (e) => {
            if ("manual" !== L) return;
            const t = h.length,
                s = $e(e, t);
            p((e) => [...e, s]), T(t), J(!1);
        },
        Oe = (e, t, s = 45) => {
            const a = [8, 12, 15, 18, 22, 25, 27, 32, 37, 42, 45];
            return e.map((e, r) => {
                const l = {
                    ...e,
                    layout: e.layout.map((e) =>
                        "equipment" === e.type && e.item
                            ? { ...e, item: { ...e.item, pairItem: e.item.pairItem ? { ...e.item.pairItem } : null } }
                            : { ...e }
                    ),
                };
                let i = 0;
                l.layout.forEach((e) => {
                    "equipment" === e.type && e.item && (i += e.item.ru || 1);
                });
                let n = 0;
                for (let e = l.layout.length - 1; e >= 0 && "blank" === l.layout[e].type; e--) n++;
                let o = 0;
                l.layout.forEach((e) => {
                    "blank" === e.type && o++;
                });
                const d = o - n,
                    c = Le(i, t),
                    m = Math.max(d, c),
                    x = i + m;
                let u = a.find((e) => e >= x);
                u || (u = s), (u = Math.min(u, s));
                const h = u - i,
                    p = Math.max(0, h - d);
                for (let e = 0; e < n; e++)
                    l.layout.length > 0 && "blank" === l.layout[l.layout.length - 1].type && l.layout.pop();
                for (let e = 0; e < p; e++)
                    l.layout.push({
                        id: `blank-${r}-spare-${Date.now()}-${e}-${Math.random().toString(36).substr(2, 5)}`,
                        startRU: 0,
                        endRU: 0,
                        type: "blank",
                        ru: 1,
                        isUserGap: !1,
                    });
                let g = 0;
                for (
                    l.layout.forEach((e) => {
                        "equipment" === e.type && e.item ? (g += e.item.ru || 1) : "blank" === e.type && g++;
                    });
                    g > s && l.layout.length > 0 && "blank" === l.layout[l.layout.length - 1].type;

                )
                    l.layout.pop(), g--;
                let b = 1,
                    f = 0,
                    y = 0;
                l.layout.forEach((e) => {
                    if ("equipment" === e.type && e.item) {
                        const t = e.item.ru || 1;
                        (e.startRU = b), (e.endRU = b + t - 1), (b += t), (f += t);
                    } else "blank" === e.type && ((e.startRU = b), (e.endRU = b), b++, y++);
                });
                const j = f + y;
                return (l.rackSize = Math.min(j, s)), (l.equipmentRU = f), (l.blanksRU = y), (l.rackIndex = r), l;
            });
        },
        ze = (e, t, s = 45) => {
            const a = [8, 12, 15, 18, 22, 25, 27, 32, 37, 42, 45],
                r = Te(s, t),
                l = [];
            e.forEach((e) => {
                e.layout.forEach((e) => {
                    "equipment" === e.type &&
                        e.item &&
                        (l.push({
                            ...e,
                            item: {
                                ...e.item,
                                isHalfWidth: e.item.isHalfWidth || "half" === e.item.width,
                                isHalfPair: !1,
                                pairItem: null,
                            },
                        }),
                        e.item.isHalfPair &&
                            e.item.pairItem &&
                            l.push({
                                id: e.item.pairItem.id,
                                type: "equipment",
                                startRU: 0,
                                endRU: 0,
                                item: { ...e.item.pairItem, isHalfWidth: !0, isHalfPair: !1, pairItem: null },
                            }));
                });
            });
            const i = l.filter((e) => !e.item.isHalfWidth),
                n = l.filter((e) => e.item.isHalfWidth),
                o = {};
            n.forEach((e) => {
                const t = `${e.item.type}-${e.item.ru || 1}`;
                o[t] || (o[t] = []), o[t].push(e);
            });
            const d = [];
            Object.values(o).forEach((e) => {
                for (let t = 0; t < e.length; t += 2)
                    t + 1 < e.length ? d.push({ item1: e[t], item2: e[t + 1] }) : d.push({ item1: e[t], item2: null });
            });
            const c = [];
            i.forEach((e) => {
                c.push({ type: "full", effectiveRU: e.item.ru || 1, items: [e] });
            }),
                d.forEach((e) => {
                    const t = e.item1.item.ru || 1;
                    c.push({
                        type: e.item2 ? "paired-half" : "unpaired-half",
                        effectiveRU: t,
                        items: e.item2 ? [e.item1, e.item2] : [e.item1],
                    });
                }),
                c.sort((e, t) => t.effectiveRU - e.effectiveRU);
            const m = [];
            let x = [],
                u = 0;
            c.forEach((e) => {
                u + e.effectiveRU <= r
                    ? (x.push(e), (u += e.effectiveRU))
                    : (x.length > 0 && m.push({ items: x, equipRU: u }), (x = [e]), (u = e.effectiveRU));
            }),
                x.length > 0 && m.push({ items: x, equipRU: u });
            const h = m.map((e, a) => {
                const { items: r, equipRU: l } = e,
                    i = He(l, t, s),
                    n = i - l,
                    o = [];
                let d = 1;
                r.forEach((e) => {
                    if ("full" === e.type) {
                        const t = e.items[0],
                            s = t.item.ru || 1;
                        o.push({
                            ...t,
                            startRU: d,
                            endRU: d + s - 1,
                            item: { ...t.item, isHalfPair: !1, pairItem: null },
                        }),
                            (d += s);
                    } else if ("paired-half" === e.type) {
                        const t = e.items[0],
                            s = e.items[1],
                            a = t.item.ru || 1;
                        o.push({
                            ...t,
                            startRU: d,
                            endRU: d + a - 1,
                            item: {
                                ...t.item,
                                isHalfWidth: !0,
                                isHalfPair: !0,
                                pairItem: { ...s.item, isHalfWidth: !0 },
                            },
                        }),
                            (d += a);
                    } else {
                        const t = e.items[0],
                            s = t.item.ru || 1;
                        o.push({
                            ...t,
                            startRU: d,
                            endRU: d + s - 1,
                            item: { ...t.item, isHalfWidth: !0, isHalfPair: !1, pairItem: null },
                        }),
                            (d += s);
                    }
                });
                for (let e = 0; e < n; e++)
                    o.push({
                        id: `blank-${a}-opt-${Date.now()}-${e}-${Math.random().toString(36).substr(2, 5)}`,
                        startRU: d,
                        endRU: d,
                        type: "blank",
                        ru: 1,
                        isUserGap: !1,
                    }),
                        d++;
                return { rackIndex: a, rackSize: i, layout: o, equipmentRU: l, blanksRU: n };
            });
            return h.length > 0 ? h : [{ rackIndex: 0, rackSize: a[0], layout: [], equipmentRU: 0, blanksRU: a[0] }];
        },
        Ge = (e, t = 45) =>
            e.map((e, s) => {
                const a = {
                    ...e,
                    layout: e.layout.map((e) =>
                        "equipment" === e.type && e.item
                            ? { ...e, item: { ...e.item, pairItem: e.item.pairItem ? { ...e.item.pairItem } : null } }
                            : { ...e }
                    ),
                };
                let r = 0,
                    l = 0;
                a.layout.forEach((e) => {
                    "equipment" === e.type && e.item ? (r += e.item.ru || 1) : "blank" === e.type && l++;
                });
                let i = r + l;
                for (; i > t && a.layout.length > 0; ) {
                    if ("blank" !== a.layout[a.layout.length - 1].type) break;
                    a.layout.pop(), l--, i--;
                }
                let n = 1;
                return (
                    (r = 0),
                    (l = 0),
                    a.layout.forEach((e) => {
                        if ("equipment" === e.type && e.item) {
                            const t = e.item.ru || 1;
                            (e.startRU = n), (e.endRU = n + t - 1), (n += t), (r += t);
                        } else "blank" === e.type && ((e.startRU = n), (e.endRU = n), n++, l++);
                    }),
                    (a.rackSize = Math.min(r + l, t)),
                    (a.equipmentRU = r),
                    (a.blanksRU = l),
                    (a.rackIndex = s),
                    a
                );
            }),
        Xe = (e, t) =>
            t && 0 !== t.length
                ? e.map((e, s) =>
                      s < t.length && t[s].name ? { ...e, name: t[s].name } : { ...e, name: e.name || "" }
                  )
                : e;
    useEffect(() => {
        if ("manual" === L) return;
        const t = JSON.stringify(e);
        if (t !== Se.current) {
            if (((Se.current = t), e.length > 0)) {
                const t = Ie.current;
                Ie.current = e.map((e) => ({ ...e }));
                const s = Ee.current;
                if (De.current && s.length > 0 && t.length > 0) {
                    const a = new Set(t.map((e) => e.id)),
                        r = new Set(e.map((e) => e.id)),
                        l = e.filter((e) => !a.has(e.id)),
                        i = [...a].filter((e) => !r.has(e)),
                        n = new Map(e.map((e) => [e.id, e]));
                    let o = s.map((e) => ({
                        ...e,
                        layout: e.layout.map((e) =>
                            "equipment" === e.type && e.item
                                ? {
                                      ...e,
                                      item: { ...e.item, pairItem: e.item.pairItem ? { ...e.item.pairItem } : null },
                                  }
                                : { ...e }
                        ),
                    }));
                    i.forEach((e) => {
                        o.forEach((t, s) => {
                            const a = t.layout.findIndex((t) => "equipment" === t.type && t.item && t.item.id === e);
                            if (-1 !== a) {
                                const e = t.layout[a].item?.ru || 1,
                                    r = [];
                                for (let t = 0; t < e; t++)
                                    r.push({
                                        id: `blank-${s}-rep-${Date.now()}-${t}`,
                                        startRU: 0,
                                        endRU: 0,
                                        type: "blank",
                                        ru: 1,
                                    });
                                t.layout.splice(a, 1, ...r);
                            }
                            t.layout.forEach((t) => {
                                "equipment" === t.type &&
                                    t.item &&
                                    t.item.pairItem &&
                                    t.item.pairItem.id === e &&
                                    ((t.item.isHalfPair = !1), (t.item.pairItem = null));
                            });
                        });
                    });
                    const d = [];
                    for (
                        o.forEach((e, t) => {
                            e.layout.forEach((e, s) => {
                                if ("equipment" === e.type && e.item) {
                                    const s = n.get(e.item.id);
                                    if (s) {
                                        const a = e.item.isHalfWidth || "half" === e.item.width,
                                            r = "full" === s.width;
                                        if (a && r && e.item.isHalfPair && e.item.pairItem) {
                                            const s = {
                                                ...e.item.pairItem,
                                                isHalfWidth: !0,
                                                isHalfPair: !1,
                                                pairItem: null,
                                            };
                                            d.push({ item: s, originalRackIdx: t }),
                                                (e.item.isHalfPair = !1),
                                                (e.item.pairItem = null);
                                        }
                                        (e.item.name = s.name),
                                            (e.item.ru = s.ru),
                                            (e.item.type = s.type),
                                            (e.item.width = s.width),
                                            (e.item.isHalfWidth = "half" === s.width),
                                            r && ((e.item.isHalfPair = !1), (e.item.pairItem = null));
                                        const l = !a,
                                            i = "half" === s.width;
                                        l && i && (e.item.needsPairingCheck = !0);
                                    }
                                    if (e.item.pairItem) {
                                        const s = n.get(e.item.pairItem.id);
                                        if (s) {
                                            if ("full" === s.width) {
                                                const a = {
                                                    ...e.item.pairItem,
                                                    ...s,
                                                    isHalfWidth: !1,
                                                    isHalfPair: !1,
                                                    pairItem: null,
                                                };
                                                (e.item.isHalfPair = !1),
                                                    (e.item.pairItem = null),
                                                    d.push({ item: a, originalRackIdx: t, isNowFull: !0 });
                                            } else
                                                (e.item.pairItem.name = s.name),
                                                    (e.item.pairItem.ru = s.ru),
                                                    (e.item.pairItem.type = s.type),
                                                    (e.item.pairItem.width = s.width);
                                        }
                                    }
                                }
                            });
                        }),
                            d.forEach(({ item: t, originalRackIdx: s, isNowFull: a }) => {
                                const r = e.findIndex((e) => e.id === t.id),
                                    l = r >= 0 ? r % xe.length : 0;
                                if (a) {
                                    let e = !1;
                                    const s = Te(me, c);
                                    for (let a = 0; a < o.length && !e; a++) {
                                        const r = o[a];
                                        let i = 0;
                                        if (
                                            (r.layout.forEach((e) => {
                                                "equipment" === e.type && e.item && (i += e.item.ru || 1);
                                            }),
                                            i + (t.ru || 1) <= s)
                                        ) {
                                            let s = r.layout.length;
                                            for (
                                                let e = r.layout.length - 1;
                                                e >= 0 && "blank" === r.layout[e].type;
                                                e--
                                            )
                                                s = e;
                                            let a = t.ru || 1;
                                            for (
                                                let e = r.layout.length - 1;
                                                e >= 0 && a > 0 && "blank" === r.layout[e].type;
                                                e--
                                            )
                                                r.layout.splice(e, 1), a--;
                                            r.layout.splice(Math.min(s, r.layout.length), 0, {
                                                id: t.id,
                                                type: "equipment",
                                                startRU: 0,
                                                endRU: 0,
                                                item: { ...t, colorIndex: l },
                                            }),
                                                (e = !0);
                                        }
                                    }
                                    if (!e) {
                                        const e = o.length,
                                            s = He(t.ru || 1, c, me),
                                            a = [
                                                {
                                                    id: t.id,
                                                    type: "equipment",
                                                    startRU: 1,
                                                    endRU: t.ru || 1,
                                                    item: { ...t, colorIndex: l },
                                                },
                                            ];
                                        for (let r = t.ru || 1; r < s; r++)
                                            a.push({
                                                id: `blank-${e}-${Date.now()}-${r}`,
                                                type: "blank",
                                                startRU: r + 1,
                                                endRU: r + 1,
                                                ru: 1,
                                            });
                                        o.push({
                                            rackIndex: e,
                                            rackSize: s,
                                            layout: a,
                                            equipmentRU: t.ru || 1,
                                            blanksRU: s - (t.ru || 1),
                                        });
                                    }
                                } else {
                                    let e = !1;
                                    for (let s = 0; s < o.length && !e; s++) {
                                        const a = o[s];
                                        for (let s = 0; s < a.layout.length && !e; s++) {
                                            const r = a.layout[s];
                                            if ("equipment" !== r.type || !r.item) continue;
                                            if (r.item.id === t.id) continue;
                                            !(r.item.isHalfWidth || "half" === r.item.width) ||
                                                r.item.isHalfPair ||
                                                r.item.pairItem ||
                                                (r.item.type === t.type &&
                                                    (r.item.ru || 1) === (t.ru || 1) &&
                                                    ((r.item.isHalfPair = !0),
                                                    (r.item.pairItem = { ...t, colorIndex: l, isHalfWidth: !0 }),
                                                    (e = !0)));
                                        }
                                    }
                                    if (!e) {
                                        const e = Te(me, c);
                                        let s = !1;
                                        for (let a = 0; a < o.length && !s; a++) {
                                            const r = o[a];
                                            let i = 0;
                                            if (
                                                (r.layout.forEach((e) => {
                                                    "equipment" === e.type && e.item && (i += e.item.ru || 1);
                                                }),
                                                i + (t.ru || 1) <= e)
                                            ) {
                                                let e = r.layout.length;
                                                for (
                                                    let t = r.layout.length - 1;
                                                    t >= 0 && "blank" === r.layout[t].type;
                                                    t--
                                                )
                                                    e = t;
                                                let a = t.ru || 1;
                                                for (
                                                    let e = r.layout.length - 1;
                                                    e >= 0 && a > 0 && "blank" === r.layout[e].type;
                                                    e--
                                                )
                                                    r.layout.splice(e, 1), a--;
                                                r.layout.splice(Math.min(e, r.layout.length), 0, {
                                                    id: t.id,
                                                    type: "equipment",
                                                    startRU: 0,
                                                    endRU: 0,
                                                    item: {
                                                        ...t,
                                                        colorIndex: l,
                                                        isHalfWidth: !0,
                                                        isHalfPair: !1,
                                                        pairItem: null,
                                                    },
                                                }),
                                                    (s = !0);
                                            }
                                        }
                                        if (!s) {
                                            const e = o.length,
                                                s = He(t.ru || 1, c, me),
                                                a = [
                                                    {
                                                        id: t.id,
                                                        type: "equipment",
                                                        startRU: 1,
                                                        endRU: t.ru || 1,
                                                        item: {
                                                            ...t,
                                                            colorIndex: l,
                                                            isHalfWidth: !0,
                                                            isHalfPair: !1,
                                                            pairItem: null,
                                                        },
                                                    },
                                                ];
                                            for (let r = t.ru || 1; r < s; r++)
                                                a.push({
                                                    id: `blank-${e}-${Date.now()}-${r}`,
                                                    type: "blank",
                                                    startRU: r + 1,
                                                    endRU: r + 1,
                                                    ru: 1,
                                                });
                                            o.push({
                                                rackIndex: e,
                                                rackSize: s,
                                                layout: a,
                                                equipmentRU: t.ru || 1,
                                                blanksRU: s - (t.ru || 1),
                                            });
                                        }
                                    }
                                }
                            }),
                            o.forEach((e) => {
                                for (let t = 0; t < e.layout.length; t++) {
                                    const s = e.layout[t];
                                    if ("equipment" !== s.type || !s.item || !s.item.needsPairingCheck) continue;
                                    const a = s.item,
                                        r = a.type,
                                        l = a.ru || 1;
                                    delete s.item.needsPairingCheck;
                                    let i = !1;
                                    for (let s = 0; s < o.length && !i; s++) {
                                        const n = o[s];
                                        for (let s = 0; s < n.layout.length; s++) {
                                            if (n === e && t === s) continue;
                                            const o = n.layout[s];
                                            if ("equipment" !== o.type || !o.item) continue;
                                            const d = o.item,
                                                c = d.isHalfWidth || "half" === d.width,
                                                m = !0 === d.isHalfPair || null != d.pairItem;
                                            if (c && !m && d.type === r && (d.ru || 1) === l && !d.needsPairingCheck) {
                                                (n.layout[s] = {
                                                    ...o,
                                                    item: {
                                                        ...d,
                                                        isHalfPair: !0,
                                                        pairItem: {
                                                            ...a,
                                                            isHalfWidth: !0,
                                                            isHalfPair: !1,
                                                            pairItem: null,
                                                            needsPairingCheck: void 0,
                                                        },
                                                    },
                                                }),
                                                    (e.layout[t] = {
                                                        id: `blank-paired-${Date.now()}-${t}`,
                                                        type: "blank",
                                                        ru: l,
                                                        startRU: 0,
                                                        endRU: 0,
                                                    }),
                                                    (i = !0);
                                                break;
                                            }
                                        }
                                    }
                                }
                            });
                        o.length < we.length;

                    ) {
                        const e = o.length,
                            t = we[e] || 45,
                            s = [];
                        for (let a = 0; a < t; a++)
                            s.push({
                                id: `blank-${e}-new-${Date.now()}-${a}`,
                                startRU: a + 1,
                                endRU: a + 1,
                                type: "blank",
                                ru: 1,
                            });
                        o.push({ rackIndex: e, rackSize: t, layout: s, equipmentRU: 0, blanksRU: t });
                    }
                    for (
                        l.forEach((t) => {
                            const s = e.indexOf(t) % xe.length,
                                a = "half" === t.width;
                            let r = !1;
                            const l = Te(me, c);
                            if (a) {
                                const e = [...o.keys()].sort((e, t) => (e === B ? -1 : t === B ? 1 : 0));
                                for (const a of e) {
                                    if (r) break;
                                    const e = o[a];
                                    for (let a = 0; a < e.layout.length; a++) {
                                        const l = e.layout[a];
                                        if ("equipment" !== l.type || !l.item) continue;
                                        const i = l.item;
                                        if ((i.isHalfWidth || "half" === i.width) && !i.isHalfPair && !i.pairItem) {
                                            const e = i.type === t.type,
                                                a = (i.ru || 1) === (t.ru || 1);
                                            if (e && a) {
                                                (l.item = {
                                                    ...i,
                                                    isHalfWidth: !0,
                                                    isHalfPair: !0,
                                                    pairItem: { ...t, colorIndex: s, isHalfWidth: !0 },
                                                }),
                                                    (r = !0);
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                            if (!r) {
                                const e = {
                                        id: t.id,
                                        startRU: 0,
                                        endRU: 0,
                                        type: "equipment",
                                        item: { ...t, colorIndex: s, isHalfWidth: a, isHalfPair: !1, pairItem: null },
                                    },
                                    i = [];
                                for (let e = 0; e < o.length; e++) {
                                    const s = o[e];
                                    let a = 0;
                                    s.layout.forEach((e) => {
                                        "equipment" === e.type && e.item && (a += e.item.ru || 1);
                                    });
                                    const r = a + t.ru,
                                        n = l - a;
                                    r <= l && i.push({ rackIdx: e, availableCapacity: n, isTarget: e === B });
                                }
                                i.sort((e, t) =>
                                    e.isTarget && !t.isTarget
                                        ? -1
                                        : !e.isTarget && t.isTarget
                                          ? 1
                                          : t.availableCapacity - e.availableCapacity
                                );
                                for (let s = 0; s < i.length && !r; s++) {
                                    const { rackIdx: a } = i[s],
                                        l = o[a];
                                    let n = l.layout.length;
                                    for (let e = l.layout.length - 1; e >= 0 && "blank" === l.layout[e].type; e--)
                                        n = e;
                                    let d = t.ru;
                                    for (
                                        let e = l.layout.length - 1;
                                        e >= 0 && d > 0 && "blank" === l.layout[e].type;
                                        e--
                                    )
                                        l.layout.splice(e, 1), d--;
                                    const c = Math.min(n, l.layout.length);
                                    l.layout.splice(c, 0, e), (r = !0);
                                }
                                if (!r) {
                                    const s = o.length,
                                        a = He(t.ru, c, me),
                                        l = [];
                                    l.push(e);
                                    for (let e = t.ru; e < a; e++)
                                        l.push({
                                            id: `blank-${s}-new-${Date.now()}-${e}`,
                                            startRU: e + 1,
                                            endRU: e + 1,
                                            type: "blank",
                                            ru: 1,
                                        });
                                    o.push({
                                        rackIndex: s,
                                        rackSize: a,
                                        layout: l,
                                        equipmentRU: t.ru,
                                        blanksRU: a - t.ru,
                                    }),
                                        (r = !0);
                                }
                            }
                        }),
                            o = Oe(o, c, me);
                        o.length > 1;

                    ) {
                        if (o[o.length - 1].layout.some((e) => "equipment" === e.type)) break;
                        o.pop();
                    }
                    if (
                        (((e) => {
                            for (const t of e)
                                for (const e of t.layout)
                                    if (
                                        "equipment" === e.type &&
                                        e.item &&
                                        e.item.pairItem &&
                                        e.item.type !== e.item.pairItem.type
                                    )
                                        return (
                                            console.error(
                                                "INVALID: Mixed mount types detected",
                                                e.item.type,
                                                e.item.pairItem.type
                                            ),
                                            !1
                                        );
                            return !0;
                        })(o) || console.error("ERROR: Mixed mount types detected in layout - this should not happen"),
                        p(Xe(Ge(o, me), Ee.current)),
                        g)
                    ) {
                        const e = g.layoutId;
                        if ("string" == typeof e && e.endsWith(":pair")) {
                            const t = e.slice(0, -5),
                                s = isNaN(t) ? t : Number(t),
                                a = o[g.rackIdx]?.layout.find((e) => e.id === s);
                            (a && a.item && a.item.pairItem) || b(null);
                        } else i.includes(e) && b(null);
                    }
                } else {
                    const e = ke(),
                        t = ze(e, c, me);
                    if ((p(Xe(Ge(t, me), h)), g))
                        if (t.some((e) => e.layout.some((e) => e.id === g.layoutId))) {
                            for (let e = 0; e < t.length; e++)
                                if (t[e].layout.find((e) => e.id === g.layoutId)) {
                                    e !== g.rackIdx && b({ rackIdx: e, layoutId: g.layoutId });
                                    break;
                                }
                        } else b(null);
                }
            } else p([]), b(null), (De.current = !1);
            u(!1);
        }
    }, [e, L]),
        useEffect(() => {
            if ("manual" !== L && c !== Re.current && e.length > 0)
                if (((Re.current = c), De.current && h.length > 0)) {
                    const e = Te(me, c);
                    let t = !1;
                    if (
                        (h.forEach((s) => {
                            let a = 0;
                            s.layout.forEach((e) => {
                                "equipment" === e.type && e.item && (a += e.item.ru || 1);
                            }),
                                a > e && (t = !0);
                        }),
                        t)
                    ) {
                        const e = ze(h, c, me);
                        p(Xe(Ge(e, me), h));
                    } else {
                        let e = Oe(h, c, me);
                        for (; e.length > 1; ) {
                            if (e[e.length - 1].layout.some((e) => "equipment" === e.type)) break;
                            e.pop();
                        }
                        p(Xe(Ge(e, me), h));
                    }
                    Ae(!1), u(!0);
                } else {
                    const e = ke(),
                        t = ze(e, c, me);
                    p(Xe(Ge(t, me), h)), Ae(!1), u(!1);
                }
        }, [c, e.length, L]),
        useEffect(() => {
            h.length > 0 && B >= h.length && T(Math.max(0, h.length - 1));
        }, [h.length, B]);
    const Je = () => {
            const n = parseInt(r) || 1;
            if (n < 1) return I("Equipment must be at least 1U");
            if (n > me) return I("Equipment cannot exceed 45U (max rack size)");
            if (
                (n > 20 && console.warn(`Adding large equipment: ${n}U - may require special mounting considerations`),
                "manual" === L)
            ) {
                if (0 === h.length) {
                    const r = Math.max(8, n),
                        d = $e(r, 0),
                        c = {
                            id: Date.now(),
                            name: s.trim() || `Equipment ${e.length + 1}`,
                            ru: n,
                            type: i,
                            width: o,
                            isHalfWidth: "half" === o,
                        };
                    t([...e, c]);
                    const m = {
                        id: `layout-${Date.now()}`,
                        type: "equipment",
                        item: { ...c, isHalfPair: !1, pairItem: null },
                        startRU: 1,
                        endRU: n,
                        ru: n,
                    };
                    d.layout.splice(0, n, m);
                    let x = 1;
                    return (
                        d.layout.forEach((e) => {
                            const t = "equipment" === e.type ? e.item?.ru || 1 : e.ru || 1;
                            (e.startRU = x), (e.endRU = x + t - 1), (x += t);
                        }),
                        p([d]),
                        T(0),
                        a(""),
                        void l("1")
                    );
                }
                const r = h[B];
                if (!r) return void I("Please add a rack first");
                const d = "half" === o;
                if (d) {
                    const d = qe(r, i, n);
                    if (d.canPlace && "pair" === d.method) {
                        const r = {
                            id: Date.now(),
                            name: s.trim() || `Equipment ${e.length + 1}`,
                            ru: n,
                            type: i,
                            width: o,
                            isHalfWidth: !0,
                        };
                        return (
                            t([...e, r]),
                            p((e) =>
                                e.map((e, t) => {
                                    if (t !== B) return e;
                                    const s = e.layout.map((e, t) =>
                                        t === d.layoutIdx && "equipment" === e.type && e.item
                                            ? {
                                                  ...e,
                                                  item: {
                                                      ...e.item,
                                                      isHalfPair: !0,
                                                      pairItem: { ...r, isHalfWidth: !0 },
                                                  },
                                              }
                                            : { ...e }
                                    );
                                    return { ...e, layout: s };
                                })
                            ),
                            a(""),
                            void l("1")
                        );
                    }
                    if (!d.canPlace)
                        return void I(
                            `Not enough space in Rack ${B + 1}. Need ${n}U of blanks, or an unpaired ${"rack" === i ? "rack-mounted" : "shelf-mounted"} half-width ${n}U item to pair with.`
                        );
                }
                let c = 0,
                    m = -1;
                for (let e = 0; e < r.layout.length; e++) {
                    if ("blank" === r.layout[e].type) {
                        if ((-1 === m && (m = e), c++, c >= n)) break;
                    } else (m = -1), (c = 0);
                }
                if (c < n)
                    return void I(
                        d
                            ? `Not enough space in Rack ${B + 1}. Need ${n}U of blanks, or an unpaired ${"rack" === i ? "rack-mounted" : "shelf-mounted"} half-width ${n}U item to pair with.`
                            : `Not enough space in Rack ${B + 1}. Need ${n}U of consecutive blanks.`
                    );
                const x = {
                    id: Date.now(),
                    name: s.trim() || `Equipment ${e.length + 1}`,
                    ru: n,
                    type: i,
                    width: o,
                    isHalfWidth: "half" === o,
                };
                return (
                    t([...e, x]),
                    p((e) => {
                        const t = [...e],
                            s = { ...t[B], layout: [...t[B].layout] },
                            a = s.layout[m].startRU,
                            r = {
                                id: `layout-${Date.now()}`,
                                type: "equipment",
                                item: { ...x, isHalfPair: !1, pairItem: null },
                                startRU: a,
                                endRU: a + n - 1,
                                ru: n,
                            };
                        s.layout.splice(m, n, r);
                        let l = 1;
                        return (
                            s.layout.forEach((e) => {
                                const t = "equipment" === e.type ? e.item?.ru || 1 : e.ru || 1;
                                (e.startRU = l), (e.endRU = l + t - 1), (l += t);
                            }),
                            (t[B] = s),
                            t
                        );
                    }),
                    a(""),
                    void l("1")
                );
            }
            const d = be + n;
            if (d > 337.5)
                return I(`Total equipment (${d}U) exceeds practical limit. Consider splitting into separate systems.`);
            t([...e, { id: Date.now(), name: s.trim() || `Equipment ${e.length + 1}`, ru: n, type: i, width: o }]),
                a(""),
                l("1"),
                u(!1);
        },
        Qe = (s) => {
            t(e.filter((e) => e.id !== s)), b(null), u(!1);
        },
        Ke = (s, a) => {
            a.trim() &&
                (t(e.map((e) => (e.id === s ? { ...e, name: a.trim() } : e))),
                p((e) =>
                    e.map((e) => ({
                        ...e,
                        layout: e.layout.map((e) =>
                            "equipment" === e.type && e.item && e.item.id === s
                                ? { ...e, item: { ...e.item, name: a.trim() } }
                                : "equipment" === e.type && e.item && e.item.pairItem && e.item.pairItem.id === s
                                  ? { ...e, item: { ...e.item, pairItem: { ...e.item.pairItem, name: a.trim() } } }
                                  : e
                        ),
                    }))
                ));
        },
        Ye = (s, a) => {
            const r = parseInt(a);
            if (isNaN(r) || r < 1 || r > me) return;
            let l = !1,
                i = 1,
                n = "rack",
                o = !1,
                d = null,
                c = -1;
            const m = e.find((e) => e.id === s);
            if (
                (m && ((i = m.ru || 1), (n = m.type || "rack"), (o = m.isHalfWidth || "half" === m.width)),
                h.forEach((e, t) => {
                    e.layout.forEach((e) => {
                        "equipment" === e.type &&
                            e.item &&
                            (e.item.id === s &&
                                ((c = t),
                                (n = e.item.type || "rack"),
                                (o = e.item.isHalfWidth || "half" === e.item.width),
                                e.item.pairItem && (d = e.item.pairItem.ru || 1)),
                            e.item.pairItem &&
                                e.item.pairItem.id === s &&
                                ((l = !0),
                                (c = t),
                                (i = e.item.pairItem.ru || 1),
                                (n = e.item.pairItem.type || "rack"),
                                (o = e.item.pairItem.isHalfWidth || "half" === e.item.pairItem.width),
                                (d = e.item.ru || 1)));
                    });
                }),
                "manual" === L && c >= 0)
            ) {
                const e = h[c];
                if (e && r > i) {
                    const t = r - i;
                    if (o) {
                        if (!qe(e, n, r, s).canPlace) {
                            let s = !1;
                            if ((d === r && (s = !0), !s)) {
                                if (e.layout.filter((e) => "blank" === e.type).length < t)
                                    return void I(
                                        `Cannot increase size: need ${t}U of blank space or a compatible unpaired ${"shelf" === n ? "shelf" : "rack"}-mounted ${r}U half-width item.`
                                    );
                            }
                        }
                    } else {
                        const s = e.layout.filter((e) => "blank" === e.type).length;
                        if (s < t)
                            return void I(`Cannot increase size: need ${t}U of blank space, only ${s}U available.`);
                    }
                }
            }
            l || t(e.map((e) => (e.id === s ? { ...e, ru: r } : e))),
                p((e) =>
                    e.map((e) => {
                        const t = [];
                        let a = !1,
                            l = null;
                        if (
                            (e.layout.forEach((e) => {
                                if ("equipment" === e.type && e.item)
                                    if (e.item.id === s) {
                                        a = !0;
                                        const s = e.item.isHalfWidth || "half" === e.item.width;
                                        e.item.pairItem && (e.item.pairItem.ru || 1) !== r
                                            ? (t.push({
                                                  ...e,
                                                  item: { ...e.item, ru: r, isHalfPair: !1, pairItem: null },
                                                  ru: r,
                                              }),
                                              (l = { ...e.item.pairItem, isHalfPair: !1, pairItem: null }))
                                            : (s && e.item.pairItem,
                                              t.push({ ...e, item: { ...e.item, ru: r }, ru: r }));
                                    } else
                                        e.item.pairItem && e.item.pairItem.id === s
                                            ? ((a = !0),
                                              (e.item.ru || 1) !== r
                                                  ? (t.push({
                                                        ...e,
                                                        item: { ...e.item, isHalfPair: !1, pairItem: null },
                                                    }),
                                                    (l = { ...e.item.pairItem, ru: r, isHalfPair: !1, pairItem: null }))
                                                  : t.push({
                                                        ...e,
                                                        item: { ...e.item, pairItem: { ...e.item.pairItem, ru: r } },
                                                    }))
                                            : t.push(e);
                                else t.push(e);
                            }),
                            a)
                        ) {
                            if (l) {
                                const e = l,
                                    a = e.ru || 1;
                                let r = !1;
                                if (e.isHalfWidth || "half" === e.width)
                                    for (let l = 0; l < t.length; l++) {
                                        const i = t[l];
                                        if ("equipment" === i.type && i.item) {
                                            const n = i.item,
                                                o = n.isHalfWidth || "half" === n.width,
                                                d = n.isHalfPair && n.pairItem;
                                            if (o && !d && n.type === e.type && (n.ru || 1) === a && n.id !== s) {
                                                (t[l] = {
                                                    ...i,
                                                    item: { ...n, isHalfPair: !0, pairItem: { ...e, isHalfWidth: !0 } },
                                                }),
                                                    (r = !0);
                                                break;
                                            }
                                        }
                                    }
                                if (!r) {
                                    let s = -1,
                                        r = 0;
                                    for (let e = 0; e < t.length; e++)
                                        if ("blank" === t[e].type) {
                                            if ((-1 === s && (s = e), r++, r >= a)) break;
                                        } else (s = -1), (r = 0);
                                    r >= a && s >= 0
                                        ? t.splice(s, a, {
                                              id: `layout-orphan-${Date.now()}`,
                                              type: "equipment",
                                              item: e,
                                              startRU: 0,
                                              endRU: 0,
                                              ru: a,
                                          })
                                        : t.push({
                                              id: `layout-orphan-${Date.now()}`,
                                              type: "equipment",
                                              item: e,
                                              startRU: 0,
                                              endRU: 0,
                                              ru: a,
                                          });
                                }
                            }
                            let a = -1;
                            for (let e = 0; e < t.length; e++) {
                                const r = t[e];
                                if ("equipment" === r.type && r.item && r.item.id === s) {
                                    a = e;
                                    break;
                                }
                            }
                            if (a >= 0) {
                                const e = t[a].item,
                                    s = e.isHalfWidth || "half" === e.width,
                                    l = e.isHalfPair && e.pairItem;
                                if (s && !l)
                                    for (let s = 0; s < t.length; s++) {
                                        if (s === a) continue;
                                        const l = t[s];
                                        if ("equipment" === l.type && l.item) {
                                            const i = l.item,
                                                n = i.isHalfWidth || "half" === i.width,
                                                o = i.isHalfPair && i.pairItem;
                                            if (n && !o && i.type === e.type && (i.ru || 1) === r) {
                                                (t[s] = {
                                                    ...l,
                                                    item: { ...i, isHalfPair: !0, pairItem: { ...e, isHalfWidth: !0 } },
                                                }),
                                                    t.splice(a, 1),
                                                    t.push({
                                                        id: `blank-freed-${Date.now()}`,
                                                        type: "blank",
                                                        ru: 1,
                                                        startRU: 0,
                                                        endRU: 0,
                                                    });
                                                break;
                                            }
                                        }
                                    }
                            }
                            if ("manual" === L) {
                                let s = 0;
                                t.forEach((e) => {
                                    s += "equipment" === e.type ? e.item?.ru || 1 : e.ru || 1;
                                });
                                const a = e.rackSize || 42;
                                if (s > a) {
                                    let e = s - a;
                                    for (let s = t.length - 1; s >= 0 && e > 0; s--)
                                        "blank" === t[s].type && (t.splice(s, 1), e--);
                                } else if (s < a) {
                                    const r = a - s;
                                    for (let s = 0; s < r; s++)
                                        t.push({
                                            id: `blank-${e.rackIndex}-${Date.now()}-${s}`,
                                            type: "blank",
                                            ru: 1,
                                            startRU: 0,
                                            endRU: 0,
                                        });
                                }
                            }
                            let i = 1;
                            t.forEach((e) => {
                                const t = "equipment" === e.type ? e.item?.ru || 1 : e.ru || 1;
                                (e.startRU = i), (e.endRU = i + t - 1), (i += t);
                            });
                        }
                        return { ...e, layout: t };
                    })
                ),
                u(!1);
        },
        Ze = (e) => {
            if (!g) return;
            const { rackIdx: t, layoutId: s } = g,
                a = h[t];
            if (!a) return;
            const { totalRU: r } = Ue(a.layout);
            if ("manual" === L) {
                const e = a.rackSize || r;
                if (r >= e) return void I(`Cannot add blank: Rack ${t + 1} is full (${e}U). Increase rack size first.`);
            } else {
                if (r >= me) return void I("Cannot add blank: rack is at maximum size (45U)");
                if (r + 1 > me) return void I("Cannot add blank: would exceed maximum rack size (45U)");
            }
            const l = h.map((e) => ({
                    ...e,
                    layout: e.layout.map((e) =>
                        "equipment" === e.type && e.item
                            ? { ...e, item: { ...e.item, pairItem: e.item.pairItem ? { ...e.item.pairItem } : null } }
                            : { ...e }
                    ),
                })),
                i = l[t];
            if (!i) return;
            const n = i.layout.findIndex((e) => e.id === s);
            if (n < 0) return;
            let o = 0;
            i.layout.forEach((e) => {
                "equipment" === e.type && e.item && (o += e.item.ru || 1);
            });
            let d = 0;
            i.layout.forEach((e) => {
                "blank" === e.type && d++;
            });
            const c = ("manual" === L && a.rackSize) || me;
            if (o + d + 1 > c) return void I(`Cannot add blank: would exceed rack size (${c}U)`);
            const m = {
                id: `blank-${t}-user-${Date.now()}`,
                type: "blank",
                startRU: 0,
                endRU: 0,
                ru: 1,
                isUserGap: !0,
            };
            "above" === e ? i.layout.splice(n + 1, 0, m) : i.layout.splice(n, 0, m);
            const x = Ue(i.layout).totalRU;
            if (x > me) {
                let e = x - me;
                for (let t = i.layout.length - 1; t >= 0 && e > 0; t--)
                    "blank" !== i.layout[t].type || i.layout[t].isUserGap || (i.layout.splice(t, 1), e--);
            }
            st(i), p(Ge(l, me)), u(!1), (De.current = !0);
        },
        et = (e) => {
            C(e.id), k(e.name);
        },
        tt = () => {
            w && M.trim() && Ke(w, M), C(null), k("");
        },
        st = (e) => {
            let t = 0,
                s = 0;
            e.layout.forEach((e) => {
                "equipment" === e.type && e.item ? (t += e.item.ru || 1) : "blank" === e.type && s++;
            });
            let a = t + s;
            for (; a > me && e.layout.length > 0; ) {
                if ("blank" !== e.layout[e.layout.length - 1].type) break;
                e.layout.pop(), s--, a--;
            }
            let r = 1;
            (t = 0),
                (s = 0),
                e.layout.forEach((e) => {
                    if ("equipment" === e.type && e.item) {
                        const s = e.item.ru || 1;
                        (e.startRU = r), (e.endRU = r + s - 1), (r += s), (t += s);
                    } else "blank" === e.type && ((e.startRU = r), (e.endRU = r), r++, s++);
                }),
                (e.rackSize = Math.min(t + s, me)),
                (e.equipmentRU = t),
                (e.blanksRU = s);
        },
        at = (e, t) => {
            b({ rackIdx: e, layoutId: t }), e !== B && T(e);
        },
        rt = (e, t) => {
            y({ rackIdx: e, item: t }), at(e, t.id);
        },
        lt = (e, t, s) => {
            e.preventDefault(), _({ rackIdx: t, ru: s });
        },
        it = (e, t, s) => {
            if ((e.preventDefault(), !f)) return;
            const a = h.map((e) => ({
                    ...e,
                    layout: e.layout.map((e) =>
                        "equipment" === e.type && e.item
                            ? { ...e, item: { ...e.item, pairItem: e.item.pairItem ? { ...e.item.pairItem } : null } }
                            : { ...e }
                    ),
                })),
                r = f.item && f.item.id;
            if ("string" == typeof r && r.endsWith(":pair")) {
                const e = r.slice(0, -5),
                    l = isNaN(e) ? e : Number(e),
                    i = a[f.rackIdx],
                    n = i.layout.findIndex((e) => e.id === l);
                if (n >= 0 && i.layout[n].item && i.layout[n].item.pairItem) {
                    const e = i.layout[n].item.pairItem,
                        r = e.ru || 1;
                    (i.layout[n].item.isHalfPair = !1), (i.layout[n].item.pairItem = null);
                    const l = {
                        id: e.id,
                        startRU: 0,
                        endRU: 0,
                        type: "equipment",
                        item: { ...e, isHalfWidth: !0, isHalfPair: !1, pairItem: null },
                    };
                    if (f.rackIdx === t) {
                        const e = Math.max(0, Math.min(s - 1, i.layout.length));
                        i.layout.splice(e, 0, l), st(i);
                    } else {
                        const n = a[t],
                            o = n.layout.filter((e) => "blank" === e.type).length;
                        if (o < r)
                            return (
                                I(`Cannot move "${e.name}" (${r}U) to Rack ${t + 1}. Only ${o}U available.`),
                                y(null),
                                void _(null)
                            );
                        let d = 0;
                        for (let e = n.layout.length - 1; e >= 0 && d < r; e--)
                            "blank" === n.layout[e].type && (n.layout.splice(e, 1), d++);
                        const c = Math.max(0, Math.min(s - 1, n.layout.length));
                        n.layout.splice(c, 0, l), st(i), st(n);
                    }
                    if ("manual" === L) p([...a]), y(null), _(null);
                    else {
                        const e = Oe(a, c, me);
                        p(Ge(e, me)), y(null), _(null), u(!1), (De.current = !0);
                    }
                    return void at(t, e.id);
                }
            }
            if (f.rackIdx === t) {
                const e = a[t],
                    r = e.layout.findIndex((e) => e.id === f.item.id),
                    l = Math.max(0, Math.min(s - 1, e.layout.length - 1));
                if (r !== l) {
                    const [t] = e.layout.splice(r, 1);
                    "blank" === t.type && (t.isUserGap = !0), e.layout.splice(l, 0, t), st(e);
                }
            } else {
                const e = a[f.rackIdx],
                    r = a[t],
                    l = f.item,
                    i = "equipment" === l.type ? l.item.ru : 1;
                if ("equipment" === l.type) {
                    const e = r.layout.filter((e) => "blank" === e.type).length;
                    if (e < i) {
                        const s = l.item?.name || "Item";
                        return (
                            I(`Cannot move "${s}" (${i}U) to Rack ${t + 1}. Only ${e}U available.`),
                            y(null),
                            void _(null)
                        );
                    }
                }
                const n = e.layout.findIndex((e) => e.id === l.id),
                    [o] = e.layout.splice(n, 1);
                if (("blank" === o.type && (o.isUserGap = !0), "equipment" === l.type)) {
                    for (let t = 0; t < i; t++)
                        e.layout.splice(n + t, 0, {
                            id: `blank-${f.rackIdx}-${Date.now()}-${t}`,
                            startRU: 0,
                            endRU: 0,
                            type: "blank",
                            ru: 1,
                        });
                    let t = 0;
                    for (let e = r.layout.length - 1; e >= 0 && t < i; e--)
                        "blank" === r.layout[e].type && (r.layout.splice(e, 1), t++);
                }
                const d = Math.max(0, Math.min(s - 1, r.layout.length));
                r.layout.splice(d, 0, o), st(e), st(r), at(t, o.id);
            }
            if ("manual" === L) p([...a]), y(null), _(null);
            else {
                const e = Oe(a, c, me);
                p(Ge(e, me)), y(null), _(null), u(!1), (De.current = !0);
            }
        },
        nt =
            e.length > 0
                ? (() => {
                      const t = [];
                      let s = 0,
                          a = 0;
                      h.forEach((e) => {
                          e.layout.forEach((e) => {
                              if ("equipment" === e.type && e.item) {
                                  const t = "shelf" === e.item.type,
                                      r = e.item.pairItem && "shelf" === e.item.pairItem.type,
                                      l = e.item.ru || 1;
                                  (t || r) && (s++, (a += l));
                              }
                          });
                      }),
                          s > 0 &&
                              t.push({
                                  type: "info",
                                  text: `🗄️ ${s} shelf${s > 1 ? " slots" : ""} needed (${a}U total).`,
                              }),
                          ge.ruSaved > 0 &&
                              t.push({ type: "success", text: `✅ Half-width pairing saves ${ge.ruSaved}U.` }),
                          ge.halfBlanksNeeded > 0 &&
                              t.push({
                                  type: "warning",
                                  text: `Need ${ge.halfBlanksNeeded}U half-rack filler panels.`,
                              }),
                          ge.hasHeavyEquipment &&
                              t.push({
                                  type: "info",
                                  text: "⚖️ Heavy equipment (4U+) should be mounted at bottom for stability.",
                              });
                      const r = e.filter((e) => e.ru >= 10);
                      if (
                          (r.length > 0 &&
                              t.push({
                                  type: "warning",
                                  text: `🔧 ${r.length} item(s) ≥10U - verify rail support and weight capacity.`,
                              }),
                          h.length > 1)
                      ) {
                          const e = h
                              .map((e, t) => {
                                  const { equipRU: s, blanksRU: a, totalRU: r } = Ue(e.layout);
                                  return {
                                      idx: t + 1,
                                      equipRU: s,
                                      blanksRU: a,
                                      rackSize: r,
                                      spare: r > 0 ? Math.round((a / r) * 100) : 0,
                                  };
                              })
                              .map((e) => `R${e.idx}: ${e.equipRU}/${e.rackSize}U (${e.spare}%)`)
                              .join(" • ");
                          t.push({ type: "info", text: `📦 ${e}` });
                      }
                      if (h.length > 0) {
                          const e = h.map((e, t) => {
                                  const { equipRU: s, blanksRU: a, totalRU: r } = Ue(e.layout),
                                      l = r > 0 ? Math.round((a / r) * 100) : 0;
                                  return {
                                      idx: t + 1,
                                      shortName:
                                          e.name && e.name.trim()
                                              ? e.name.trim().length > 8
                                                  ? e.name.trim().substring(0, 8) + "…"
                                                  : e.name.trim()
                                              : `R${t + 1}`,
                                      equipRU: s,
                                      blanksRU: a,
                                      rackSize: r,
                                      spare: l,
                                      meetsTarget: l >= c,
                                  };
                              }),
                              s = e.reduce((e, t) => e + t.blanksRU, 0);
                          t.push({ type: "info", text: `EIA-310: ${s}U blank panels for airflow management.` });
                          const a = e.every((e) => e.meetsTarget),
                              r = e.filter((e) => !e.meetsTarget);
                          if (a)
                              h.length > 1
                                  ? t.push({ type: "success", text: `✅ All ${h.length} racks maintain ≥${c}% spare.` })
                                  : t.push({
                                        type: "success",
                                        text: `✅ ${e[0]?.spare || 0}% spare capacity (target: ${c}%).`,
                                    });
                          else {
                              const e = r.map((e) => `${e.shortName}: ${e.spare}%`).join(", ");
                              t.push({ type: "warning", text: `⚠️ Below ${c}% target: ${e}. Consider adding racks.` });
                          }
                      }
                      h.length > 5 &&
                          t.push({
                              type: "warning",
                              text: `📊 ${h.length} racks - consider cable management and power distribution.`,
                          });
                      const l = Math.round(50 * be);
                      let i = 0,
                          n = 0;
                      h.forEach((e) => {
                          const t = Ue(e.layout);
                          (i += t.equipRU), (n += t.blanksRU);
                      });
                      const o = i + n,
                          d = o > 0 ? Math.round((n / o) * 100) : 0;
                      return (
                          be > 20 && t.push({ type: "info", text: `⚡ Estimated power: ~${l}W. Verify PDU capacity.` }),
                          d >= c
                              ? t.push({ type: "success", text: `✅ Overall: ${d}% spare (target: ${c}%).` })
                              : t.push({ type: "warning", text: `⚠️ Overall: ${d}% spare < ${c}% target.` }),
                          t
                      );
                  })()
                : [],
        ot = (() => {
            if (!g) return null;
            const e = h[g.rackIdx];
            if (!e) return null;
            const t = g.layoutId;
            if ("string" == typeof t && t.endsWith(":pair")) {
                const s = t.slice(0, -5),
                    a = isNaN(s) ? s : Number(s),
                    r = e.layout.find((e) => e.id === a);
                if (r && r.item && r.item.pairItem)
                    return {
                        id: t,
                        type: "equipment",
                        item: r.item.pairItem,
                        startRU: r.startRU,
                        endRU: r.endRU,
                        isPairItem: !0,
                        mainEntryId: a,
                    };
            }
            return e.layout.find((e) => e.id === t) || null;
        })(),
        dt = (e, t, s) => {
            const { layout: a } = e,
                { equipRU: r, blanksRU: l, totalRU: i } = Ue(a),
                n = i,
                o = r,
                d = l,
                m = n > 0 ? Math.round((o / n) * 100) : 0,
                x = n > 0 ? Math.round((d / n) * 100) : 0,
                u = g?.rackIdx === t,
                f = h.length > 1,
                y = a.some((e) => "equipment" === e.type),
                rackDisplayName = We(e, t);
            return _jsxs("div", {
                key: t,
                className: "flex-shrink-0 flex flex-col " + (f ? "w-56" : "flex-1 max-w-md"),
                style: { alignSelf: "flex-end" },
                children: [
                    _jsxs("div", {
                        className:
                            "mb-2 p-2 rounded-lg transition-all cursor-pointer " +
                            (u
                                ? "bg-yellow-100 border-2 border-yellow-400 shadow-md dark:shadow-gray-950/20"
                                : B === t
                                  ? "bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-300"
                                  : "bg-gray-100 dark:bg-gray-700 border-2 border-transparent hover:bg-gray-200 dark:bg-gray-700"),
                        onClick: () => {
                            T(t), e.layout && e.layout.length > 0 && b({ rackIdx: t, layoutId: e.layout[0].id });
                        },
                        children: [
                            _jsxs("div", {
                                className: "flex flex-col gap-1",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center justify-between gap-1",
                                        children: [
                                            _jsx("div", {
                                                className: "rack-name-container flex-1 min-w-0 overflow-hidden",
                                                children: _jsx("input", {
                                                    type: "text",
                                                    value: e.name || "",
                                                    placeholder: f ? `Rack ${t + 1}` : "Rack",
                                                    onChange: (ev) => {
                                                        ev.stopPropagation();
                                                        const idx = t;
                                                        const val = ev.target.value;
                                                        p((racks) => racks.map((r, i) => (i === idx ? { ...r, name: val } : r)));
                                                    },
                                                    onClick: (ev) => ev.stopPropagation(),
                                                    onFocus: (ev) => {
                                                        ev.target.select();
                                                        ev.target.style.animation = 'none';
                                                    },
                                                    onBlur: (ev) => {
                                                        if (e.name && e.name.length > 15) {
                                                            ev.target.style.animation = '';
                                                        }
                                                    },
                                                    className:
                                                        "font-semibold text-sm bg-transparent border-none outline-none w-full placeholder-gray-700 focus:bg-white dark:bg-gray-800 focus:ring-1 focus:ring-blue-400 focus:rounded px-1 " +
                                                        (e.name && e.name.length > 15 ? "rack-name-marquee" : ""),
                                                    style: e.name && e.name.length > 15 ? { width: 'max-content', minWidth: '100%' } : {},
                                                    title: e.name ? e.name : "Click to edit rack name",
                                                }),
                                            }),
                                            _jsxs("div", {
                                                className: "flex items-center gap-1 flex-shrink-0",
                                                children: [
                                                    _jsx("span", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",
                                                        children: `(${n}U)`,
                                                    }),
                                                    B === t &&
                                                        f &&
                                                        _jsx("span", {
                                                            className:
                                                                "text-xs bg-blue-50 dark:bg-blue-900/200 text-white px-1 py-0.5 rounded whitespace-nowrap",
                                                            children: "Target",
                                                        }),
                                                    _jsxs("span", {
                                                        className:
                                                            "text-xs px-1.5 py-0.5 rounded font-medium whitespace-nowrap " +
                                                            (m <= 75
                                                                ? "bg-green-100 text-green-700"
                                                                : m <= 85
                                                                  ? "bg-yellow-100 text-yellow-700"
                                                                  : "bg-red-100 text-red-700"),
                                                        children: [m, "%"],
                                                    }),
                                                    "manual" === L &&
                                                        h.length > 1 &&
                                                        _jsx("button", {
                                                            onClick: (e) => {
                                                                e.stopPropagation(), te({ index: t, hasEquipment: y }), Z(!0);
                                                            },
                                                            className:
                                                                "text-red-500 hover:text-red-700 hover:bg-red-50 dark:bg-red-900/20 rounded p-0.5 transition-colors flex-shrink-0",
                                                            title: "Delete Rack",
                                                            children: _jsx("svg", {
                                                                className: "w-4 h-4",
                                                                fill: "none",
                                                                viewBox: "0 0 24 24",
                                                                stroke: "currentColor",
                                                                strokeWidth: 2,
                                                                children: _jsx("path", {
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round",
                                                                    d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
                                                                }),
                                                            }),
                                                        }),
                                                ],
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "flex items-center justify-between mt-1 text-xs text-gray-500 dark:text-gray-400",
                                children: [
                                    _jsxs("span", { className: "whitespace-nowrap", children: [o, "U equip"] }),
                                    _jsxs("span", {
                                        className: "whitespace-nowrap",
                                        children: [d, "U spare (", x, "%)"],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "flex gap-1",
                        children: [
                            _jsx("div", {
                                className: "flex flex-col-reverse text-xs text-gray-400 w-6 pt-1 pb-1",
                                children: Array.from({ length: n }, (e, t) => t + 1).map((e, t) =>
                                    _jsx(
                                        "div",
                                        {
                                            className: "flex items-center justify-end pr-1",
                                            style: { height: "22px", marginTop: t < n - 1 ? "1px" : "0" },
                                            children: e,
                                        },
                                        e
                                    )
                                ),
                            }),
                            _jsx("div", {
                                className:
                                    "flex-1 bg-gray-900 rounded-lg p-1 border-2 transition-all " +
                                    (u ? "border-yellow-400 shadow-lg dark:shadow-gray-950/30 shadow-yellow-200/50" : "border-gray-700"),
                                style: { minHeight: 22 * n + (n - 1) + 8 + "px" },
                                onDragOver: (e) => lt(e, t, 1),
                                onDrop: (e) => it(e, t, 1),
                                children: _jsx("div", {
                                    className: "flex flex-col-reverse gap-px",
                                    children: a.map((e) => {
                                        const s = g?.rackIdx === t && g?.layoutId === e.id,
                                            a = j?.rackIdx === t && e.startRU <= j.ru && j.ru <= e.endRU;
                                        if ("equipment" === e.type) {
                                            const r = e.item,
                                                l = ue(r),
                                                i = 22 * r.ru + (r.ru - 1),
                                                n = g?.layoutId === `${e.id}:pair`;
                                            return r.isHalfWidth
                                                ? _jsxs(
                                                      "div",
                                                      {
                                                          key: e.id,
                                                          className: "flex gap-px",
                                                          style: { height: `${i}px` },
                                                          onDragOver: (s) => lt(s, t, e.startRU),
                                                          onDrop: (s) => it(s, t, e.startRU),
                                                          children: [
                                                              _jsxs("div", {
                                                                  className: `flex-1 ${l.bg} ${l.border} ${l.text} border rounded flex items-center justify-center px-1 cursor-grab ${s ? "ring-2 ring-yellow-400" : ""} ${a ? "ring-2 ring-purple-400" : ""}`,
                                                                  draggable: !0,
                                                                  onDragStart: () => rt(t, e),
                                                                  onClick: (s) => {
                                                                      s.stopPropagation(), at(t, e.id);
                                                                  },
                                                                  children: [
                                                                      _jsx("span", {
                                                                          className: "text-xs truncate",
                                                                          children: r.name,
                                                                      }),
                                                                      _jsxs("span", {
                                                                          className: "text-xs ml-1 opacity-75",
                                                                          children: [r.ru, "U"],
                                                                      }),
                                                                  ],
                                                              }),
                                                              r.isHalfPair && r.pairItem
                                                                  ? (() => {
                                                                        const s = ue(r.pairItem);
                                                                        return _jsxs("div", {
                                                                            className: `flex-1 ${s.bg} ${s.border} ${s.text} border rounded flex items-center justify-center px-1 cursor-grab ${n ? "ring-2 ring-yellow-400" : ""}`,
                                                                            draggable: !0,
                                                                            onDragStart: () => {
                                                                                const s = {
                                                                                    id: `${e.id}:pair`,
                                                                                    type: "equipment",
                                                                                    item: r.pairItem,
                                                                                    startRU: e.startRU,
                                                                                    endRU: e.endRU,
                                                                                };
                                                                                rt(t, s);
                                                                            },
                                                                            onClick: (s) => {
                                                                                s.stopPropagation(),
                                                                                    at(t, `${e.id}:pair`);
                                                                            },
                                                                            children: [
                                                                                _jsx("span", {
                                                                                    className: "text-xs truncate",
                                                                                    children: r.pairItem.name,
                                                                                }),
                                                                                _jsxs("span", {
                                                                                    className:
                                                                                        "text-xs ml-1 opacity-75",
                                                                                    children: [r.pairItem.ru, "U"],
                                                                                }),
                                                                            ],
                                                                        });
                                                                    })()
                                                                  : _jsx("div", {
                                                                        className:
                                                                            "flex-1 bg-gray-600 border border-dashed border-gray-500 rounded flex items-center justify-center",
                                                                        children: _jsx("span", {
                                                                            className: "text-gray-400 text-xs",
                                                                            children: "½▭",
                                                                        }),
                                                                    }),
                                                          ],
                                                      },
                                                      e.id
                                                  )
                                                : _jsxs("div", {
                                                      key: e.id,
                                                      draggable: !0,
                                                      onDragStart: () => rt(t, e),
                                                      onDragOver: (s) => lt(s, t, e.startRU),
                                                      onDrop: (s) => it(s, t, e.startRU),
                                                      onClick: () => at(t, e.id),
                                                      className: `${l.bg} ${l.border} ${l.text} border rounded flex items-center justify-between px-2 cursor-grab ${s ? "ring-2 ring-yellow-400" : ""} ${a ? "ring-2 ring-purple-400" : ""}`,
                                                      style: { height: `${i}px`, minHeight: "20px" },
                                                      children: [
                                                          _jsxs("div", {
                                                              className: "flex items-center gap-1 overflow-hidden",
                                                              children: [
                                                                  _jsx("span", {
                                                                      className: "text-xs opacity-75",
                                                                      children: "shelf" === r.type ? "📦" : "🔧",
                                                                  }),
                                                                  _jsx("span", {
                                                                      className: "text-xs font-medium truncate",
                                                                      children: r.name,
                                                                  }),
                                                              ],
                                                          }),
                                                          _jsxs("span", {
                                                              className: "text-xs font-bold",
                                                              children: [r.ru, "U"],
                                                          }),
                                                      ],
                                                  });
                                        }
                                        return _jsx("div", {
                                            key: e.id,
                                            draggable: !0,
                                            onDragStart: () => rt(t, e),
                                            onDragOver: (s) => lt(s, t, e.startRU),
                                            onDrop: (s) => it(s, t, e.startRU),
                                            onClick: () => at(t, e.id),
                                            className: `bg-gray-700 border border-dashed border-gray-500 rounded flex items-center justify-center cursor-grab ${s ? "ring-2 ring-yellow-400" : ""} ${a ? "ring-2 ring-purple-400" : ""}`,
                                            style: { height: "22px" },
                                            children: _jsx("span", {
                                                className: "text-gray-400 text-xs",
                                                children: "▭ 1U",
                                            }),
                                        });
                                    }),
                                }),
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-2 flex flex-col items-center gap-1 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "flex gap-3",
                                children: [
                                    _jsxs("span", { className: "text-blue-600", children: ["⚡", o, "U"] }),
                                    _jsxs("span", { className: "text-gray-500 dark:text-gray-400", children: ["▭", d, "U"] }),
                                ],
                            }),
                            _jsx("div", {
                                className:
                                    "px-2 py-0.5 rounded " +
                                    (n > 0 && Math.round((d / n) * 100) >= c
                                        ? "bg-green-100 text-green-700"
                                        : "bg-yellow-100 text-yellow-700"),
                                children: `${n > 0 ? Math.round((d / n) * 100) : 0}% spare`,
                            }),
                        ],
                    }),
                ],
            });
        };
    return _jsxs("div", {
        className: "max-w-7xl mx-auto px-2 sm:px-4 py-4 sm:py-6",
        children: [
            _jsx("h1", {
                className: "text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",
                children: "Professional Rack Builder",
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl p-4 mb-4 border shadow-sm dark:shadow-gray-950/10",
                children: [
                    _jsxs("div", {
                        className: "flex flex-col sm:flex-row sm:items-center gap-4",
                        children: [
                            _jsxs("div", {
                                className: "flex-1",
                                children: [
                                    _jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            _jsx("span", {
                                                className: "text-lg",
                                                children: "auto" === L ? "⚡" : "🔧",
                                            }),
                                            _jsx("h2", {
                                                className: "font-semibold text-gray-800 text-base",
                                                children: "Design Mode",
                                            }),
                                            _jsx("span", {
                                                className:
                                                    "text-xs px-2 py-0.5 rounded-full font-medium " +
                                                    ("auto" === L
                                                        ? "bg-blue-100 text-blue-700"
                                                        : "bg-indigo-100 text-indigo-700"),
                                                children: "auto" === L ? "Automatic" : "Manual",
                                            }),
                                        ],
                                    }),
                                    _jsx("p", {
                                        className: "text-xs text-gray-500 dark:text-gray-400 leading-relaxed",
                                        children:
                                            "auto" === L
                                                ? "Equipment is automatically distributed across racks based on spare capacity target."
                                                : "Full control over rack sizes, equipment placement, and arrangement. No auto-optimization.",
                                    }),
                                ],
                            }),
                            _jsx("div", {
                                className: "flex-shrink-0",
                                children: _jsxs("div", {
                                    className: "inline-flex rounded-lg p-1 bg-gray-100 dark:bg-gray-700",
                                    children: [
                                        _jsxs("button", {
                                            onClick: () => H("auto"),
                                            className:
                                                "flex items-center gap-1.5 px-4 py-2 rounded-md text-sm font-medium transition-all " +
                                                ("auto" === L
                                                    ? "bg-white dark:bg-gray-800 text-blue-700 shadow-sm dark:shadow-gray-950/10"
                                                    : "text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300"),
                                            children: [
                                                _jsx("span", { children: "⚡" }),
                                                _jsx("span", { children: "Automatic" }),
                                            ],
                                        }),
                                        _jsxs("button", {
                                            onClick: () => {
                                                H("manual"), 0 === e.length && p([]);
                                            },
                                            className:
                                                "flex items-center gap-1.5 px-4 py-2 rounded-md text-sm font-medium transition-all " +
                                                ("manual" === L
                                                    ? "bg-white dark:bg-gray-800 text-indigo-700 shadow-sm dark:shadow-gray-950/10"
                                                    : "text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300"),
                                            children: [
                                                _jsx("span", { children: "🔧" }),
                                                _jsx("span", { children: "Manual" }),
                                            ],
                                        }),
                                    ],
                                }),
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "mt-3 pt-3 border-t border-gray-100",
                        children: _jsxs("div", {
                            className: "flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-500 dark:text-gray-400",
                            children:
                                "auto" === L
                                    ? [
                                          _jsxs("span", {
                                              key: "f1",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-green-500", children: "✓" }),
                                                  "Auto rack sizing",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f2",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-green-500", children: "✓" }),
                                                  "Spare capacity optimization",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f3",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-green-500", children: "✓" }),
                                                  "Equipment redistribution",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f4",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-green-500", children: "✓" }),
                                                  "Automatic racks addition",
                                              ],
                                          }),
                                      ]
                                    : [
                                          _jsxs("span", {
                                              key: "f1",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-indigo-500", children: "✓" }),
                                                  "Custom rack sizes",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f2",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-indigo-500", children: "✓" }),
                                                  "Manual placement",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f3",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-indigo-500", children: "✓" }),
                                                  "Manual arrange",
                                              ],
                                          }),
                                          _jsxs("span", {
                                              key: "f4",
                                              className: "flex items-center gap-1",
                                              children: [
                                                  _jsx("span", { className: "text-indigo-500", children: "✓" }),
                                                  "Fixed rack layout",
                                              ],
                                          }),
                                      ],
                        }),
                    }),
                ],
            }),
            D &&
                _jsxs("div", {
                    key: E,
                    className:
                        "fixed top-4 left-4 right-4 sm:left-auto sm:right-4 sm:max-w-md z-50 bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-3 rounded-xl shadow-2xl border border-red-400/30",
                    children: [
                        _jsxs("div", {
                            className: "flex items-start gap-3",
                            children: [
                                _jsx("div", {
                                    className:
                                        "flex-shrink-0 w-8 h-8 bg-white dark:bg-gray-800/20 rounded-full flex items-center justify-center",
                                    children: _jsx("span", { className: "text-lg", children: "⚠️" }),
                                }),
                                _jsxs("div", {
                                    className: "flex-1 min-w-0",
                                    children: [
                                        _jsx("div", {
                                            className: "font-semibold text-sm text-white/90 mb-0.5",
                                            children: "Action Required",
                                        }),
                                        _jsx("div", { className: "text-sm text-white/95 leading-snug", children: D }),
                                    ],
                                }),
                                _jsx("button", {
                                    onClick: () => I(null),
                                    className:
                                        "flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full bg-white dark:bg-gray-800/10 hover:bg-white dark:bg-gray-800/20 text-white/80 hover:text-white transition-colors",
                                    children: "×",
                                }),
                            ],
                        }),
                        _jsx("div", {
                            className: "mt-2 h-1 bg-white dark:bg-gray-800/20 rounded-full overflow-hidden",
                            children: _jsx("div", {
                                className: "h-full bg-white dark:bg-gray-800/60 rounded-full",
                                style: { animation: "shrink 4s linear forwards", width: "100%" },
                            }),
                        }),
                    ],
                }),
            _jsxs("div", {
                className: "bg-purple-50 dark:bg-purple-900/20 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 border border-purple-200 dark:border-purple-800",
                children: [
                    _jsx("h2", {
                        className: "font-semibold text-purple-800 dark:text-purple-200 mb-2 text-sm sm:text-base",
                        children: "AVIXA/EIA-310-E Compliant Design",
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-5 gap-1 sm:gap-2 text-xs",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-1.5 sm:p-2 rounded border text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-purple-700", children: "1U" }),
                                    _jsx("div", {
                                        className: "text-purple-600 text-[10px] sm:text-xs",
                                        children: "44.45mm",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-1.5 sm:p-2 rounded border text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-purple-700", children: '19"' }),
                                    _jsx("div", {
                                        className: "text-purple-600 text-[10px] sm:text-xs",
                                        children: "Full",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-1.5 sm:p-2 rounded border text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-purple-700", children: '9.5"' }),
                                    _jsx("div", {
                                        className: "text-purple-600 text-[10px] sm:text-xs",
                                        children: "Half",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-1.5 sm:p-2 rounded border text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-purple-700", children: "45U" }),
                                    _jsx("div", {
                                        className: "text-purple-600 text-[10px] sm:text-xs",
                                        children: "Max",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 p-1.5 sm:p-2 rounded border text-center",
                                children: [
                                    _jsx("div", { className: "font-bold text-purple-700", children: `${c}%` }),
                                    _jsx("div", {
                                        className: "text-purple-600 text-[10px] sm:text-xs",
                                        children: "Target",
                                    }),
                                ],
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 mb-4 sm:mb-6 border",
                children: [
                    _jsxs("div", {
                        className: "flex items-center justify-between mb-2",
                        children: [
                            _jsx("h3", {
                                className: "font-semibold text-gray-800 text-sm",
                                children: "🎨 Color Legend",
                            }),
                            _jsx("span", {
                                className: "text-xs text-gray-500 dark:text-gray-400",
                                children: "Equipment is color-coded by type, width & size",
                            }),
                        ],
                    }),
                    _jsx("div", {
                        className: "grid grid-cols-1 sm:grid-cols-2 gap-3",
                        children: [
                            {
                                category: "Rack-Mounted",
                                items: [
                                    {
                                        bg: "bg-blue-600",
                                        border: "border-blue-700",
                                        label: "Full 1-2U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-indigo-600",
                                        border: "border-indigo-700",
                                        label: "Full 3-4U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-violet-600",
                                        border: "border-violet-700",
                                        label: "Full 5+U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-blue-400",
                                        border: "border-blue-500 border-dashed",
                                        label: "Half 1-2U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-indigo-400",
                                        border: "border-indigo-500 border-dashed",
                                        label: "Half 3-4U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-violet-400",
                                        border: "border-violet-500 border-dashed",
                                        label: "Half 5+U",
                                        text: "text-white",
                                    },
                                ],
                            },
                            {
                                category: "Shelf-Mounted",
                                items: [
                                    {
                                        bg: "bg-emerald-600",
                                        border: "border-emerald-700",
                                        label: "Full 1-2U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-teal-600",
                                        border: "border-teal-700",
                                        label: "Full 3-4U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-cyan-600",
                                        border: "border-cyan-700",
                                        label: "Full 5+U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-emerald-400",
                                        border: "border-emerald-500 border-dashed",
                                        label: "Half 1-2U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-teal-400",
                                        border: "border-teal-500 border-dashed",
                                        label: "Half 3-4U",
                                        text: "text-white",
                                    },
                                    {
                                        bg: "bg-cyan-400",
                                        border: "border-cyan-500 border-dashed",
                                        label: "Half 5+U",
                                        text: "text-white",
                                    },
                                ],
                            },
                        ].map((e, t) =>
                            _jsxs("div", {
                                key: t,
                                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-2",
                                children: [
                                    _jsxs("div", {
                                        className: "text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5 flex items-center gap-1",
                                        children: [
                                            _jsx("span", { children: "Rack-Mounted" === e.category ? "🔧" : "📦" }),
                                            _jsx("span", { children: e.category }),
                                        ],
                                    }),
                                    _jsx("div", {
                                        className: "grid grid-cols-3 gap-1",
                                        children: e.items.map((e, t) =>
                                            _jsx("div", {
                                                key: t,
                                                className: `${e.bg} ${e.border} ${e.text} border rounded px-1.5 py-1 text-center`,
                                                children: _jsx("div", {
                                                    className: "text-[10px] font-medium truncate",
                                                    children: e.label,
                                                }),
                                            })
                                        ),
                                    }),
                                ],
                            })
                        ),
                    }),
                ],
            }),
            _jsxs("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",
                children: [
                    _jsxs("div", {
                        className: "space-y-4",
                        children: [
                            _jsxs("div", {
                                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 border",
                                children: [
                                    _jsx("h2", {
                                        className: "text-base sm:text-lg font-semibold mb-3",
                                        children: "Add Equipment",
                                    }),
                                    _jsxs("div", {
                                        className: "space-y-3",
                                        children: [
                                            _jsxs("div", {
                                                children: [
                                                    _jsx("label", {
                                                        className: "block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",
                                                        children: "Equipment Name",
                                                    }),
                                                    _jsx("input", {
                                                        type: "text",
                                                        value: s,
                                                        onChange: (e) => a(e.target.value),
                                                        onKeyPress: (e) => "Enter" === e.key && Je(),
                                                        placeholder: "e.g. Server, Switch, UPS...",
                                                        className: "w-full px-3 py-2.5 border rounded-lg text-sm",
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "grid grid-cols-3 gap-2",
                                                children: [
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className:
                                                                    "block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Rack Units",
                                                            }),
                                                            _jsx("input", {
                                                                type: "number",
                                                                min: "1",
                                                                max: me,
                                                                value: r,
                                                                onChange: (e) =>
                                                                    l(
                                                                        "" === e.target.value
                                                                            ? ""
                                                                            : String(
                                                                                  Math.min(
                                                                                      me,
                                                                                      Math.max(
                                                                                          1,
                                                                                          parseInt(e.target.value) || 1
                                                                                      )
                                                                                  )
                                                                              )
                                                                    ),
                                                                placeholder: "RU",
                                                                className:
                                                                    "w-full px-2 py-2.5 border rounded-lg text-sm",
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className:
                                                                    "block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Mount Type",
                                                            }),
                                                            _jsxs("select", {
                                                                value: i,
                                                                onChange: (e) => n(e.target.value),
                                                                className:
                                                                    "w-full px-2 py-2.5 border rounded-lg text-sm bg-white dark:bg-gray-800",
                                                                children: [
                                                                    _jsx("option", { value: "rack", children: "Rack" }),
                                                                    _jsx("option", {
                                                                        value: "shelf",
                                                                        children: "Shelf",
                                                                    }),
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            _jsx("label", {
                                                                className:
                                                                    "block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",
                                                                children: "Width",
                                                            }),
                                                            _jsxs("select", {
                                                                value: o,
                                                                onChange: (e) => d(e.target.value),
                                                                className:
                                                                    "w-full px-2 py-2.5 border rounded-lg text-sm bg-white dark:bg-gray-800",
                                                                children: [
                                                                    _jsx("option", {
                                                                        value: "full",
                                                                        children: 'Full (19")',
                                                                    }),
                                                                    _jsx("option", {
                                                                        value: "half",
                                                                        children: 'Half (9.5")',
                                                                    }),
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            _jsxs("div", {
                                                className: "mb-3",
                                                children: [
                                                    _jsx("label", {
                                                        className: "block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",
                                                        children:
                                                            h.length > 1 ? "Target Rack for New Items" : "Current Rack",
                                                    }),
                                                    _jsx("select", {
                                                        value: B,
                                                        onChange: (e) => {
                                                            const t = parseInt(e.target.value) || 0;
                                                            if ((T(t), h[t] && h[t].layout.length > 0)) {
                                                                const e = h[t].layout[0];
                                                                e && b({ rackIdx: t, layoutId: e.id });
                                                            } else b(null);
                                                        },
                                                        disabled: h.length <= 1,
                                                        className:
                                                            "w-full px-2 py-2 border rounded-lg text-sm bg-white dark:bg-gray-800" +
                                                            (h.length <= 1 ? " bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400" : "") +
                                                            (g?.rackIdx === B ? " ring-2 ring-purple-300" : ""),
                                                        children: h.map((e, t) => {
                                                            const {
                                                                equipRU: s,
                                                                blanksRU: a,
                                                                totalRU: r,
                                                            } = Ue(e.layout);
                                                            let l = 0;
                                                            for (
                                                                let t = e.layout.length - 1;
                                                                t >= 0 && "blank" === e.layout[t].type;
                                                                t--
                                                            )
                                                                l++;
                                                            const i = r > 0 ? Math.round((a / r) * 100) : 0,
                                                                n = B === t,
                                                                o = 0 === l,
                                                                d = We(e, t);
                                                            return _jsx(
                                                                "option",
                                                                {
                                                                    value: t,
                                                                    children: `${n ? "● " : ""}${d}${o ? " (Full)" : ` (${l}U avail, ${i}%)`}`,
                                                                },
                                                                t
                                                            );
                                                        }),
                                                    }),
                                                    _jsx("p", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                                        children:
                                                            (h.length,
                                                            "Choose Target rack where new equipment will be added."),
                                                    }),
                                                ],
                                            }),
                                            _jsx("button", {
                                                onClick: Je,
                                                className:
                                                    "w-full py-2.5 rounded-lg font-semibold bg-purple-600 hover:bg-purple-700 text-white text-sm sm:text-base transition-colors",
                                                children: "+ Add Equipment",
                                            }),
                                            e.length > 0 &&
                                                _jsxs("div", {
                                                    className: "flex gap-2 mt-2",
                                                    children: [
                                                        _jsx("button", {
                                                            onClick: () => pe(!0),
                                                            className:
                                                                "flex-1 py-2 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                                                            children: "⟲ Reset",
                                                        }),
                                                        _jsx("button", {
                                                            onClick: async () => {
                                                                const t = h,
                                                                    s = e;
                                                                if (0 === t.length)
                                                                    return void I(
                                                                        "Add a rack and equipment before exporting."
                                                                    );
                                                                let a = !1;
                                                                if (
                                                                    (t.forEach((e) => {
                                                                        e.layout.some((e) => "equipment" === e.type) &&
                                                                            (a = !0);
                                                                    }),
                                                                    a)
                                                                )
                                                                    try {
                                                                        window.jspdf ||
                                                                            (await new Promise((e, t) => {
                                                                                const s =
                                                                                    document.createElement("script");
                                                                                (s.src =
                                                                                    "https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),
                                                                                    (s.onload = e),
                                                                                    (s.onerror = t),
                                                                                    document.head.appendChild(s);
                                                                            }));
                                                                        const { jsPDF: a } = window.jspdf,
                                                                            r = new a({
                                                                                orientation: "landscape",
                                                                                unit: "mm",
                                                                                format: [609.6, 914.4],
                                                                            }),
                                                                            l = r.internal.pageSize.getWidth(),
                                                                            i = r.internal.pageSize.getHeight(),
                                                                            n = 25,
                                                                            o = [37, 99, 235],
                                                                            d = [17, 24, 39],
                                                                            m = [107, 114, 128],
                                                                            x = [55, 65, 81],
                                                                            u = (e) => {
                                                                                if (!e)
                                                                                    return {
                                                                                        fill: [100, 100, 100],
                                                                                        border: [80, 80, 80],
                                                                                    };
                                                                                const t = "rack" === e.type,
                                                                                    s =
                                                                                        e.isHalfWidth ||
                                                                                        "half" === e.width,
                                                                                    a = e.ru || 1,
                                                                                    r = a <= 2 ? 0 : a <= 4 ? 1 : 2;
                                                                                if (t) {
                                                                                    return s
                                                                                        ? [
                                                                                              {
                                                                                                  fill: [96, 165, 250],
                                                                                                  border: [
                                                                                                      59, 130, 246,
                                                                                                  ],
                                                                                              },
                                                                                              {
                                                                                                  fill: [129, 140, 248],
                                                                                                  border: [
                                                                                                      99, 102, 241,
                                                                                                  ],
                                                                                              },
                                                                                              {
                                                                                                  fill: [167, 139, 250],
                                                                                                  border: [
                                                                                                      139, 92, 246,
                                                                                                  ],
                                                                                              },
                                                                                          ][r]
                                                                                        : [
                                                                                              {
                                                                                                  fill: [37, 99, 235],
                                                                                                  border: [29, 78, 216],
                                                                                              },
                                                                                              {
                                                                                                  fill: [79, 70, 229],
                                                                                                  border: [67, 56, 202],
                                                                                              },
                                                                                              {
                                                                                                  fill: [124, 58, 237],
                                                                                                  border: [
                                                                                                      109, 40, 217,
                                                                                                  ],
                                                                                              },
                                                                                          ][r];
                                                                                }
                                                                                return s
                                                                                    ? [
                                                                                          {
                                                                                              fill: [52, 211, 153],
                                                                                              border: [16, 185, 129],
                                                                                          },
                                                                                          {
                                                                                              fill: [45, 212, 191],
                                                                                              border: [20, 184, 166],
                                                                                          },
                                                                                          {
                                                                                              fill: [34, 211, 238],
                                                                                              border: [6, 182, 212],
                                                                                          },
                                                                                      ][r]
                                                                                    : [
                                                                                          {
                                                                                              fill: [5, 150, 105],
                                                                                              border: [4, 120, 87],
                                                                                          },
                                                                                          {
                                                                                              fill: [13, 148, 136],
                                                                                              border: [15, 118, 110],
                                                                                          },
                                                                                          {
                                                                                              fill: [8, 145, 178],
                                                                                              border: [14, 116, 144],
                                                                                          },
                                                                                      ][r];
                                                                            };
                                                                        let p = 0,
                                                                            g = 0,
                                                                            b = 0;
                                                                        t.forEach((e) => {
                                                                            const t = Ue(e.layout);
                                                                            (p += t.equipRU),
                                                                                (g += t.blanksRU),
                                                                                (b += t.totalRU);
                                                                        });
                                                                        const f = b > 0 ? Math.round((g / b) * 100) : 0,
                                                                            y = b > 0 ? Math.round((p / b) * 100) : 0,
                                                                            j = s.filter((e) => "shelf" === e.type),
                                                                            _ = j.filter(
                                                                                (e) =>
                                                                                    "full" === e.width ||
                                                                                    (!e.width && !e.isHalfWidth)
                                                                            ),
                                                                            v = j.filter(
                                                                                (e) =>
                                                                                    "half" === e.width || e.isHalfWidth
                                                                            ),
                                                                            N = _.length + Math.ceil(v.length / 2),
                                                                            w = s.filter(
                                                                                (e) =>
                                                                                    "half" === e.width || e.isHalfWidth
                                                                            ).length,
                                                                            C = 6,
                                                                            M = Math.ceil(t.length / C) + 1,
                                                                            k =
                                                                                "https://avtoolspro.com/AV_TOOLS_LOGO.png",
                                                                            S = (e) =>
                                                                                new Promise((t, s) => {
                                                                                    const a = new Image();
                                                                                    (a.crossOrigin = "Anonymous"),
                                                                                        (a.onload = () => {
                                                                                            try {
                                                                                                const e =
                                                                                                    document.createElement(
                                                                                                        "canvas"
                                                                                                    );
                                                                                                (e.width = a.width),
                                                                                                    (e.height =
                                                                                                        a.height);
                                                                                                e
                                                                                                    .getContext("2d")
                                                                                                    .drawImage(a, 0, 0),
                                                                                                    t(
                                                                                                        e.toDataURL(
                                                                                                            "image/png"
                                                                                                        )
                                                                                                    );
                                                                                            } catch (e) {
                                                                                                s(e);
                                                                                            }
                                                                                        }),
                                                                                        (a.onerror = () =>
                                                                                            s(
                                                                                                new Error(
                                                                                                    "Failed to load logo"
                                                                                                )
                                                                                            )),
                                                                                        (a.src = e);
                                                                                });
                                                                        // Use cached logo if available, otherwise load and cache it
                                                                        let R = pdfLogoCacheRef.current;
                                                                        if (!R && !pdfLogoLoadingRef.current) {
                                                                            pdfLogoLoadingRef.current = true;
                                                                            try {
                                                                                R = await S(k);
                                                                                pdfLogoCacheRef.current = R;
                                                                            } catch (e) {
                                                                                console.log(
                                                                                    "Could not load logo from URL:",
                                                                                    e
                                                                                );
                                                                            }
                                                                            pdfLogoLoadingRef.current = false;
                                                                        }
                                                                        const P = (e) => {
                                                                                if (
                                                                                    (r.setFillColor(o[0], o[1], o[2]),
                                                                                    r.rect(0, 0, l, 52, "F"),
                                                                                    R)
                                                                                )
                                                                                    try {
                                                                                        r.addImage(
                                                                                            R,
                                                                                            "PNG",
                                                                                            n + 5,
                                                                                            10,
                                                                                            110,
                                                                                            32
                                                                                        );
                                                                                    } catch (e) {
                                                                                        r.setTextColor(255, 255, 255),
                                                                                            r.setFontSize(28),
                                                                                            r.setFont(
                                                                                                "helvetica",
                                                                                                "bold"
                                                                                            ),
                                                                                            r.text(
                                                                                                "AV TOOLS PRO",
                                                                                                n + 10,
                                                                                                32
                                                                                            );
                                                                                    }
                                                                                else
                                                                                    r.setTextColor(255, 255, 255),
                                                                                        r.setFontSize(28),
                                                                                        r.setFont("helvetica", "bold"),
                                                                                        r.text("AV TOOLS", n + 10, 32);
                                                                                r.setTextColor(255, 255, 255),
                                                                                    r.setFontSize(32),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.text(
                                                                                        "Rack Layout Report",
                                                                                        n + 135,
                                                                                        20
                                                                                    ),
                                                                                    r.setFontSize(22),
                                                                                    r.setFont("helvetica", "normal"),
                                                                                    r.text(
                                                                                        "Professional Equipment Configuration",
                                                                                        n + 135,
                                                                                        38
                                                                                    );
                                                                                const t = new Date().toLocaleDateString(
                                                                                        "en-US",
                                                                                        {
                                                                                            year: "numeric",
                                                                                            month: "short",
                                                                                            day: "numeric",
                                                                                        }
                                                                                    ),
                                                                                    s = 32;
                                                                                r.setFontSize(24),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.setTextColor(200, 220, 255),
                                                                                    r.text("DATE:", l - n - 240, s),
                                                                                    r.setTextColor(255, 255, 255),
                                                                                    r.text(t, l - n - 210, s),
                                                                                    r.setDrawColor(150, 180, 220),
                                                                                    r.setLineWidth(0.5),
                                                                                    r.line(
                                                                                        l - n - 105,
                                                                                        20,
                                                                                        l - n - 105,
                                                                                        38
                                                                                    ),
                                                                                    r.setFontSize(24),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.setTextColor(200, 220, 255),
                                                                                    r.text("PAGE:", l - n - 95, s),
                                                                                    r.setTextColor(255, 255, 255),
                                                                                    r.text(
                                                                                        e + " of " + M,
                                                                                        l - n - 60,
                                                                                        s
                                                                                    );
                                                                            },
                                                                            A = () => {
                                                                                r.setFillColor(d[0], d[1], d[2]),
                                                                                    r.rect(0, i - 24, l, 24, "F"),
                                                                                    r.setTextColor(220, 220, 220),
                                                                                    r.setFontSize(12),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.text(
                                                                                        "Generated by AV Tools Pro",
                                                                                        n,
                                                                                        i - 9
                                                                                    ),
                                                                                    r.setFontSize(11),
                                                                                    r.setFont("helvetica", "normal"),
                                                                                    r.text(
                                                                                        '1U = 44.45mm (1.75")  •  Standard 19" EIA Rack Mount',
                                                                                        l / 2,
                                                                                        i - 9,
                                                                                        { align: "center" }
                                                                                    ),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.setFontSize(12),
                                                                                    r.text(
                                                                                        "www.avtoolspro.com",
                                                                                        l - n,
                                                                                        i - 9,
                                                                                        { align: "right" }
                                                                                    );
                                                                            },
                                                                            D = (e, t, s, a, l, i, n, d) => {
                                                                                const c = Ue(e.layout),
                                                                                    m = Math.min(12, n / c.totalRU),
                                                                                    h = c.totalRU * m,
                                                                                    p = 20,
                                                                                    g =
                                                                                        e.name && e.name.trim()
                                                                                            ? e.name
                                                                                                  .trim()
                                                                                                  .toUpperCase()
                                                                                            : "RACK " + (t + 1),
                                                                                    b = a + i - 28 - 5,
                                                                                    f = b - h,
                                                                                    y = void 0 !== d ? d : f - 18 - 2;
                                                                                r.setFillColor(o[0], o[1], o[2]),
                                                                                    r.roundedRect(
                                                                                        s - p,
                                                                                        y,
                                                                                        l + p,
                                                                                        18,
                                                                                        2,
                                                                                        2,
                                                                                        "F"
                                                                                    ),
                                                                                    r.setTextColor(255, 255, 255),
                                                                                    r.setFontSize(
                                                                                        g.length > 12 ? 16 : 22
                                                                                    ),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.text(g, s + (l - p) / 2, y + 13, {
                                                                                        align: "center",
                                                                                    }),
                                                                                    r.setFillColor(250, 250, 250),
                                                                                    r.setDrawColor(180, 180, 180),
                                                                                    r.setLineWidth(0.5),
                                                                                    r.rect(s - p, f, 18, h, "FD"),
                                                                                    r.setFillColor(245, 245, 245),
                                                                                    r.setDrawColor(100, 100, 100),
                                                                                    r.setLineWidth(1),
                                                                                    r.rect(s, f, l, h, "FD"),
                                                                                    r.setFillColor(65, 65, 65),
                                                                                    r.rect(s, f, 8, h, "F"),
                                                                                    r.rect(s + l - 8, f, 8, h, "F");
                                                                                for (let e = 1; e <= c.totalRU; e++) {
                                                                                    const t = f + h - e * m,
                                                                                        a = t + m / 2;
                                                                                    r.setDrawColor(200, 200, 200),
                                                                                        r.setLineWidth(0.2),
                                                                                        r.line(s + 8, t, s + l - 8, t),
                                                                                        r.setTextColor(60, 60, 60),
                                                                                        r.setFontSize(9),
                                                                                        r.setFont("helvetica", "bold"),
                                                                                        r.text(
                                                                                            String(e),
                                                                                            s - 10 - 1,
                                                                                            a + 3,
                                                                                            { align: "center" }
                                                                                        ),
                                                                                        r.setDrawColor(220, 220, 220),
                                                                                        r.setLineWidth(0.1),
                                                                                        r.line(s - p, t, s - 2, t),
                                                                                        r.setFillColor(45, 45, 45),
                                                                                        r.circle(s + 4, a, 1, "F"),
                                                                                        r.circle(s + l - 4, a, 1, "F");
                                                                                }
                                                                                r.setDrawColor(200, 200, 200),
                                                                                    r.setLineWidth(0.2),
                                                                                    r.line(s + 8, b, s + l - 8, b);
                                                                                const j = l - 16 - 4,
                                                                                    _ = s + 8 + 2;
                                                                                e.layout.forEach((e) => {
                                                                                    const t = f + h - e.endRU * m,
                                                                                        s =
                                                                                            f +
                                                                                            h -
                                                                                            (e.startRU - 1) * m -
                                                                                            t;
                                                                                    if (
                                                                                        "equipment" === e.type &&
                                                                                        e.item
                                                                                    ) {
                                                                                        const a = u(e.item),
                                                                                            l =
                                                                                                e.item.isHalfWidth ||
                                                                                                "half" === e.item.width,
                                                                                            i = e.item.pairItem;
                                                                                        let n = _,
                                                                                            o = j;
                                                                                        l &&
                                                                                            ((o = j / 2 - 2),
                                                                                            i ||
                                                                                                "right" !== e.side ||
                                                                                                (n = _ + j / 2 + 2));
                                                                                        const d = 1;
                                                                                        r.setFillColor(
                                                                                            a.fill[0],
                                                                                            a.fill[1],
                                                                                            a.fill[2]
                                                                                        ),
                                                                                            r.setDrawColor(
                                                                                                a.border[0],
                                                                                                a.border[1],
                                                                                                a.border[2]
                                                                                            ),
                                                                                            r.setLineWidth(0.6),
                                                                                            r.roundedRect(
                                                                                                n,
                                                                                                t + d,
                                                                                                o,
                                                                                                s - 2 * d,
                                                                                                2,
                                                                                                2,
                                                                                                "FD"
                                                                                            ),
                                                                                            r.setTextColor(
                                                                                                255,
                                                                                                255,
                                                                                                255
                                                                                            );
                                                                                        const c = Math.min(
                                                                                            12,
                                                                                            Math.max(9, 0.55 * s)
                                                                                        );
                                                                                        r.setFontSize(c),
                                                                                            r.setFont(
                                                                                                "helvetica",
                                                                                                "bold"
                                                                                            );
                                                                                        let m =
                                                                                            e.item.name || "Equipment";
                                                                                        const x = o - 6;
                                                                                        for (
                                                                                            ;
                                                                                            r.getTextWidth(m) > x &&
                                                                                            m.length > 3;

                                                                                        )
                                                                                            m = m.slice(0, -1);
                                                                                        if (
                                                                                            (m !== e.item.name &&
                                                                                                m.length > 2 &&
                                                                                                (m =
                                                                                                    m.slice(0, -2) +
                                                                                                    ".."),
                                                                                            r.text(
                                                                                                m,
                                                                                                n + o / 2,
                                                                                                t + s / 2 + c / 3,
                                                                                                { align: "center" }
                                                                                            ),
                                                                                            i)
                                                                                        ) {
                                                                                            const a = u(
                                                                                                    e.item.pairItem
                                                                                                ),
                                                                                                l = j / 2 - 2,
                                                                                                i = _ + j / 2 + 2;
                                                                                            r.setFillColor(
                                                                                                a.fill[0],
                                                                                                a.fill[1],
                                                                                                a.fill[2]
                                                                                            ),
                                                                                                r.setDrawColor(
                                                                                                    a.border[0],
                                                                                                    a.border[1],
                                                                                                    a.border[2]
                                                                                                ),
                                                                                                r.setLineWidth(0.6),
                                                                                                r.roundedRect(
                                                                                                    i,
                                                                                                    t + d,
                                                                                                    l,
                                                                                                    s - 2 * d,
                                                                                                    2,
                                                                                                    2,
                                                                                                    "FD"
                                                                                                ),
                                                                                                r.setTextColor(
                                                                                                    255,
                                                                                                    255,
                                                                                                    255
                                                                                                ),
                                                                                                r.setFontSize(c),
                                                                                                r.setFont(
                                                                                                    "helvetica",
                                                                                                    "bold"
                                                                                                );
                                                                                            let n =
                                                                                                e.item.pairItem.name ||
                                                                                                "Equipment";
                                                                                            const o = l - 6;
                                                                                            for (
                                                                                                ;
                                                                                                r.getTextWidth(n) > o &&
                                                                                                n.length > 3;

                                                                                            )
                                                                                                n = n.slice(0, -1);
                                                                                            n !==
                                                                                                e.item.pairItem.name &&
                                                                                                n.length > 2 &&
                                                                                                (n =
                                                                                                    n.slice(0, -2) +
                                                                                                    ".."),
                                                                                                r.text(
                                                                                                    n,
                                                                                                    i + l / 2,
                                                                                                    t + s / 2 + c / 3,
                                                                                                    { align: "center" }
                                                                                                );
                                                                                        } else if (l && !i) {
                                                                                            const a = j / 2 - 2,
                                                                                                l =
                                                                                                    "right" === e.side
                                                                                                        ? _
                                                                                                        : _ + j / 2 + 2;
                                                                                            r.setFillColor(50, 50, 50),
                                                                                                r.roundedRect(
                                                                                                    l,
                                                                                                    t + d,
                                                                                                    a,
                                                                                                    s - 2 * d,
                                                                                                    2,
                                                                                                    2,
                                                                                                    "F"
                                                                                                ),
                                                                                                r.setDrawColor(
                                                                                                    70,
                                                                                                    70,
                                                                                                    70
                                                                                                ),
                                                                                                r.setLineWidth(0.15);
                                                                                            for (
                                                                                                let e = l + 4;
                                                                                                e < l + a - 4;
                                                                                                e += 3
                                                                                            )
                                                                                                r.line(
                                                                                                    e,
                                                                                                    t + d + 2,
                                                                                                    e,
                                                                                                    t + s - d - 2
                                                                                                );
                                                                                            r.setTextColor(
                                                                                                120,
                                                                                                120,
                                                                                                120
                                                                                            ),
                                                                                                r.setFontSize(
                                                                                                    Math.max(7, 0.7 * c)
                                                                                                ),
                                                                                                r.setFont(
                                                                                                    "helvetica",
                                                                                                    "normal"
                                                                                                ),
                                                                                                r.text(
                                                                                                    "BLANK",
                                                                                                    l + a / 2,
                                                                                                    t + s / 2 + 2,
                                                                                                    { align: "center" }
                                                                                                );
                                                                                        }
                                                                                    } else if ("blank" === e.type) {
                                                                                        const e = 1;
                                                                                        r.setFillColor(50, 50, 50),
                                                                                            r.rect(
                                                                                                _,
                                                                                                t + e,
                                                                                                j,
                                                                                                s - 2 * e,
                                                                                                "F"
                                                                                            ),
                                                                                            r.setDrawColor(70, 70, 70),
                                                                                            r.setLineWidth(0.15);
                                                                                        for (
                                                                                            let a = _ + 5;
                                                                                            a < _ + j - 5;
                                                                                            a += 3
                                                                                        )
                                                                                            r.line(
                                                                                                a,
                                                                                                t + e + 1,
                                                                                                a,
                                                                                                t + s - e - 1
                                                                                            );
                                                                                    }
                                                                                });
                                                                                const v =
                                                                                        c.totalRU > 0
                                                                                            ? Math.round(
                                                                                                  (c.blanksRU /
                                                                                                      c.totalRU) *
                                                                                                      100
                                                                                              )
                                                                                            : 0,
                                                                                    N = b + 4;
                                                                                r.setFillColor(252, 252, 252),
                                                                                    r.setDrawColor(200, 200, 200),
                                                                                    r.setLineWidth(0.5),
                                                                                    r.roundedRect(
                                                                                        s - p,
                                                                                        N,
                                                                                        l + p,
                                                                                        22,
                                                                                        2,
                                                                                        2,
                                                                                        "FD"
                                                                                    );
                                                                                const w = N + 11 + 4;
                                                                                r.setFontSize(14),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.setTextColor(o[0], o[1], o[2]),
                                                                                    r.text(c.totalRU + "U", s - 10, w, {
                                                                                        align: "center",
                                                                                    }),
                                                                                    r.setTextColor(x[0], x[1], x[2]),
                                                                                    r.setFontSize(14),
                                                                                    r.text("Used: ", s + l / 5, w, {
                                                                                        align: "right",
                                                                                    }),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.text(
                                                                                        c.equipRU + "U",
                                                                                        s + l / 5 + 2,
                                                                                        w
                                                                                    ),
                                                                                    r.setFont("helvetica", "normal"),
                                                                                    r.text(
                                                                                        "Blank: ",
                                                                                        s + (2 * l) / 3 - 15,
                                                                                        w,
                                                                                        { align: "right" }
                                                                                    ),
                                                                                    r.setFont("helvetica", "bold"),
                                                                                    r.text(
                                                                                        c.blanksRU + "U (" + v + "%)",
                                                                                        s + (2 * l) / 3 - 13,
                                                                                        w
                                                                                    );
                                                                            };
                                                                        for (let e = 0; e < M - 1; e++) {
                                                                            e > 0 &&
                                                                                r.addPage([609.6, 914.4], "landscape"),
                                                                                P(e + 1),
                                                                                A();
                                                                            const s = e * C,
                                                                                a = Math.min(s + C, t.length),
                                                                                o = a - s;
                                                                            let d = 0;
                                                                            for (let e = s; e < a; e++) {
                                                                                const s = Ue(t[e].layout);
                                                                                s.totalRU > d && (d = s.totalRU);
                                                                            }
                                                                            const c = 56,
                                                                                m = i - c - 30 - 42 - 22,
                                                                                x = Math.min(m - 60, 12 * d),
                                                                                u = c + m - 28 - 5 - x - 18 - 2,
                                                                                h = l - 2 * n - 40,
                                                                                p = 35,
                                                                                g = 20,
                                                                                b = Math.min(
                                                                                    110,
                                                                                    (h - p * (o - 1) - g * o) / o
                                                                                );
                                                                            let f =
                                                                                (l - ((b + g) * o + p * (o - 1))) / 2 +
                                                                                g;
                                                                            for (let e = s; e < a; e++)
                                                                                D(t[e], e, f, c, b, m, x, u),
                                                                                    (f += b + p + g);
                                                                        }
                                                                        r.addPage([609.6, 914.4], "landscape"),
                                                                            P(M),
                                                                            A();
                                                                        const I = l / 2,
                                                                            E = l - 2 * n;
                                                                        let F = 58;
                                                                        r.setFillColor(d[0], d[1], d[2]),
                                                                            r.rect(n, F, E, 32, "F"),
                                                                            r.setTextColor(255, 255, 255),
                                                                            r.setFontSize(28),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text("CONFIGURATION SUMMARY", I, F + 22, {
                                                                                align: "center",
                                                                            }),
                                                                            (F += 44);
                                                                        const B = E,
                                                                            T = B / 4;
                                                                        r.setFillColor(o[0], o[1], o[2]),
                                                                            r.rect(n, F, B, 26, "F"),
                                                                            r.setTextColor(255, 255, 255),
                                                                            r.setFontSize(22),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text("PROJECT STATISTICS", I, F + 18, {
                                                                                align: "center",
                                                                            }),
                                                                            (F += 26),
                                                                            r.setFillColor(245, 245, 245),
                                                                            r.rect(n, F, B, 24, "F"),
                                                                            r.setDrawColor(200, 200, 200),
                                                                            r.setLineWidth(0.5),
                                                                            r.rect(n, F, B, 24, "S"),
                                                                            r.line(n + T, F, n + T, F + 24),
                                                                            r.line(n + 2 * T, F, n + 2 * T, F + 24),
                                                                            r.line(n + 3 * T, F, n + 3 * T, F + 24),
                                                                            r.setTextColor(x[0], x[1], x[2]),
                                                                            r.setFontSize(22),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text(
                                                                                "TOTAL CAPACITY",
                                                                                n + T / 2,
                                                                                F + 16,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.text("USED UNITS", n + 1.5 * T, F + 16, {
                                                                                align: "center",
                                                                            }),
                                                                            r.text("BLANK UNITS", n + 2.5 * T, F + 16, {
                                                                                align: "center",
                                                                            }),
                                                                            r.text(
                                                                                "SHELVES NEEDED",
                                                                                n + 3.5 * T,
                                                                                F + 16,
                                                                                { align: "center" }
                                                                            ),
                                                                            (F += 24),
                                                                            r.setFillColor(255, 255, 255),
                                                                            r.rect(n, F, B, 44, "F"),
                                                                            r.setDrawColor(200, 200, 200),
                                                                            r.rect(n, F, B, 44, "S"),
                                                                            r.line(n + T, F, n + T, F + 44),
                                                                            r.line(n + 2 * T, F, n + 2 * T, F + 44),
                                                                            r.line(n + 3 * T, F, n + 3 * T, F + 44),
                                                                            r.setFontSize(28),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.setTextColor(o[0], o[1], o[2]),
                                                                            r.text(b + "U", n + T / 2, F + 20, {
                                                                                align: "center",
                                                                            }),
                                                                            r.setTextColor(79, 70, 229),
                                                                            r.text(p + "U", n + 1.5 * T, F + 20, {
                                                                                align: "center",
                                                                            }),
                                                                            r.setTextColor(
                                                                                f >= c ? 5 : 245,
                                                                                f >= c ? 150 : 158,
                                                                                f >= c ? 105 : 11
                                                                            ),
                                                                            r.text(g + "U", n + 2.5 * T, F + 20, {
                                                                                align: "center",
                                                                            }),
                                                                            r.setTextColor(
                                                                                N > 0 ? 139 : 107,
                                                                                N > 0 ? 92 : 114,
                                                                                N > 0 ? 246 : 128
                                                                            ),
                                                                            r.text(
                                                                                N > 0 ? String(N) : "0",
                                                                                n + 3.5 * T,
                                                                                F + 20,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.setFontSize(18),
                                                                            r.setFont("helvetica", "normal"),
                                                                            r.setTextColor(m[0], m[1], m[2]),
                                                                            r.text(
                                                                                t.length +
                                                                                    " Rack" +
                                                                                    (t.length > 1 ? "s" : ""),
                                                                                n + T / 2,
                                                                                F + 36,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.text(
                                                                                y + "% Utilized",
                                                                                n + 1.5 * T,
                                                                                F + 36,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.text(
                                                                                f + "% (Target: " + c + "%)",
                                                                                n + 2.5 * T,
                                                                                F + 36,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.text(
                                                                                N > 0
                                                                                    ? "For shelf-mount items"
                                                                                    : "All rack-mountable",
                                                                                n + 3.5 * T,
                                                                                F + 36,
                                                                                { align: "center" }
                                                                            ),
                                                                            (F += 56);
                                                                        const L = 135;
                                                                        r.setFillColor(o[0], o[1], o[2]),
                                                                            r.rect(n, F, E, 26, "F"),
                                                                            r.setTextColor(255, 255, 255),
                                                                            r.setFontSize(22),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text("COLOR REFERENCE", I, F + 18, {
                                                                                align: "center",
                                                                            }),
                                                                            (F += 26);
                                                                        const H = L - 26;
                                                                        r.setFillColor(255, 255, 255),
                                                                            r.setDrawColor(200, 200, 200),
                                                                            r.setLineWidth(0.5),
                                                                            r.rect(n, F, E, H, "FD");
                                                                        const U = 180,
                                                                            q = (E - U) / 3,
                                                                            $ = 24;
                                                                        r.setFillColor(245, 245, 245),
                                                                            r.rect(n, F, E, $, "F"),
                                                                            r.setDrawColor(200, 200, 200),
                                                                            r.rect(n, F, E, $, "S"),
                                                                            r.line(n + U, F, n + U, F + $),
                                                                            r.line(n + U + q, F, n + U + q, F + $),
                                                                            r.line(
                                                                                n + U + 2 * q,
                                                                                F,
                                                                                n + U + 2 * q,
                                                                                F + $
                                                                            ),
                                                                            r.setTextColor(x[0], x[1], x[2]),
                                                                            r.setFontSize(14),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text(
                                                                                "EQUIPMENT TYPE",
                                                                                n + U / 2,
                                                                                F + 16,
                                                                                { align: "center" }
                                                                            ),
                                                                            r.text("1-2U", n + U + q / 2, F + 16, {
                                                                                align: "center",
                                                                            }),
                                                                            r.text("3-4U", n + U + 1.5 * q, F + 16, {
                                                                                align: "center",
                                                                            }),
                                                                            r.text("5+U", n + U + 2.5 * q, F + 16, {
                                                                                align: "center",
                                                                            }),
                                                                            (F += $);
                                                                        const W = (H - $) / 5,
                                                                            V = 36,
                                                                            O = 14;
                                                                        [
                                                                            {
                                                                                type: "Rack Mount - Full Width",
                                                                                colors: [
                                                                                    [37, 99, 235],
                                                                                    [79, 70, 229],
                                                                                    [124, 58, 237],
                                                                                ],
                                                                            },
                                                                            {
                                                                                type: "Rack Mount - Half Width",
                                                                                colors: [
                                                                                    [96, 165, 250],
                                                                                    [129, 140, 248],
                                                                                    [167, 139, 250],
                                                                                ],
                                                                            },
                                                                            {
                                                                                type: "Shelf Mount - Full Width",
                                                                                colors: [
                                                                                    [5, 150, 105],
                                                                                    [13, 148, 136],
                                                                                    [8, 145, 178],
                                                                                ],
                                                                            },
                                                                            {
                                                                                type: "Shelf Mount - Half Width",
                                                                                colors: [
                                                                                    [52, 211, 153],
                                                                                    [45, 212, 191],
                                                                                    [34, 211, 238],
                                                                                ],
                                                                            },
                                                                            {
                                                                                type: "Blank Panel",
                                                                                colors: [[55, 55, 55], null, null],
                                                                            },
                                                                        ].forEach(function (e, t) {
                                                                            const s = F + t * W;
                                                                            t % 2 == 1 &&
                                                                                (r.setFillColor(250, 250, 250),
                                                                                r.rect(n, s, E, W, "F")),
                                                                                r.setDrawColor(220, 220, 220),
                                                                                r.setLineWidth(0.3),
                                                                                r.line(n, s + W, n + E, s + W),
                                                                                r.line(n + U, s, n + U, s + W),
                                                                                r.line(n + U + q, s, n + U + q, s + W),
                                                                                r.line(
                                                                                    n + U + 2 * q,
                                                                                    s,
                                                                                    n + U + 2 * q,
                                                                                    s + W
                                                                                ),
                                                                                r.setTextColor(x[0], x[1], x[2]),
                                                                                r.setFontSize(14),
                                                                                r.setFont("helvetica", "normal"),
                                                                                r.text(
                                                                                    e.type,
                                                                                    n + U / 2,
                                                                                    s + W / 2 + 4,
                                                                                    { align: "center" }
                                                                                ),
                                                                                e.colors.forEach(function (e, t) {
                                                                                    if (e) {
                                                                                        const a =
                                                                                                n +
                                                                                                U +
                                                                                                q * t +
                                                                                                (q - V) / 2,
                                                                                            l = s + (W - O) / 2;
                                                                                        r.setFillColor(
                                                                                            e[0],
                                                                                            e[1],
                                                                                            e[2]
                                                                                        ),
                                                                                            r.roundedRect(
                                                                                                a,
                                                                                                l,
                                                                                                V,
                                                                                                O,
                                                                                                2,
                                                                                                2,
                                                                                                "F"
                                                                                            );
                                                                                    }
                                                                                });
                                                                        }),
                                                                            (F += H + 14);
                                                                        const z = e.filter(
                                                                                (e) =>
                                                                                    "rack" === e.type &&
                                                                                    ("half" === e.width ||
                                                                                        e.isHalfWidth)
                                                                            ),
                                                                            G = e.filter(
                                                                                (e) =>
                                                                                    "shelf" === e.type &&
                                                                                    ("half" === e.width ||
                                                                                        e.isHalfWidth)
                                                                            ),
                                                                            X = (e) => {
                                                                                const t = {};
                                                                                return (
                                                                                    e.forEach((e) => {
                                                                                        const s = e.ru || 1;
                                                                                        t[s] || (t[s] = []),
                                                                                            t[s].push(e);
                                                                                    }),
                                                                                    t
                                                                                );
                                                                            },
                                                                            J = X(z),
                                                                            Q = X(G);
                                                                        let K = 0;
                                                                        Object.values(J).forEach((e) => {
                                                                            e.length % 2 == 1 && K++;
                                                                        }),
                                                                            Object.values(Q).forEach((e) => {
                                                                                e.length % 2 == 1 && K++;
                                                                            });
                                                                        const Y = [];
                                                                        f >= c
                                                                            ? Y.push(
                                                                                  "Blank capacity (" +
                                                                                      f +
                                                                                      "%) meets target of " +
                                                                                      c +
                                                                                      "%. Adequate expansion space."
                                                                              )
                                                                            : Y.push(
                                                                                  "Blank capacity (" +
                                                                                      f +
                                                                                      "%) below target of " +
                                                                                      c +
                                                                                      "%. Consider additional rack space."
                                                                              ),
                                                                            h.length > 1 &&
                                                                                Y.push(
                                                                                    "Multi-rack configuration (" +
                                                                                        h.length +
                                                                                        " racks). Ensure proper cable management."
                                                                                ),
                                                                            w > 0 &&
                                                                                Y.push(
                                                                                    w +
                                                                                        " half-width item(s). Use filler panels for proper airflow."
                                                                                ),
                                                                            K > 0 &&
                                                                                Y.push(
                                                                                    K +
                                                                                        " half-RU blank panel(s) recommended for unpaired half-width equipment."
                                                                                ),
                                                                            N > 0 &&
                                                                                Y.push(
                                                                                    N +
                                                                                        " shelf/shelves needed for non-rack-mountable equipment."
                                                                                ),
                                                                            Y.push(
                                                                                "Compliant with EIA-310-E (1U = 44.45mm). Verify ventilation and weight capacity."
                                                                            );
                                                                        const Z = 20,
                                                                            ee = 26,
                                                                            te = 24,
                                                                            se = Y.length * Z + te;
                                                                        r.setFillColor(o[0], o[1], o[2]),
                                                                            r.rect(n, F, E, ee, "F"),
                                                                            r.setTextColor(255, 255, 255),
                                                                            r.setFontSize(22),
                                                                            r.setFont("helvetica", "bold"),
                                                                            r.text("RECOMMENDATIONS", I, F + 18, {
                                                                                align: "center",
                                                                            }),
                                                                            (F += ee),
                                                                            r.setFillColor(255, 255, 255),
                                                                            r.setDrawColor(200, 200, 200),
                                                                            r.setLineWidth(0.5),
                                                                            r.rect(n, F, E, se, "FD");
                                                                        let ae = F + 20;
                                                                        Y.forEach(function (e) {
                                                                            r.setTextColor(x[0], x[1], x[2]),
                                                                                r.setFontSize(33),
                                                                                r.setFont("helvetica", "bold"),
                                                                                r.text("•", n + 20, ae + 4),
                                                                                r.setFontSize(22),
                                                                                r.setFont("helvetica", "normal"),
                                                                                r.text(e, n + 32, ae + 4),
                                                                                (ae += Z);
                                                                        }),
                                                                            r.save(
                                                                                "AVTOOLS PRO-rack-layout-" +
                                                                                    new Date()
                                                                                        .toISOString()
                                                                                        .split("T")[0] +
                                                                                    ".pdf"
                                                                            );
                                                                    } catch (e) {
                                                                        console.error("PDF export error:", e),
                                                                            I(
                                                                                "Failed to generate PDF. Please try again."
                                                                            );
                                                                    }
                                                                else I("Add equipment to your rack before exporting.");
                                                            },
                                                            className:
                                                                "flex-1 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                                                            children: "📄 Export PDF",
                                                        }),
                                                    ],
                                                }),
                                            _jsx(ResetConfirmModal, {
                                                isOpen: he,
                                                onConfirm: () => {
                                                    t([]),
                                                        a(""),
                                                        l("1"),
                                                        n("rack"),
                                                        d("full"),
                                                        m(25),
                                                        u(!1),
                                                        p([]),
                                                        b(null),
                                                        y(null),
                                                        _(null),
                                                        N({}),
                                                        C(null),
                                                        k(""),
                                                        R(null),
                                                        A(""),
                                                        I(null),
                                                        T(0),
                                                        (De.current = !1),
                                                        (Ie.current = []),
                                                        (Se.current = ""),
                                                        q([]),
                                                        W(0),
                                                        O(null),
                                                        G(null),
                                                        ae(""),
                                                        le("1"),
                                                        ne("rack"),
                                                        de("full"),
                                                        pe(!1);
                                                },
                                                onCancel: () => pe(!1),
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            "manual" === L &&
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 border",
                                    children: [
                                        _jsx("h2", {
                                            className: "text-base sm:text-lg font-semibold mb-2",
                                            children: "🗄️ Rack Configuration",
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mb-3",
                                            children: "Configure your rack size and add additional racks",
                                        }),
                                        h.length > 0 &&
                                            _jsxs("div", {
                                                className: "mb-3",
                                                children: [
                                                    _jsx("label", {
                                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                                                        children: `Rack ${B + 1} Size`,
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [
                                                            _jsx("select", {
                                                                value: h[B]?.rackSize || 42,
                                                                onChange: (e) => {
                                                                    const t = parseInt(e.target.value);
                                                                    ((e, t) => {
                                                                        "manual" === L &&
                                                                            p((s) => {
                                                                                const a = [...s],
                                                                                    r = {
                                                                                        ...a[e],
                                                                                        layout: [...a[e].layout],
                                                                                    },
                                                                                    l = r.rackSize || r.layout.length;
                                                                                if (t === l) return s;
                                                                                let i = 0;
                                                                                if (
                                                                                    (r.layout.forEach((e) => {
                                                                                        "equipment" === e.type &&
                                                                                            e.item &&
                                                                                            (i += e.item.ru || 1);
                                                                                    }),
                                                                                    t < i)
                                                                                )
                                                                                    return (
                                                                                        I(
                                                                                            `Cannot reduce rack to ${t}U. Equipment requires ${i}U.`
                                                                                        ),
                                                                                        s
                                                                                    );
                                                                                if (t > l) {
                                                                                    const s = t - l;
                                                                                    for (let t = 0; t < s; t++)
                                                                                        r.layout.push({
                                                                                            id: `blank-${e}-${Date.now()}-${t}`,
                                                                                            type: "blank",
                                                                                            ru: 1,
                                                                                            startRU: 0,
                                                                                            endRU: 0,
                                                                                        });
                                                                                } else {
                                                                                    let e = l - t;
                                                                                    for (
                                                                                        ;
                                                                                        e > 0 &&
                                                                                        r.layout.length > 0 &&
                                                                                        "blank" ===
                                                                                            r.layout[
                                                                                                r.layout.length - 1
                                                                                            ].type;

                                                                                    )
                                                                                        r.layout.pop(), e--;
                                                                                }
                                                                                let n = 1;
                                                                                return (
                                                                                    r.layout.forEach((e) => {
                                                                                        const t =
                                                                                            "equipment" === e.type
                                                                                                ? e.item?.ru || 1
                                                                                                : e.ru || 1;
                                                                                        (e.startRU = n),
                                                                                            (e.endRU = n + t - 1),
                                                                                            (n += t);
                                                                                    }),
                                                                                    (r.rackSize = t),
                                                                                    (a[e] = r),
                                                                                    a
                                                                                );
                                                                            });
                                                                    })(B, t);
                                                                },
                                                                className: "flex-1 px-3 py-2 border rounded-lg text-sm",
                                                                children: ce.map((e) =>
                                                                    _jsx("option", {
                                                                        key: e,
                                                                        value: e,
                                                                        children: `${e}U`,
                                                                    })
                                                                ),
                                                            }),
                                                            h.length > 1 &&
                                                                _jsx("select", {
                                                                    value: B,
                                                                    onChange: (e) => T(parseInt(e.target.value)),
                                                                    className: "px-3 py-2 border rounded-lg text-sm",
                                                                    children: h.map((e, t) =>
                                                                        _jsx("option", {
                                                                            key: t,
                                                                            value: t,
                                                                            children: We(e, t),
                                                                        })
                                                                    ),
                                                                }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        _jsx("button", {
                                            onClick: () => J(!0),
                                            className:
                                                "w-full py-2 rounded-lg font-medium bg-indigo-600 hover:bg-indigo-700 text-white text-sm transition-colors",
                                            children: "+ Add New Rack",
                                        }),
                                        0 === h.length &&
                                            _jsxs("div", {
                                                className: "mt-3 pt-3 border-t",
                                                children: [
                                                    _jsx("p", {
                                                        className: "text-xs text-gray-500 dark:text-gray-400 mb-2",
                                                        children: "Or start with a standard size:",
                                                    }),
                                                    _jsx("div", {
                                                        className: "grid grid-cols-4 gap-2",
                                                        children: [8, 12, 22, 42].map((e) =>
                                                            _jsx("button", {
                                                                key: e,
                                                                onClick: () => Ve(e),
                                                                className:
                                                                    "py-2 rounded-lg font-medium bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm transition-colors border",
                                                                children: `${e}U`,
                                                            })
                                                        ),
                                                    }),
                                                ],
                                            }),
                                    ],
                                }),
                            "auto" === L &&
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 border",
                                    children: [
                                        _jsx("h2", {
                                            className: "text-base sm:text-lg font-semibold mb-2",
                                            children: "🎯 Target Spare Capacity",
                                        }),
                                        _jsx("p", {
                                            className: "text-xs text-gray-500 dark:text-gray-400 mb-2",
                                            children: "Spare % = Blanks ÷ Total Capacity",
                                        }),
                                        _jsx("div", {
                                            className: "space-y-1.5",
                                            children: [
                                                { val: 20, label: "20% - Standard" },
                                                { val: 25, label: "25% - AVIXA Recommended" },
                                                { val: 30, label: "30% - Growth Planning" },
                                            ].map((e) =>
                                                _jsxs(
                                                    "label",
                                                    {
                                                        className: `flex items-center p-2.5 rounded border-2 cursor-pointer text-xs sm:text-sm ${c === e.val ? "bg-purple-50 dark:bg-purple-900/20 border-purple-500" : "border-gray-200 dark:border-gray-700 hover:border-purple-300"} transition-colors`,
                                                        children: [
                                                            _jsx("input", {
                                                                type: "radio",
                                                                checked: c === e.val,
                                                                onChange: () => m(e.val),
                                                                className: "mr-2 w-4 h-4",
                                                            }),
                                                            _jsx("span", { children: e.label }),
                                                        ],
                                                    },
                                                    e.val
                                                )
                                            ),
                                        }),
                                        Pe &&
                                            _jsxs("div", {
                                                className:
                                                    "mt-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-300 rounded-lg text-xs text-amber-700",
                                                children: [
                                                    _jsx("div", {
                                                        className: "font-medium",
                                                        children: "⚠️ Spare capacity changed",
                                                    }),
                                                    _jsxs("div", {
                                                        children: [
                                                            "Current layout uses ",
                                                            Re.current,
                                                            '%. Click "Optimize Layout" to apply ',
                                                            c,
                                                            "%.",
                                                        ],
                                                    }),
                                                ],
                                            }),
                                        e.length > 0 &&
                                            _jsx("button", {
                                                onClick: () => {
                                                    if (0 === e.length) return;
                                                    const t = h.length > 0 ? h : ke(),
                                                        s = ze(t, c, me);
                                                    for (; s.length > 1; ) {
                                                        if (s[s.length - 1].layout.some((e) => "equipment" === e.type))
                                                            break;
                                                        s.pop();
                                                    }
                                                    p(Ge(s, me)),
                                                        (Se.current = JSON.stringify(e)),
                                                        (Re.current = c),
                                                        Ae(!1),
                                                        u(!0),
                                                        b(null),
                                                        (De.current = !0);
                                                },
                                                className:
                                                    "w-full mt-3 py-2.5 rounded-lg font-semibold text-sm sm:text-base transition-colors " +
                                                    (Pe
                                                        ? "bg-green-600 hover:bg-green-700 text-white animate-pulse"
                                                        : "bg-green-600 hover:bg-green-700 text-white"),
                                                children: Pe
                                                    ? "✨ Optimize Layout (Apply New Spare %)"
                                                    : "✨ Optimize Layout",
                                            }),
                                    ],
                                }),
                            e.length > 0 &&
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 border",
                                    children: [
                                        _jsxs("h2", {
                                            className: "text-base sm:text-lg font-semibold mb-2",
                                            children: ["Equipment (", e.length, ")"],
                                        }),
                                        _jsx("div", {
                                            className: "space-y-2 max-h-48 overflow-y-auto",
                                            children: e.map((e, t) => {
                                                const s = ue(e),
                                                    a = w === e.id;
                                                return _jsxs(
                                                    "div",
                                                    {
                                                        className:
                                                            "flex items-center justify-between p-2 rounded border text-sm gap-2 " +
                                                            (a ? "bg-blue-50 dark:bg-blue-900/20 border-blue-300" : "bg-gray-50 dark:bg-gray-900/50"),
                                                        children: [
                                                            _jsxs("div", {
                                                                className: "flex items-center gap-2 min-w-0 flex-1",
                                                                children: [
                                                                    _jsx("div", {
                                                                        className: `w-3 h-3 flex-shrink-0 rounded ${s.bg} ${s.border} border`,
                                                                    }),
                                                                    a
                                                                        ? _jsx("input", {
                                                                              type: "text",
                                                                              value: M,
                                                                              onChange: (e) => k(e.target.value),
                                                                              onKeyDown: (e) => {
                                                                                  "Enter" === e.key && tt(),
                                                                                      "Escape" === e.key &&
                                                                                          (C(null), k(""));
                                                                              },
                                                                              onBlur: tt,
                                                                              autoFocus: !0,
                                                                              className:
                                                                                  "flex-1 min-w-0 px-2 py-1 text-sm border border-blue-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                                          })
                                                                        : _jsx("span", {
                                                                              className:
                                                                                  "truncate cursor-pointer hover:text-blue-600",
                                                                              onClick: () => et(e),
                                                                              title: "Click to rename",
                                                                              children: e.name,
                                                                          }),
                                                                    _jsxs("span", {
                                                                        className:
                                                                            "text-xs bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded flex-shrink-0",
                                                                        children: [e.ru, "U"],
                                                                    }),
                                                                    _jsx("span", {
                                                                        className:
                                                                            "text-xs px-1.5 py-0.5 rounded flex-shrink-0 " +
                                                                            ("shelf" === e.type
                                                                                ? "bg-emerald-100 text-emerald-700"
                                                                                : "bg-blue-100 text-blue-700"),
                                                                        children: "shelf" === e.type ? "📦" : "🔧",
                                                                    }),
                                                                    "half" === e.width &&
                                                                        _jsx("span", {
                                                                            className:
                                                                                "text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded flex-shrink-0",
                                                                            children: "½W",
                                                                        }),
                                                                ],
                                                            }),
                                                            _jsxs("div", {
                                                                className: "flex items-center gap-1 flex-shrink-0",
                                                                children: [
                                                                    !a &&
                                                                        _jsx("button", {
                                                                            onClick: () => et(e),
                                                                            className:
                                                                                "w-8 h-8 flex items-center justify-center bg-blue-100 hover:bg-blue-200 text-blue-600 hover:text-blue-800 dark:text-blue-200 rounded-lg text-sm transition-colors",
                                                                            title: "Rename item",
                                                                            children: "✏️",
                                                                        }),
                                                                    _jsx("button", {
                                                                        onClick: () => Qe(e.id),
                                                                        className:
                                                                            "w-8 h-8 flex items-center justify-center bg-red-100 hover:bg-red-200 text-red-600 hover:text-red-800 dark:text-red-200 rounded-lg font-bold text-lg transition-colors",
                                                                        title: "Remove item",
                                                                        children: "×",
                                                                    }),
                                                                ],
                                                            }),
                                                        ],
                                                    },
                                                    e.id
                                                );
                                            }),
                                        }),
                                        _jsxs("div", {
                                            className: "mt-3 pt-2 border-t text-sm",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex justify-between",
                                                    children: [
                                                        _jsx("span", { children: "Effective:" }),
                                                        _jsxs("span", { className: "font-bold", children: [be, "U"] }),
                                                    ],
                                                }),
                                                ge.ruSaved > 0 &&
                                                    _jsxs("div", {
                                                        className: "flex justify-between text-green-600",
                                                        children: [
                                                            _jsx("span", { children: "Saved:" }),
                                                            _jsxs("span", { children: ["-", ge.ruSaved, "U"] }),
                                                        ],
                                                    }),
                                            ],
                                        }),
                                    ],
                                }),
                            (e.length > 0 || ("manual" === L && h.length > 0)) &&
                                _jsxs("div", {
                                    className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 border",
                                    children: [
                                        _jsx("h2", {
                                            className: "text-lg font-semibold mb-3",
                                            children: "📋 Configuration",
                                        }),
                                        _jsxs("div", {
                                            className: "p-3 bg-purple-100 rounded-lg border border-purple-300 mb-3",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600",
                                                    children:
                                                        h.length > 1
                                                            ? "Multiple Racks"
                                                            : "manual" === L
                                                              ? "Manual Rack"
                                                              : "Recommended Rack",
                                                }),
                                                _jsx("div", {
                                                    className: "text-xl font-bold text-purple-700",
                                                    children: (() => {
                                                        const e = h.map((e) => {
                                                                const { totalRU: t } = Ue(e.layout);
                                                                return t;
                                                            }),
                                                            t = {};
                                                        e.forEach((e) => {
                                                            t[e] = (t[e] || 0) + 1;
                                                        });
                                                        const s = Object.entries(t).sort(
                                                            (e, t) => parseInt(t[0]) - parseInt(e[0])
                                                        );
                                                        return (
                                                            s
                                                                .map(([e, t]) => (t > 1 ? `${t}×${e}U` : `${e}U`))
                                                                .join(" + ") || "No racks"
                                                        );
                                                    })(),
                                                }),
                                                _jsxs("div", {
                                                    className: "text-sm text-purple-600",
                                                    children: [
                                                        "Total: ",
                                                        (() => {
                                                            let e = 0;
                                                            return (
                                                                h.forEach((t) => {
                                                                    const { totalRU: s } = Ue(t.layout);
                                                                    e += s;
                                                                }),
                                                                e
                                                            );
                                                        })(),
                                                        "U capacity",
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "grid grid-cols-3 gap-2 text-center mb-3",
                                            children: [
                                                _jsxs("div", {
                                                    className: "bg-blue-50 dark:bg-blue-900/20 p-2 rounded",
                                                    children: [
                                                        _jsx("div", {
                                                            className: "text-xs text-blue-600",
                                                            children: "Equipment",
                                                        }),
                                                        _jsxs("div", {
                                                            className: "text-lg font-bold text-blue-800 dark:text-blue-200",
                                                            children: [
                                                                (() => {
                                                                    let e = 0;
                                                                    return (
                                                                        h.forEach((t) => {
                                                                            t.layout.forEach((t) => {
                                                                                "equipment" === t.type &&
                                                                                    t.item &&
                                                                                    (e += t.item.ru || 1);
                                                                            });
                                                                        }),
                                                                        e
                                                                    );
                                                                })(),
                                                                "U",
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "text-[10px] text-blue-500 mt-1",
                                                            children: [
                                                                (() => {
                                                                    let e = 0,
                                                                        t = 0;
                                                                    return (
                                                                        h.forEach((s) => {
                                                                            s.layout.forEach((s) => {
                                                                                if ("equipment" === s.type && s.item) {
                                                                                    const a = s.item.ru || 1,
                                                                                        r = "shelf" === s.item.type,
                                                                                        l = s.item.pairItem,
                                                                                        i =
                                                                                            l &&
                                                                                            "shelf" ===
                                                                                                s.item.pairItem.type;
                                                                                    l
                                                                                        ? r && i
                                                                                            ? (t += a)
                                                                                            : r || i
                                                                                              ? (r || i) && (t += a)
                                                                                              : (e += a)
                                                                                        : r
                                                                                          ? (t += a)
                                                                                          : (e += a);
                                                                                }
                                                                            });
                                                                        }),
                                                                        `🔧${e}U 📦${t}U`
                                                                    );
                                                                })(),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsxs("div", {
                                                    className: "bg-orange-50 p-2 rounded",
                                                    children: [
                                                        _jsx("div", {
                                                            className: "text-xs text-orange-600",
                                                            children: "Blanks",
                                                        }),
                                                        _jsxs("div", {
                                                            className: "text-lg font-bold text-orange-800",
                                                            children: [
                                                                (() => {
                                                                    let e = 0;
                                                                    return (
                                                                        h.forEach((t) => {
                                                                            t.layout.forEach((t) => {
                                                                                "blank" === t.type && (e += t.ru || 1);
                                                                            });
                                                                        }),
                                                                        e
                                                                    );
                                                                })(),
                                                                "U",
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                (() => {
                                                    let e = 0,
                                                        t = 0;
                                                    h.forEach((s) => {
                                                        const a = Ue(s.layout);
                                                        (e += a.equipRU), (t += a.blanksRU);
                                                    });
                                                    const s = e + t,
                                                        a = s > 0 ? Math.round((t / s) * 100) : 0;
                                                    return _jsxs("div", {
                                                        className:
                                                            "p-2 rounded " + (a >= c ? "bg-green-50 dark:bg-green-900/20" : "bg-yellow-50 dark:bg-yellow-900/20"),
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "text-xs " +
                                                                    (a >= c ? "text-green-600" : "text-yellow-600"),
                                                                children: "Actual Spare",
                                                            }),
                                                            _jsxs("div", {
                                                                className:
                                                                    "text-lg font-bold " +
                                                                    (a >= c ? "text-green-800 dark:text-green-200" : "text-yellow-800 dark:text-yellow-200"),
                                                                children: [a, "%"],
                                                            }),
                                                        ],
                                                    });
                                                })(),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "text-xs p-2 bg-gray-50 dark:bg-gray-900/50 rounded mb-3",
                                            children: [
                                                _jsx("div", {
                                                    className: "font-medium mb-1",
                                                    children: "Calculation:",
                                                }),
                                                (() => {
                                                    let e = 0,
                                                        t = 0;
                                                    h.forEach((s) => {
                                                        const a = Ue(s.layout);
                                                        (e += a.equipRU), (t += a.blanksRU);
                                                    });
                                                    const s = e + t,
                                                        a = s > 0 ? Math.round((t / s) * 100) : 0;
                                                    return _jsxs("div", {
                                                        className: "text-gray-600 dark:text-gray-400",
                                                        children: [t, "U ÷ ", s, "U = ", a, "% spare"],
                                                    });
                                                })(),
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "space-y-1",
                                            children: nt.map((e, t) =>
                                                _jsx(
                                                    "div",
                                                    {
                                                        className:
                                                            "p-2 rounded text-xs " +
                                                            ("success" === e.type
                                                                ? "bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200"
                                                                : "warning" === e.type
                                                                  ? "bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"
                                                                  : "bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200"),
                                                        children: e.text,
                                                    },
                                                    t
                                                )
                                            ),
                                        }),
                                        x &&
                                            _jsx("div", {
                                                className:
                                                    "mt-2 p-2 bg-green-100 rounded text-xs text-green-800 dark:text-green-200 text-center",
                                                children: "✅ Layout Optimized",
                                            }),
                                    ],
                                }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-3 sm:p-4 border",
                        children: [
                            _jsxs("div", {
                                className: "flex flex-col sm:flex-row sm:items-center justify-between mb-3 gap-2",
                                children: [
                                    _jsxs("h2", {
                                        className: "text-base sm:text-lg font-semibold",
                                        children: ["🗄️ Rack Layout", h.length > 1 ? ` (${h.length} Racks)` : ""],
                                    }),
                                    _jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            "manual" === L &&
                                                _jsx("button", {
                                                    onClick: () => J(!0),
                                                    className:
                                                        "px-3 py-1.5 bg-indigo-600 text-white rounded-lg text-xs font-medium hover:bg-indigo-700",
                                                    children: "+ Add Rack",
                                                }),
                                            _jsx("span", {
                                                className: "text-xs text-gray-500 dark:text-gray-400",
                                                children: "Tap item to select • Use floating bar to edit",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            "manual" === L && 0 === h.length
                                ? _jsx("div", {
                                      className:
                                          "flex flex-col items-center justify-center h-48 sm:h-64 bg-gray-100 dark:bg-gray-700 rounded-lg border-2 border-dashed",
                                      children: _jsxs("div", {
                                          className: "text-center px-4",
                                          children: [
                                              _jsx("div", { className: "text-4xl mb-3", children: "🗄️" }),
                                              _jsx("p", {
                                                  className: "text-gray-600 dark:text-gray-400 font-medium mb-2",
                                                  children: "No Rack Configured",
                                              }),
                                              _jsx("p", {
                                                  className: "text-gray-500 dark:text-gray-400 text-sm mb-4",
                                                  children:
                                                      "Add equipment to auto-create an 8U rack, or choose a rack size from the configuration panel",
                                              }),
                                              _jsxs("div", {
                                                  className: "flex flex-wrap justify-center gap-2",
                                                  children: [8, 12, 22, 42].map((e) =>
                                                      _jsx("button", {
                                                          key: e,
                                                          onClick: () => Ve(e),
                                                          className:
                                                              "px-3 py-1.5 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",
                                                          children: `${e}U`,
                                                      })
                                                  ),
                                              }),
                                          ],
                                      }),
                                  })
                                : 0 === e.length && "manual" !== L
                                  ? _jsx("div", {
                                        className:
                                            "flex items-center justify-center h-48 sm:h-64 bg-gray-100 dark:bg-gray-700 rounded-lg border-2 border-dashed",
                                        children: _jsx("p", {
                                            className: "text-gray-500 dark:text-gray-400 text-sm",
                                            children: "Add equipment to see visualization",
                                        }),
                                    })
                                  : _jsxs("div", {
                                        children: [
                                            _jsx("div", {
                                                className: "overflow-x-auto pb-4 -mx-3 px-3 sm:mx-0 sm:px-0",
                                                children: (() => {
                                                    Math.max(
                                                        ...h.map((e) => {
                                                            const { totalRU: t } = Ue(e.layout);
                                                            return t;
                                                        }),
                                                        1
                                                    );
                                                    return _jsx("div", {
                                                        className:
                                                            "flex items-end " +
                                                            (h.length > 1 ? "gap-6 sm:gap-8" : "justify-center"),
                                                        style: h.length > 1 ? { minWidth: 220 * h.length + "px" } : {},
                                                        children: h.map((e, t) => dt(e, t)),
                                                    });
                                                })(),
                                            }),
                                            _jsxs("div", {
                                                className:
                                                    "mt-4 pt-3 border-t flex flex-wrap gap-3 sm:gap-4 text-xs justify-center",
                                                children: [
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", { className: "w-4 h-4 bg-blue-50 dark:bg-blue-900/200 rounded" }),
                                                            _jsx("span", { children: "Full" }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsxs("div", {
                                                                className: "flex w-4 h-4",
                                                                children: [
                                                                    _jsx("div", {
                                                                        className: "w-2 h-4 bg-blue-50 dark:bg-blue-900/200 rounded-l",
                                                                    }),
                                                                    _jsx("div", {
                                                                        className: "w-2 h-4 bg-emerald-500 rounded-r",
                                                                    }),
                                                                ],
                                                            }),
                                                            _jsx("span", { children: "Half pair" }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "w-4 h-4 bg-gray-700 rounded border border-dashed border-gray-500",
                                                            }),
                                                            _jsx("span", { children: "Blank" }),
                                                        ],
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("div", {
                                                                className:
                                                                    "w-4 h-4 bg-gray-300 rounded ring-2 ring-yellow-400",
                                                            }),
                                                            _jsx("span", { children: "Selected" }),
                                                        ],
                                                    }),
                                                ],
                                            }),
                                            !g &&
                                                _jsx("div", {
                                                    className:
                                                        "mt-3 p-2 bg-purple-50 dark:bg-purple-900/20 rounded text-xs text-purple-700 text-center",
                                                    children:
                                                        "💡 Tap any item to select it, then use the floating control bar at the bottom.",
                                                }),
                                        ],
                                    }),
                        ],
                    }),
                ],
            }),
            g &&
                ot &&
                "undefined" != typeof ReactDOM &&
                ReactDOM.createPortal(
                    _jsx("div", {
                        className: "floating-toolbar-portal",
                        style: {
                            position: "fixed",
                            bottom: "16px",
                            left: "50%",
                            transform: "translateX(-50%)",
                            zIndex: 99999,
                            pointerEvents: "auto",
                            maxWidth: "calc(100vw - 16px)",
                            width: "auto",
                            boxShadow: "0 12px 40px rgba(0,0,0,0.25)",
                            borderRadius: "20px",
                        },
                        children: _jsx("div", {
                            style: {
                                overflowX: "auto",
                                overflowY: "hidden",
                                WebkitOverflowScrolling: "touch",
                                scrollbarWidth: "none",
                                msOverflowStyle: "none",
                            },
                            children: _jsxs("div", {
                                className:
                                    "bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 px-1.5 sm:px-2 py-1.5 sm:py-2 flex items-center gap-0.5 sm:gap-1",
                                style: {
                                    backdropFilter: "blur(8px)",
                                    backgroundColor: "rgba(255,255,255,0.97)",
                                    minWidth: "fit-content",
                                },
                                children: [
                                    _jsxs("div", {
                                        className:
                                            "flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-50 dark:bg-blue-900/200 text-white rounded-lg sm:rounded-xl",
                                        children: [
                                            _jsx("div", {
                                                className:
                                                    "w-2.5 h-2.5 sm:w-3 sm:h-3 rounded " +
                                                    ("equipment" === ot?.type ? "bg-white dark:bg-gray-800/30" : "bg-white dark:bg-gray-800/50"),
                                            }),
                                            "equipment" === ot?.type && ot?.item
                                                ? S === ot.item.id
                                                    ? _jsx("input", {
                                                          type: "text",
                                                          value: P,
                                                          onChange: (e) => A(e.target.value),
                                                          onBlur: () => {
                                                              P.trim() && Ke(ot.item.id, P), R(null), A("");
                                                          },
                                                          onKeyDown: (e) => {
                                                              "Enter" === e.key &&
                                                                  (P.trim() && Ke(ot.item.id, P), R(null), A("")),
                                                                  "Escape" === e.key && (R(null), A(""));
                                                          },
                                                          autoFocus: !0,
                                                          className:
                                                              "bg-white dark:bg-gray-800 text-gray-800 text-xs sm:text-sm px-1.5 sm:px-2 py-0.5 rounded w-20 sm:w-28 focus:outline-none focus:ring-2 focus:ring-blue-300",
                                                      })
                                                    : _jsx("span", {
                                                          className:
                                                              "text-xs sm:text-sm font-medium truncate max-w-16 sm:max-w-28 cursor-pointer",
                                                          onClick: () => {
                                                              R(ot.item.id), A(ot.item.name);
                                                          },
                                                          title: "Click to rename",
                                                          children: ot.item.name,
                                                      })
                                                : _jsx("span", {
                                                      className: "text-xs sm:text-sm font-medium",
                                                      children: "Blank",
                                                  }),
                                        ],
                                    }),
                                    _jsx("div", { className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1" }),
                                    _jsx("button", {
                                        onClick: () => {
                                            if (!g) return;
                                            const { rackIdx: e, layoutId: t } = g,
                                                s = h.map((e) => ({
                                                    ...e,
                                                    layout: e.layout.map((e) =>
                                                        "equipment" === e.type && e.item
                                                            ? {
                                                                  ...e,
                                                                  item: {
                                                                      ...e.item,
                                                                      pairItem: e.item.pairItem
                                                                          ? { ...e.item.pairItem }
                                                                          : null,
                                                                  },
                                                              }
                                                            : { ...e }
                                                    ),
                                                })),
                                                a = s[e];
                                            if (!a) return;
                                            const r = a.layout.findIndex((e) => e.id === t);
                                            r >= 0 &&
                                                r < a.layout.length - 1 &&
                                                (([a.layout[r], a.layout[r + 1]] = [a.layout[r + 1], a.layout[r]]),
                                                st(a),
                                                "manual" === L
                                                    ? p([...s])
                                                    : (p(Ge(Oe(s, c, me), me)), u(!1), (De.current = !0)));
                                        },
                                        className:
                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group",
                                        title: "Move Up",
                                        children: _jsx("svg", {
                                            className: "w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M5 15l7-7 7 7",
                                            }),
                                        }),
                                    }),
                                    _jsx("button", {
                                        onClick: () => {
                                            if (!g) return;
                                            const { rackIdx: e, layoutId: t } = g,
                                                s = h.map((e) => ({
                                                    ...e,
                                                    layout: e.layout.map((e) =>
                                                        "equipment" === e.type && e.item
                                                            ? {
                                                                  ...e,
                                                                  item: {
                                                                      ...e.item,
                                                                      pairItem: e.item.pairItem
                                                                          ? { ...e.item.pairItem }
                                                                          : null,
                                                                  },
                                                              }
                                                            : { ...e }
                                                    ),
                                                })),
                                                a = s[e];
                                            if (!a) return;
                                            const r = a.layout.findIndex((e) => e.id === t);
                                            r > 0 &&
                                                (([a.layout[r], a.layout[r - 1]] = [a.layout[r - 1], a.layout[r]]),
                                                st(a),
                                                "manual" === L
                                                    ? p([...s])
                                                    : (p(Ge(Oe(s, c, me), me)), u(!1), (De.current = !0)));
                                        },
                                        className:
                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group",
                                        title: "Move Down",
                                        children: _jsx("svg", {
                                            className: "w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M19 9l-7 7-7-7",
                                            }),
                                        }),
                                    }),
                                    "manual" !== L &&
                                        _jsx("div", { className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1" }),
                                    "manual" !== L &&
                                        (() => {
                                            const e = g ? h[g.rackIdx] : null,
                                                t = !!e && Ue(e.layout).totalRU >= me;
                                            return _jsx("button", {
                                                onClick: () => !t && Ze("above"),
                                                className:
                                                    "p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-colors group " +
                                                    (t ? "opacity-40 cursor-not-allowed" : "hover:bg-gray-100 dark:bg-gray-700"),
                                                title: t ? "Rack at max size (45U)" : "Add Blank Above",
                                                disabled: t,
                                                children: _jsx("span", {
                                                    className:
                                                        "text-xs sm:text-sm font-bold " +
                                                        (t
                                                            ? "text-gray-400"
                                                            : "text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100"),
                                                    children: "B▲",
                                                }),
                                            });
                                        })(),
                                    "manual" !== L &&
                                        (() => {
                                            const e = g ? h[g.rackIdx] : null,
                                                t = !!e && Ue(e.layout).totalRU >= me;
                                            return _jsx("button", {
                                                onClick: () => !t && Ze("below"),
                                                className:
                                                    "p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-colors group " +
                                                    (t ? "opacity-40 cursor-not-allowed" : "hover:bg-gray-100 dark:bg-gray-700"),
                                                title: t ? "Rack at max size (45U)" : "Add Blank Below",
                                                disabled: t,
                                                children: _jsx("span", {
                                                    className:
                                                        "text-xs sm:text-sm font-bold " +
                                                        (t
                                                            ? "text-gray-400"
                                                            : "text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100"),
                                                    children: "B▼",
                                                }),
                                            });
                                        })(),
                                    "equipment" === ot?.type &&
                                        (() => {
                                            let t;
                                            if (
                                                ((t = ot.isPairItem ? ot.item : e.find((e) => e.id === ot.item?.id)),
                                                !t)
                                            )
                                                return null;
                                            const s = t.id,
                                                a = t.ru || 1;
                                            return _jsxs(_Fragment, {
                                                children: [
                                                    _jsx("div", {
                                                        className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => Ye(s, a - 1),
                                                        disabled: a <= 1,
                                                        className:
                                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group " +
                                                            (a <= 1 ? "opacity-30 cursor-not-allowed" : ""),
                                                        title: "Decrease Size",
                                                        children: _jsx("svg", {
                                                            className:
                                                                "w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100",
                                                            fill: "none",
                                                            viewBox: "0 0 24 24",
                                                            stroke: "currentColor",
                                                            strokeWidth: 2,
                                                            children: _jsx("path", {
                                                                strokeLinecap: "round",
                                                                strokeLinejoin: "round",
                                                                d: "M20 12H4",
                                                            }),
                                                        }),
                                                    }),
                                                    _jsxs("span", {
                                                        className:
                                                            "text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 min-w-6 sm:min-w-8 text-center",
                                                        children: [a, "U"],
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () => Ye(s, a + 1),
                                                        disabled: a >= me,
                                                        className:
                                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group " +
                                                            (a >= me ? "opacity-30 cursor-not-allowed" : ""),
                                                        title: "Increase Size",
                                                        children: _jsx("svg", {
                                                            className:
                                                                "w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:text-gray-100",
                                                            fill: "none",
                                                            viewBox: "0 0 24 24",
                                                            stroke: "currentColor",
                                                            strokeWidth: 2,
                                                            children: _jsx("path", {
                                                                strokeLinecap: "round",
                                                                strokeLinejoin: "round",
                                                                d: "M12 4v16m8-8H4",
                                                            }),
                                                        }),
                                                    }),
                                                ],
                                            });
                                        })(),
                                    "equipment" === ot?.type &&
                                        (() => {
                                            let s;
                                            if (
                                                ((s = ot.isPairItem ? ot.item : e.find((e) => e.id === ot.item?.id)),
                                                !s)
                                            )
                                                return null;
                                            const a = s.id,
                                                r = s.type || "rack",
                                                l = s.width || "full";
                                            return _jsxs(_Fragment, {
                                                children: [
                                                    _jsx("div", {
                                                        className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1",
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () =>
                                                            ((s) => {
                                                                let a = !1,
                                                                    r = 0,
                                                                    l = null,
                                                                    i = -1;
                                                                if (
                                                                    (h.forEach((e, t) => {
                                                                        e.layout.forEach((e) => {
                                                                            if ("equipment" === e.type && e.item) {
                                                                                if (
                                                                                    e.item.id === s &&
                                                                                    e.item.pairItem
                                                                                ) {
                                                                                    const s =
                                                                                        "rack" === e.item.type
                                                                                            ? "shelf"
                                                                                            : "rack";
                                                                                    e.item.pairItem.type !== s &&
                                                                                        ((a = !0),
                                                                                        (r = e.item.pairItem.ru || 1),
                                                                                        (l = e.item.pairItem.type),
                                                                                        (i = t));
                                                                                }
                                                                                if (
                                                                                    e.item.pairItem &&
                                                                                    e.item.pairItem.id === s
                                                                                ) {
                                                                                    const s =
                                                                                        "rack" === e.item.pairItem.type
                                                                                            ? "shelf"
                                                                                            : "rack";
                                                                                    e.item.type !== s &&
                                                                                        ((a = !0),
                                                                                        (r = e.item.pairItem.ru || 1),
                                                                                        (l = s),
                                                                                        (i = t));
                                                                                }
                                                                            }
                                                                        });
                                                                    }),
                                                                    "manual" === L && a && i >= 0)
                                                                ) {
                                                                    const e = h[i];
                                                                    if (!qe(e, l, r, s).canPlace)
                                                                        return void I(
                                                                            `Cannot change mount type: Rack ${i + 1} is full. Need ${r}U of blank space or a compatible unpaired half-width ${"shelf" === l ? "shelf" : "rack"}-mounted ${r}U item to pair with.`
                                                                        );
                                                                }
                                                                t(
                                                                    e.map((e) =>
                                                                        e.id === s
                                                                            ? {
                                                                                  ...e,
                                                                                  type:
                                                                                      "rack" === e.type
                                                                                          ? "shelf"
                                                                                          : "rack",
                                                                              }
                                                                            : e
                                                                    )
                                                                ),
                                                                    p((e) =>
                                                                        e.map((e) => {
                                                                            const t = [];
                                                                            let a = !1;
                                                                            if (
                                                                                (e.layout.forEach((e) => {
                                                                                    if (
                                                                                        "equipment" === e.type &&
                                                                                        e.item
                                                                                    )
                                                                                        if (e.item.id === s) {
                                                                                            const s =
                                                                                                "rack" === e.item.type
                                                                                                    ? "shelf"
                                                                                                    : "rack";
                                                                                            if (
                                                                                                e.item.pairItem &&
                                                                                                e.item.pairItem.type !==
                                                                                                    s
                                                                                            ) {
                                                                                                (a = !0),
                                                                                                    t.push({
                                                                                                        ...e,
                                                                                                        item: {
                                                                                                            ...e.item,
                                                                                                            type: s,
                                                                                                            isHalfPair:
                                                                                                                !1,
                                                                                                            pairItem:
                                                                                                                null,
                                                                                                        },
                                                                                                    });
                                                                                                const r =
                                                                                                        e.item.pairItem,
                                                                                                    l = r.ru || 1;
                                                                                                let i = !1;
                                                                                                for (
                                                                                                    let e = 0;
                                                                                                    e < t.length;
                                                                                                    e++
                                                                                                ) {
                                                                                                    const s = t[e];
                                                                                                    if (
                                                                                                        "equipment" ===
                                                                                                            s.type &&
                                                                                                        s.item
                                                                                                    ) {
                                                                                                        const a =
                                                                                                                s.item,
                                                                                                            n =
                                                                                                                a.isHalfWidth ||
                                                                                                                "half" ===
                                                                                                                    a.width,
                                                                                                            o =
                                                                                                                a.isHalfPair &&
                                                                                                                a.pairItem;
                                                                                                        if (
                                                                                                            n &&
                                                                                                            !o &&
                                                                                                            a.type ===
                                                                                                                r.type &&
                                                                                                            (a.ru ||
                                                                                                                1) === l
                                                                                                        ) {
                                                                                                            (t[e] = {
                                                                                                                ...s,
                                                                                                                item: {
                                                                                                                    ...a,
                                                                                                                    isHalfPair:
                                                                                                                        !0,
                                                                                                                    pairItem:
                                                                                                                        {
                                                                                                                            ...r,
                                                                                                                        },
                                                                                                                },
                                                                                                            }),
                                                                                                                (i =
                                                                                                                    !0);
                                                                                                            break;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!i) {
                                                                                                    let e = -1,
                                                                                                        s = 0;
                                                                                                    for (
                                                                                                        let a = 0;
                                                                                                        a < t.length;
                                                                                                        a++
                                                                                                    )
                                                                                                        if (
                                                                                                            "blank" ===
                                                                                                            t[a].type
                                                                                                        ) {
                                                                                                            if (
                                                                                                                (-1 ===
                                                                                                                    e &&
                                                                                                                    (e =
                                                                                                                        a),
                                                                                                                s++,
                                                                                                                s >= l)
                                                                                                            )
                                                                                                                break;
                                                                                                        } else
                                                                                                            (e = -1),
                                                                                                                (s = 0);
                                                                                                    s >= l && e >= 0
                                                                                                        ? t.splice(
                                                                                                              e,
                                                                                                              l,
                                                                                                              {
                                                                                                                  id: `layout-unpair-${Date.now()}`,
                                                                                                                  type: "equipment",
                                                                                                                  item: {
                                                                                                                      ...r,
                                                                                                                      isHalfPair:
                                                                                                                          !1,
                                                                                                                      pairItem:
                                                                                                                          null,
                                                                                                                  },
                                                                                                                  startRU: 0,
                                                                                                                  endRU: 0,
                                                                                                                  ru: l,
                                                                                                              }
                                                                                                          )
                                                                                                        : t.push({
                                                                                                              id: `layout-unpair-${Date.now()}`,
                                                                                                              type: "equipment",
                                                                                                              item: {
                                                                                                                  ...r,
                                                                                                                  isHalfPair:
                                                                                                                      !1,
                                                                                                                  pairItem:
                                                                                                                      null,
                                                                                                              },
                                                                                                              startRU: 0,
                                                                                                              endRU: 0,
                                                                                                              ru: l,
                                                                                                          });
                                                                                                }
                                                                                            } else {
                                                                                                const r =
                                                                                                        e.item
                                                                                                            .isHalfWidth ||
                                                                                                        "half" ===
                                                                                                            e.item
                                                                                                                .width,
                                                                                                    l =
                                                                                                        e.item
                                                                                                            .isHalfPair &&
                                                                                                        e.item.pairItem;
                                                                                                r && !l
                                                                                                    ? (t.push({
                                                                                                          ...e,
                                                                                                          item: {
                                                                                                              ...e.item,
                                                                                                              type: s,
                                                                                                              needsPairing:
                                                                                                                  !0,
                                                                                                          },
                                                                                                      }),
                                                                                                      (a = !0))
                                                                                                    : t.push({
                                                                                                          ...e,
                                                                                                          item: {
                                                                                                              ...e.item,
                                                                                                              type: s,
                                                                                                          },
                                                                                                      });
                                                                                            }
                                                                                        } else if (
                                                                                            e.item.pairItem &&
                                                                                            e.item.pairItem.id === s
                                                                                        ) {
                                                                                            const s =
                                                                                                "rack" ===
                                                                                                e.item.pairItem.type
                                                                                                    ? "shelf"
                                                                                                    : "rack";
                                                                                            if (e.item.type !== s) {
                                                                                                (a = !0),
                                                                                                    t.push({
                                                                                                        ...e,
                                                                                                        item: {
                                                                                                            ...e.item,
                                                                                                            isHalfPair:
                                                                                                                !1,
                                                                                                            pairItem:
                                                                                                                null,
                                                                                                        },
                                                                                                    });
                                                                                                const r = {
                                                                                                        ...e.item
                                                                                                            .pairItem,
                                                                                                        type: s,
                                                                                                    },
                                                                                                    l = r.ru || 1;
                                                                                                let i = !1;
                                                                                                for (
                                                                                                    let e = 0;
                                                                                                    e < t.length;
                                                                                                    e++
                                                                                                ) {
                                                                                                    const s = t[e];
                                                                                                    if (
                                                                                                        "equipment" ===
                                                                                                            s.type &&
                                                                                                        s.item
                                                                                                    ) {
                                                                                                        const a =
                                                                                                                s.item,
                                                                                                            n =
                                                                                                                a.isHalfWidth ||
                                                                                                                "half" ===
                                                                                                                    a.width,
                                                                                                            o =
                                                                                                                a.isHalfPair &&
                                                                                                                a.pairItem;
                                                                                                        if (
                                                                                                            n &&
                                                                                                            !o &&
                                                                                                            a.type ===
                                                                                                                r.type &&
                                                                                                            (a.ru ||
                                                                                                                1) === l
                                                                                                        ) {
                                                                                                            (t[e] = {
                                                                                                                ...s,
                                                                                                                item: {
                                                                                                                    ...a,
                                                                                                                    isHalfPair:
                                                                                                                        !0,
                                                                                                                    pairItem:
                                                                                                                        r,
                                                                                                                },
                                                                                                            }),
                                                                                                                (i =
                                                                                                                    !0);
                                                                                                            break;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                                if (!i) {
                                                                                                    let e = -1,
                                                                                                        s = 0;
                                                                                                    for (
                                                                                                        let a = 0;
                                                                                                        a < t.length;
                                                                                                        a++
                                                                                                    )
                                                                                                        if (
                                                                                                            "blank" ===
                                                                                                            t[a].type
                                                                                                        ) {
                                                                                                            if (
                                                                                                                (-1 ===
                                                                                                                    e &&
                                                                                                                    (e =
                                                                                                                        a),
                                                                                                                s++,
                                                                                                                s >= l)
                                                                                                            )
                                                                                                                break;
                                                                                                        } else
                                                                                                            (e = -1),
                                                                                                                (s = 0);
                                                                                                    s >= l && e >= 0
                                                                                                        ? t.splice(
                                                                                                              e,
                                                                                                              l,
                                                                                                              {
                                                                                                                  id: `layout-unpair-${Date.now()}`,
                                                                                                                  type: "equipment",
                                                                                                                  item: {
                                                                                                                      ...r,
                                                                                                                      isHalfPair:
                                                                                                                          !1,
                                                                                                                      pairItem:
                                                                                                                          null,
                                                                                                                  },
                                                                                                                  startRU: 0,
                                                                                                                  endRU: 0,
                                                                                                                  ru: l,
                                                                                                              }
                                                                                                          )
                                                                                                        : t.push({
                                                                                                              id: `layout-unpair-${Date.now()}`,
                                                                                                              type: "equipment",
                                                                                                              item: {
                                                                                                                  ...r,
                                                                                                                  isHalfPair:
                                                                                                                      !1,
                                                                                                                  pairItem:
                                                                                                                      null,
                                                                                                              },
                                                                                                              startRU: 0,
                                                                                                              endRU: 0,
                                                                                                              ru: l,
                                                                                                          });
                                                                                                }
                                                                                            } else
                                                                                                t.push({
                                                                                                    ...e,
                                                                                                    item: {
                                                                                                        ...e.item,
                                                                                                        pairItem: {
                                                                                                            ...e.item
                                                                                                                .pairItem,
                                                                                                            type: s,
                                                                                                        },
                                                                                                    },
                                                                                                });
                                                                                        } else t.push(e);
                                                                                    else t.push(e);
                                                                                }),
                                                                                a)
                                                                            ) {
                                                                                let e = 1;
                                                                                t.forEach((t) => {
                                                                                    const s =
                                                                                        "equipment" === t.type
                                                                                            ? t.item?.ru || 1
                                                                                            : t.ru || 1;
                                                                                    (t.startRU = e),
                                                                                        (t.endRU = e + s - 1),
                                                                                        (e += s);
                                                                                });
                                                                            }
                                                                            for (let e = 0; e < t.length; e++) {
                                                                                const s = t[e];
                                                                                if (
                                                                                    "equipment" !== s.type ||
                                                                                    !s.item ||
                                                                                    !s.item.needsPairing
                                                                                )
                                                                                    continue;
                                                                                const a = s.item,
                                                                                    r = a.type,
                                                                                    l = a.ru || 1;
                                                                                delete t[e].item.needsPairing;
                                                                                for (let s = 0; s < t.length; s++) {
                                                                                    if (e === s) continue;
                                                                                    const i = t[s];
                                                                                    if (
                                                                                        "equipment" !== i.type ||
                                                                                        !i.item
                                                                                    )
                                                                                        continue;
                                                                                    const n = i.item,
                                                                                        o =
                                                                                            n.isHalfWidth ||
                                                                                            "half" === n.width,
                                                                                        d =
                                                                                            !0 === n.isHalfPair ||
                                                                                            null != n.pairItem;
                                                                                    if (
                                                                                        o &&
                                                                                        !d &&
                                                                                        n.type === r &&
                                                                                        (n.ru || 1) === l &&
                                                                                        !n.needsPairing
                                                                                    ) {
                                                                                        (t[s] = {
                                                                                            ...i,
                                                                                            item: {
                                                                                                ...n,
                                                                                                isHalfPair: !0,
                                                                                                pairItem: {
                                                                                                    ...a,
                                                                                                    isHalfWidth: !0,
                                                                                                    isHalfPair: !1,
                                                                                                    pairItem: null,
                                                                                                },
                                                                                            },
                                                                                        }),
                                                                                            (t[e] = {
                                                                                                id: `blank-freed-${Date.now()}-${e}`,
                                                                                                type: "blank",
                                                                                                ru: l,
                                                                                                startRU: 0,
                                                                                                endRU: 0,
                                                                                            });
                                                                                        break;
                                                                                    }
                                                                                }
                                                                            }
                                                                            if (a) {
                                                                                let e = 1;
                                                                                t.forEach((t) => {
                                                                                    const s =
                                                                                        "equipment" === t.type
                                                                                            ? t.item?.ru || 1
                                                                                            : t.ru || 1;
                                                                                    (t.startRU = e),
                                                                                        (t.endRU = e + s - 1),
                                                                                        (e += s);
                                                                                });
                                                                            }
                                                                            return { ...e, layout: t };
                                                                        })
                                                                    ),
                                                                    u(!1);
                                                            })(a),
                                                        className:
                                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group",
                                                        title:
                                                            "rack" === r
                                                                ? "Change to Shelf Mount"
                                                                : "Change to Rack Mount",
                                                        children: _jsx("span", {
                                                            className: "text-sm sm:text-base",
                                                            children: "rack" === r ? "🔧" : "📦",
                                                        }),
                                                    }),
                                                    _jsx("button", {
                                                        onClick: () =>
                                                            ((s) => {
                                                                let a = !1,
                                                                    r = 0,
                                                                    l = null,
                                                                    i = -1;
                                                                if (
                                                                    (h.forEach((e, t) => {
                                                                        e.layout.forEach((e) => {
                                                                            "equipment" === e.type &&
                                                                                e.item &&
                                                                                (e.item.id === s &&
                                                                                    ("half" === e.item.width ||
                                                                                        e.item.isHalfWidth) &&
                                                                                    e.item.pairItem &&
                                                                                    ((a = !0),
                                                                                    (r = e.item.pairItem.ru || 1),
                                                                                    (l = e.item.pairItem.type),
                                                                                    (i = t)),
                                                                                e.item.pairItem &&
                                                                                    e.item.pairItem.id === s &&
                                                                                    ("half" === e.item.pairItem.width ||
                                                                                        e.item.pairItem.isHalfWidth) &&
                                                                                    ((a = !0),
                                                                                    (r = e.item.pairItem.ru || 1),
                                                                                    (l = e.item.pairItem.type),
                                                                                    (i = t)));
                                                                        });
                                                                    }),
                                                                    "manual" === L && a && i >= 0)
                                                                ) {
                                                                    const e = h[i];
                                                                    if (!qe(e, l, r, s).canPlace)
                                                                        return void I(
                                                                            `Cannot convert to full width: Rack ${i + 1} is full. Need ${r}U of blank space or a compatible unpaired half-width ${"shelf" === l ? "shelf" : "rack"}-mounted ${r}U item to pair with.`
                                                                        );
                                                                }
                                                                t(
                                                                    e.map((e) => {
                                                                        if (e.id !== s) return e;
                                                                        const t = "half" === e.width ? "full" : "half";
                                                                        return {
                                                                            ...e,
                                                                            width: t,
                                                                            isHalfWidth: "half" === t,
                                                                        };
                                                                    })
                                                                ),
                                                                    p((e) => {
                                                                        const t = e.map((e) => {
                                                                            const t = [];
                                                                            let a = [];
                                                                            e.layout.forEach((e) => {
                                                                                if ("equipment" === e.type && e.item)
                                                                                    if (e.item.id === s) {
                                                                                        const s =
                                                                                            "half" === e.item.width
                                                                                                ? "full"
                                                                                                : "half";
                                                                                        "full" === s && e.item.pairItem
                                                                                            ? (a.push({
                                                                                                  ...e.item.pairItem,
                                                                                                  isHalfPair: !1,
                                                                                                  pairItem: null,
                                                                                              }),
                                                                                              t.push({
                                                                                                  ...e,
                                                                                                  item: {
                                                                                                      ...e.item,
                                                                                                      width: s,
                                                                                                      isHalfWidth: !1,
                                                                                                      isHalfPair: !1,
                                                                                                      pairItem: null,
                                                                                                  },
                                                                                              }))
                                                                                            : "half" === s
                                                                                              ? t.push({
                                                                                                    ...e,
                                                                                                    item: {
                                                                                                        ...e.item,
                                                                                                        width: s,
                                                                                                        isHalfWidth: !0,
                                                                                                        isHalfPair: !1,
                                                                                                        pairItem: null,
                                                                                                        needsPairing:
                                                                                                            !0,
                                                                                                    },
                                                                                                })
                                                                                              : t.push({
                                                                                                    ...e,
                                                                                                    item: {
                                                                                                        ...e.item,
                                                                                                        width: s,
                                                                                                        isHalfWidth:
                                                                                                            "half" ===
                                                                                                            s,
                                                                                                    },
                                                                                                });
                                                                                    } else if (
                                                                                        e.item.pairItem &&
                                                                                        e.item.pairItem.id === s
                                                                                    ) {
                                                                                        const s =
                                                                                            "half" ===
                                                                                            e.item.pairItem.width
                                                                                                ? "full"
                                                                                                : "half";
                                                                                        "full" === s
                                                                                            ? (a.push({
                                                                                                  ...e.item.pairItem,
                                                                                                  width: s,
                                                                                                  isHalfWidth: !1,
                                                                                                  isHalfPair: !1,
                                                                                                  pairItem: null,
                                                                                              }),
                                                                                              t.push({
                                                                                                  ...e,
                                                                                                  item: {
                                                                                                      ...e.item,
                                                                                                      isHalfPair: !1,
                                                                                                      pairItem: null,
                                                                                                  },
                                                                                              }))
                                                                                            : t.push({
                                                                                                  ...e,
                                                                                                  item: {
                                                                                                      ...e.item,
                                                                                                      pairItem: {
                                                                                                          ...e.item
                                                                                                              .pairItem,
                                                                                                          width: s,
                                                                                                          isHalfWidth:
                                                                                                              "half" ===
                                                                                                              s,
                                                                                                      },
                                                                                                  },
                                                                                              });
                                                                                    } else t.push(e);
                                                                                else t.push(e);
                                                                            }),
                                                                                a.forEach((e) => {
                                                                                    const s = e.ru || 1;
                                                                                    if (
                                                                                        e.isHalfWidth ||
                                                                                        "half" === e.width
                                                                                    ) {
                                                                                        let a = !1;
                                                                                        for (
                                                                                            let r = 0;
                                                                                            r < t.length;
                                                                                            r++
                                                                                        ) {
                                                                                            const l = t[r];
                                                                                            if (
                                                                                                "equipment" ===
                                                                                                    l.type &&
                                                                                                l.item
                                                                                            ) {
                                                                                                const i = l.item,
                                                                                                    n =
                                                                                                        i.isHalfWidth ||
                                                                                                        "half" ===
                                                                                                            i.width,
                                                                                                    o =
                                                                                                        i.isHalfPair &&
                                                                                                        i.pairItem;
                                                                                                if (
                                                                                                    n &&
                                                                                                    !o &&
                                                                                                    (i.ru || 1) === s &&
                                                                                                    i.type === e.type
                                                                                                ) {
                                                                                                    (t[r] = {
                                                                                                        ...l,
                                                                                                        item: {
                                                                                                            ...i,
                                                                                                            isHalfPair:
                                                                                                                !0,
                                                                                                            pairItem: {
                                                                                                                ...e,
                                                                                                                isHalfWidth:
                                                                                                                    !0,
                                                                                                            },
                                                                                                        },
                                                                                                    }),
                                                                                                        (a = !0);
                                                                                                    break;
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        if (a) return;
                                                                                    }
                                                                                    let a = 0,
                                                                                        r = -1;
                                                                                    for (let e = 0; e < t.length; e++)
                                                                                        if ("blank" === t[e].type) {
                                                                                            if (
                                                                                                (-1 === r && (r = e),
                                                                                                a++,
                                                                                                a >= s)
                                                                                            )
                                                                                                break;
                                                                                        } else (a = 0), (r = -1);
                                                                                    a >= s && r >= 0
                                                                                        ? t.splice(r, s, {
                                                                                              id: `layout-relocated-${Date.now()}-${e.id}`,
                                                                                              type: "equipment",
                                                                                              item: e,
                                                                                              startRU: 0,
                                                                                              endRU: 0,
                                                                                              ru: s,
                                                                                          })
                                                                                        : t.push({
                                                                                              id: `layout-relocated-${Date.now()}-${e.id}`,
                                                                                              type: "equipment",
                                                                                              item: e,
                                                                                              startRU: 0,
                                                                                              endRU: 0,
                                                                                              ru: s,
                                                                                          });
                                                                                });
                                                                            for (let e = 0; e < t.length; e++) {
                                                                                const s = t[e];
                                                                                if (
                                                                                    "equipment" !== s.type ||
                                                                                    !s.item ||
                                                                                    !s.item.needsPairing
                                                                                )
                                                                                    continue;
                                                                                const a = s.item,
                                                                                    r = a.type,
                                                                                    l = a.ru || 1;
                                                                                delete t[e].item.needsPairing;
                                                                                for (let s = 0; s < t.length; s++) {
                                                                                    if (e === s) continue;
                                                                                    const i = t[s];
                                                                                    if (
                                                                                        "equipment" !== i.type ||
                                                                                        !i.item
                                                                                    )
                                                                                        continue;
                                                                                    const n = i.item,
                                                                                        o =
                                                                                            n.isHalfWidth ||
                                                                                            "half" === n.width,
                                                                                        d =
                                                                                            !0 === n.isHalfPair ||
                                                                                            null != n.pairItem;
                                                                                    if (
                                                                                        o &&
                                                                                        !d &&
                                                                                        n.type === r &&
                                                                                        (n.ru || 1) === l &&
                                                                                        !n.needsPairing
                                                                                    ) {
                                                                                        (t[s] = {
                                                                                            ...i,
                                                                                            item: {
                                                                                                ...n,
                                                                                                isHalfPair: !0,
                                                                                                pairItem: {
                                                                                                    ...a,
                                                                                                    isHalfWidth: !0,
                                                                                                    isHalfPair: !1,
                                                                                                    pairItem: null,
                                                                                                },
                                                                                            },
                                                                                        }),
                                                                                            (t[e] = {
                                                                                                id: `blank-freed-${Date.now()}-${e}`,
                                                                                                type: "blank",
                                                                                                ru: l,
                                                                                                startRU: 0,
                                                                                                endRU: 0,
                                                                                            });
                                                                                        break;
                                                                                    }
                                                                                }
                                                                            }
                                                                            let r = 1;
                                                                            return (
                                                                                t.forEach((e) => {
                                                                                    const t =
                                                                                        "equipment" === e.type
                                                                                            ? e.item?.ru || 1
                                                                                            : e.ru || 1;
                                                                                    (e.startRU = r),
                                                                                        (e.endRU = r + t - 1),
                                                                                        (r += t);
                                                                                }),
                                                                                { ...e, layout: t }
                                                                            );
                                                                        });
                                                                        return t;
                                                                    }),
                                                                    u(!1);
                                                            })(a),
                                                        className:
                                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group",
                                                        title:
                                                            "half" === l
                                                                ? "Change to Full Width"
                                                                : "Change to Half Width",
                                                        children: _jsx("span", {
                                                            className: "text-sm sm:text-base",
                                                            children: "half" === l ? "◧" : "■",
                                                        }),
                                                    }),
                                                ],
                                            });
                                        })(),
                                    h.length > 1 &&
                                        "equipment" === ot?.type &&
                                        !ot?.isPairItem &&
                                        (() => {
                                            const e = g?.rackIdx,
                                                t = ot.item?.ru || 1,
                                                s = ot.item?.name || "Item",
                                                a = [];
                                            if (
                                                (h.forEach((s, r) => {
                                                    if (r === e) return;
                                                    // Count maximum consecutive blanks anywhere in the rack
                                                    let maxConsecutiveBlanks = 0;
                                                    let currentConsecutive = 0;
                                                    s.layout.forEach(li => {
                                                        if (li.type === "blank") {
                                                            currentConsecutive++;
                                                            if (currentConsecutive > maxConsecutiveBlanks) {
                                                                maxConsecutiveBlanks = currentConsecutive;
                                                            }
                                                        } else {
                                                            currentConsecutive = 0;
                                                        }
                                                    });
                                                    // Also count trailing blanks for backward compatibility
                                                    let trailingBlanks = 0;
                                                    for (
                                                        let e = s.layout.length - 1;
                                                        e >= 0 && "blank" === s.layout[e].type;
                                                        e--
                                                    )
                                                        trailingBlanks++;
                                                    // Use the larger of maxConsecutive or trailing
                                                    const availableSpace = Math.max(maxConsecutiveBlanks, trailingBlanks);
                                                    availableSpace >= t && a.push({ idx: r, availableBlanks: availableSpace, rack: s });
                                                }),
                                                0 === a.length)
                                            )
                                                return _jsxs(_Fragment, {
                                                    children: [
                                                        _jsx("div", {
                                                            className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1",
                                                        }),
                                                        _jsx("span", {
                                                            className: "text-xs text-gray-400 px-2",
                                                            title: "No other racks have enough space for this item",
                                                            children: "No transfer options",
                                                        }),
                                                    ],
                                                });
                                            return _jsxs(_Fragment, {
                                                children: [
                                                    _jsx("div", {
                                                        className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1",
                                                    }),
                                                    _jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [
                                                            _jsx("svg", {
                                                                className: "w-4 h-4 text-gray-500 dark:text-gray-400",
                                                                fill: "none",
                                                                viewBox: "0 0 24 24",
                                                                stroke: "currentColor",
                                                                strokeWidth: 2,
                                                                children: _jsx("path", {
                                                                    strokeLinecap: "round",
                                                                    strokeLinejoin: "round",
                                                                    d: "M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",
                                                                }),
                                                            }),
                                                            _jsx("select", {
                                                                onChange: (e) => {
                                                                    const r = parseInt(e.target.value);
                                                                    if (
                                                                        ((e.target.selectedIndex = 0),
                                                                        isNaN(r) || r < 0)
                                                                    )
                                                                        return;
                                                                    if (!g || !ot?.item) return;
                                                                    const l = g.rackIdx;
                                                                    if (l === r)
                                                                        return void I(
                                                                            "Cannot transfer to the same rack"
                                                                        );
                                                                    if (r >= h.length)
                                                                        return void I(`Rack ${r + 1} does not exist`);
                                                                    const i = a.find((e) => e.idx === r);
                                                                    if (!i)
                                                                        return void I(
                                                                            `Cannot transfer "${s}" (${t}U) to Rack ${r + 1}: not enough space`
                                                                        );
                                                                    const n = h.map((e) => ({
                                                                            ...e,
                                                                            layout: e.layout.map((e) =>
                                                                                "equipment" === e.type && e.item
                                                                                    ? {
                                                                                          ...e,
                                                                                          item: {
                                                                                              ...e.item,
                                                                                              pairItem: e.item.pairItem
                                                                                                  ? {
                                                                                                        ...e.item
                                                                                                            .pairItem,
                                                                                                    }
                                                                                                  : null,
                                                                                          },
                                                                                      }
                                                                                    : { ...e }
                                                                            ),
                                                                        })),
                                                                        o = n[l],
                                                                        d = n[r];
                                                                    if (!o || !d)
                                                                        return void I("Transfer failed: invalid rack");
                                                                    const m = g.layoutId,
                                                                        x = o.layout.findIndex((e) => e.id === m);
                                                                    if (x < 0)
                                                                        return void I(
                                                                            "Transfer failed: item not found in source rack"
                                                                        );
                                                                    const f = { ...o.layout[x] };
                                                                    f.item &&
                                                                        ((f.item = { ...f.item }),
                                                                        f.item.pairItem &&
                                                                            (f.item.pairItem = { ...f.item.pairItem }));
                                                                    const y = f.item?.ru || 1;
                                                                    
                                                                    // Find best position for insertion - look for consecutive blanks anywhere
                                                                    let bestBlankStart = -1;
                                                                    let bestBlankCount = 0;
                                                                    let currentStart = -1;
                                                                    let currentCount = 0;
                                                                    
                                                                    for (let idx = 0; idx < d.layout.length; idx++) {
                                                                        if (d.layout[idx].type === "blank") {
                                                                            if (currentStart === -1) currentStart = idx;
                                                                            currentCount++;
                                                                            if (currentCount >= y && currentCount > bestBlankCount) {
                                                                                bestBlankStart = currentStart;
                                                                                bestBlankCount = currentCount;
                                                                            }
                                                                        } else {
                                                                            currentStart = -1;
                                                                            currentCount = 0;
                                                                        }
                                                                    }
                                                                    
                                                                    // Also check trailing blanks as fallback
                                                                    let trailingStart = d.layout.length;
                                                                    let trailingCount = 0;
                                                                    for (let idx = d.layout.length - 1; idx >= 0 && d.layout[idx].type === "blank"; idx--) {
                                                                        trailingStart = idx;
                                                                        trailingCount++;
                                                                    }
                                                                    
                                                                    // Use trailing blanks if they're sufficient, otherwise use best consecutive
                                                                    let insertPos, blanksToRemove;
                                                                    if (trailingCount >= y) {
                                                                        insertPos = trailingStart;
                                                                        blanksToRemove = { start: trailingStart, count: y };
                                                                    } else if (bestBlankStart >= 0 && bestBlankCount >= y) {
                                                                        insertPos = bestBlankStart;
                                                                        blanksToRemove = { start: bestBlankStart, count: y };
                                                                    } else {
                                                                        return void I(
                                                                            `Cannot transfer "${s}" (${y}U) to Rack ${r + 1}: not enough consecutive space`
                                                                        );
                                                                    }
                                                                    
                                                                    // Remove item from source rack and add blanks
                                                                    o.layout.splice(x, 1);
                                                                    for (let e = 0; e < y; e++)
                                                                        o.layout.splice(x + e, 0, {
                                                                            id: `blank-${l}-transfer-${Date.now()}-${e}`,
                                                                            startRU: 0,
                                                                            endRU: 0,
                                                                            type: "blank",
                                                                            ru: 1,
                                                                        });
                                                                    
                                                                    // Remove blanks from target rack and insert equipment
                                                                    d.layout.splice(blanksToRemove.start, blanksToRemove.count);
                                                                    d.layout.splice(blanksToRemove.start, 0, f);
                                                                    
                                                                    st(o);
                                                                    st(d);
                                                                    if ("manual" === L)
                                                                        p([...n]);
                                                                    else {
                                                                        const e = Oe(n, c, me);
                                                                        p(Ge(e, me));
                                                                    }
                                                                    b({ rackIdx: r, layoutId: f.id }),
                                                                        T(r),
                                                                        u(!1),
                                                                        (De.current = !0);
                                                                },
                                                                defaultValue: "-1",
                                                                className:
                                                                    "text-xs sm:text-sm bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg px-1 py-1 pr-6 cursor-pointer hover:bg-gray-50 dark:bg-gray-900/50 focus:outline-none focus:ring-1 focus:ring-blue-300",
                                                                title: "Transfer to another rack",
                                                                children: [
                                                                    _jsx(
                                                                        "option",
                                                                        { value: "-1", children: "Transfer →" },
                                                                        "default"
                                                                    ),
                                                                    ...a.map(({ idx: e, availableBlanks: t, rack: s }) =>
                                                                        _jsx(
                                                                            "option",
                                                                            {
                                                                                value: String(e),
                                                                                children: `${We(s, e)} (${t}U free)`,
                                                                            },
                                                                            `rack-${e}`
                                                                        )
                                                                    ),
                                                                ],
                                                            }),
                                                        ],
                                                    }),
                                                ],
                                            });
                                        })(),
                                    _jsx("div", { className: "w-px h-5 sm:h-6 bg-gray-200 dark:bg-gray-700 mx-0.5 sm:mx-1" }),
                                    _jsx("button", {
                                        onClick: () => {
                                            if (g)
                                                if ("blank" === ot?.type) {
                                                    const e = h.map((e) => ({
                                                            ...e,
                                                            layout: e.layout.map((e) =>
                                                                "equipment" === e.type && e.item
                                                                    ? { ...e, item: { ...e.item } }
                                                                    : { ...e }
                                                            ),
                                                        })),
                                                        t = e[g.rackIdx],
                                                        s = t.layout.findIndex((e) => e.id === g.layoutId);
                                                    s >= 0 &&
                                                        (t.layout.splice(s, 1),
                                                        st(t),
                                                        p("manual" === L ? [...e] : Ge(Oe(e, c, me), me)),
                                                        b(null),
                                                        u(!1),
                                                        (De.current = !0));
                                                } else ot?.item?.id && (Qe(ot.item.id), b(null));
                                        },
                                        className:
                                            "p-1.5 sm:p-2.5 hover:bg-red-50 dark:bg-red-900/20 rounded-lg sm:rounded-xl transition-colors group",
                                        title: "Remove Item",
                                        children: _jsx("svg", {
                                            className: "w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-red-500",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
                                            }),
                                        }),
                                    }),
                                    _jsx("button", {
                                        onClick: () => b(null),
                                        className:
                                            "p-1.5 sm:p-2.5 hover:bg-gray-100 dark:bg-gray-700 rounded-lg sm:rounded-xl transition-colors group",
                                        title: "Deselect",
                                        children: _jsx("svg", {
                                            className: "w-4 h-4 sm:w-5 sm:h-5 text-gray-400 group-hover:text-gray-600 dark:text-gray-400",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M6 18L18 6M6 6l12 12",
                                            }),
                                        }),
                                    }),
                                ],
                            }),
                        }),
                    }),
                    document.body
                ),
            g && ot && _jsx("div", { className: "h-24 sm:h-28" }),
            X &&
                _jsx("div", {
                    className: "fixed inset-0 z-50 flex items-center justify-center p-4",
                    style: { backgroundColor: "rgba(0, 0, 0, 0.5)" },
                    onClick: (e) => {
                        e.target === e.currentTarget && J(!1);
                    },
                    children: _jsxs("div", {
                        className:
                            "bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",
                        style: { animation: "modalFadeIn 0.2s ease-out" },
                        children: [
                            _jsxs("div", {
                                className: "relative",
                                children: [
                                    _jsx("div", {
                                        className:
                                            "h-24 bg-gradient-to-br from-indigo-500 via-indigo-600 to-indigo-700",
                                        style: { borderRadius: "0 0 50% 50% / 0 0 30px 30px" },
                                    }),
                                    _jsx("button", {
                                        onClick: () => J(!1),
                                        className:
                                            "absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white dark:bg-gray-800/20 hover:bg-white dark:bg-gray-800/30 transition-colors",
                                        children: _jsx("svg", {
                                            className: "w-5 h-5 text-white",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M6 18L18 6M6 6l12 12",
                                            }),
                                        }),
                                    }),
                                    _jsx("div", {
                                        className:
                                            "absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2",
                                        children: _jsx("div", {
                                            className:
                                                "w-16 h-16 bg-white dark:bg-gray-800 rounded-full shadow-lg dark:shadow-gray-950/30 flex items-center justify-center",
                                            children: _jsx("span", { className: "text-3xl", children: "🗄️" }),
                                        }),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "px-6 pt-12 pb-6 text-center",
                                children: [
                                    _jsx("h3", {
                                        className: "text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",
                                        children: "Add New Rack",
                                    }),
                                    _jsx("p", {
                                        className: "text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-4",
                                        children: "Select the size for your new rack",
                                    }),
                                    _jsx("select", {
                                        value: Q,
                                        onChange: (e) => K(parseInt(e.target.value)),
                                        className:
                                            "w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-sm focus:border-indigo-500 focus:outline-none mb-6",
                                        children: ce.map((e) =>
                                            _jsx("option", { key: e, value: e, children: `${e}U Rack` })
                                        ),
                                    }),
                                    _jsxs("div", {
                                        className: "flex flex-col gap-3",
                                        children: [
                                            _jsx("button", {
                                                onClick: () => {
                                                    Ve(Q), J(!1);
                                                },
                                                className:
                                                    "w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl transition-colors shadow-md dark:shadow-gray-950/20 hover:shadow-lg dark:shadow-gray-950/30",
                                                children: "Add Rack",
                                            }),
                                            _jsx("button", {
                                                onClick: () => J(!1),
                                                className:
                                                    "w-full py-2.5 px-4 text-gray-600 dark:text-gray-400 hover:text-gray-800 font-medium transition-colors",
                                                children: "Cancel",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsx("div", {
                                className: "px-6 pb-4 text-center",
                                children: _jsx("p", { className: "text-xs text-gray-400", children: "AV Tools Pro" }),
                            }),
                        ],
                    }),
                }),
            Y &&
                ee &&
                _jsx("div", {
                    className: "fixed inset-0 z-50 flex items-center justify-center p-4",
                    style: { backgroundColor: "rgba(0, 0, 0, 0.5)" },
                    onClick: (e) => {
                        e.target === e.currentTarget && (Z(!1), te(null));
                    },
                    children: _jsxs("div", {
                        className:
                            "bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",
                        style: { animation: "modalFadeIn 0.2s ease-out" },
                        children: [
                            _jsxs("div", {
                                className: "relative",
                                children: [
                                    _jsx("div", {
                                        className: "h-24 bg-gradient-to-br from-red-500 via-red-600 to-red-700",
                                        style: { borderRadius: "0 0 50% 50% / 0 0 30px 30px" },
                                    }),
                                    _jsx("button", {
                                        onClick: () => {
                                            Z(!1), te(null);
                                        },
                                        className:
                                            "absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-white dark:bg-gray-800/20 hover:bg-white dark:bg-gray-800/30 transition-colors",
                                        children: _jsx("svg", {
                                            className: "w-5 h-5 text-white",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: _jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M6 18L18 6M6 6l12 12",
                                            }),
                                        }),
                                    }),
                                    _jsx("div", {
                                        className:
                                            "absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2",
                                        children: _jsx("div", {
                                            className:
                                                "w-16 h-16 bg-white dark:bg-gray-800 rounded-full shadow-lg dark:shadow-gray-950/30 flex items-center justify-center",
                                            children: _jsx("svg", {
                                                className: "w-9 h-9 text-red-600",
                                                fill: "none",
                                                viewBox: "0 0 24 24",
                                                stroke: "currentColor",
                                                strokeWidth: 2,
                                                children: _jsx("path", {
                                                    strokeLinecap: "round",
                                                    strokeLinejoin: "round",
                                                    d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
                                                }),
                                            }),
                                        }),
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                className: "px-6 pt-12 pb-6 text-center",
                                children: [
                                    _jsx("h3", {
                                        className: "text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",
                                        children: `Delete Rack ${ee.index + 1}?`,
                                    }),
                                    _jsx("p", {
                                        className: "text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6",
                                        children: ee.hasEquipment
                                            ? "This rack contains equipment. All equipment in this rack will be permanently removed. This action cannot be undone."
                                            : "Are you sure you want to delete this empty rack? This action cannot be undone.",
                                    }),
                                    _jsxs("div", {
                                        className: "flex flex-col gap-3",
                                        children: [
                                            _jsx("button", {
                                                onClick: () => {
                                                    ((e) => {
                                                        if ("manual" !== L) return;
                                                        if (h.length <= 1) return void I("Cannot remove the last rack");
                                                        const s = h[e];
                                                        if (s) {
                                                            const e = new Set();
                                                            s.layout.forEach((t) => {
                                                                "equipment" === t.type &&
                                                                    t.item &&
                                                                    t.item.id &&
                                                                    e.add(t.item.id);
                                                            }),
                                                                e.size > 0 && t((t) => t.filter((t) => !e.has(t.id)));
                                                        }
                                                        p((t) => t.filter((t, s) => s !== e)),
                                                            B >= e && B > 0 && T(B - 1);
                                                    })(ee.index),
                                                        Z(!1),
                                                        te(null);
                                                },
                                                className:
                                                    "w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition-colors shadow-md dark:shadow-gray-950/20 hover:shadow-lg dark:shadow-gray-950/30",
                                                children: "Yes, Delete Rack",
                                            }),
                                            _jsx("button", {
                                                onClick: () => {
                                                    Z(!1), te(null);
                                                },
                                                className:
                                                    "w-full py-2.5 px-4 text-gray-600 dark:text-gray-400 hover:text-gray-800 font-medium transition-colors",
                                                children: "Cancel",
                                            }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsx("div", {
                                className: "px-6 pb-4 text-center",
                                children: _jsx("p", { className: "text-xs text-gray-400", children: "AV Tools Pro" }),
                            }),
                        ],
                    }),
                }),
        ],
    });
}
function VideoWallBuilderCalculator() {
    const [e, t] = useState(47.6),
        [s, a] = useState(26.8),
        [r, l] = useState("in"),
        [i, n] = useState(1920),
        [o, d] = useState(1080),
        [c, m] = useState("preset"),
        [x, u] = useState(0),
        [h, p] = useState("dimension"),
        [g, b] = useState("width"),
        [f, y] = useState(10),
        [j, _] = useState("ft"),
        [v, N] = useState(16),
        [w, C] = useState(9),
        [M, k] = useState(12),
        [S, R] = useState(6.75),
        [P, A] = useState("ft"),
        [D, I] = useState(2),
        [E, F] = useState(2),
        [B, T] = useState(null),
        [L, H] = useState(!1),
        U = (e) => {
            const t = j,
                s = P,
                a = 0.3048,
                r = 3.28084;
            t !== e &&
                ("ft" === t && "m" === e
                    ? y((e) => Math.round(e * a * 100) / 100)
                    : "m" === t && "ft" === e && y((e) => Math.round(e * r * 100) / 100),
                _(e)),
                s !== e &&
                    ("ft" === s && "m" === e
                        ? (k((e) => Math.round(e * a * 100) / 100), R((e) => Math.round(e * a * 100) / 100))
                        : "m" === s &&
                          "ft" === e &&
                          (k((e) => Math.round(e * r * 100) / 100), R((e) => Math.round(e * r * 100) / 100)),
                    A(e));
        },
        q = (e, t) => {
            const s = _0x99bba9(e, 1, 0.001);
            return "mm" === t ? s / 25.4 : "ft" === t ? 12 * s : "m" === t ? 39.3701 * s : s;
        },
        $ = (e, t, s, a) => {
            const r = (x || 0) / 25.4,
                l = (t - 1) * r,
                n = (e - 1) * r,
                d = t * s + l,
                c = e * a + n,
                m = Math.sqrt(d * d + c * c),
                u = d / c;
            let h, p;
            const g = [
                { w: 1, h: 1, decimal: 1 },
                { w: 4, h: 3, decimal: 4 / 3 },
                { w: 5, h: 4, decimal: 5 / 4 },
                { w: 3, h: 2, decimal: 1.5 },
                { w: 16, h: 10, decimal: 1.6 },
                { w: 16, h: 9, decimal: 16 / 9 },
                { w: 2, h: 1, decimal: 2 },
                { w: 21, h: 9, decimal: 21 / 9 },
                { w: 32, h: 9, decimal: 32 / 9 },
                { w: 32, h: 10, decimal: 3.2 },
                { w: 48, h: 9, decimal: 48 / 9 },
                { w: 64, h: 9, decimal: 64 / 9 },
                { w: 9, h: 16, decimal: 9 / 16 },
                { w: 3, h: 4, decimal: 3 / 4 },
                { w: 2, h: 3, decimal: 2 / 3 },
            ].find((e) => Math.abs(e.decimal - u) / u < 0.02);
            if (g) (h = g.w), (p = g.h);
            else {
                const e = (t, s) => (0 === s ? t : e(s, t % s));
                let t = Math.round(9 * u),
                    s = 9;
                for (const a of [9, 10, 16, 8, 12]) {
                    const r = Math.round(u * a),
                        l = e(r, a),
                        i = r / l,
                        n = a / l;
                    i <= 64 && n <= 64 && i > 0 && i + n < t + s && ((t = i), (s = n));
                }
                (h = t), (p = s);
            }
            const b = t * _0x99bba9(i, 1920, 1),
                f = e * _0x99bba9(o, 1080, 1),
                y = (25.4 * d) / b,
                j = 4 * y,
                _ = 6 * y,
                v = 8 * y;
            T({
                rows: e,
                cols: t,
                totalDisplays: e * t,
                totalWidthIn: d,
                totalHeightIn: c,
                totalWidthFt: d / 12,
                totalHeightFt: c / 12,
                totalWidthM: d / 39.3701,
                totalHeightM: c / 39.3701,
                diagonalIn: m,
                diagonalFt: m / 12,
                aspectRatio: `${h}:${p}`,
                aspectDecimal: u.toFixed(2),
                totalResWidth: b,
                totalResHeight: f,
                totalPixels: b * f,
                configuration: `${t}×${e}`,
                bezelGapMM: x || 0,
                totalBezelWidthMM: Math.round(25.4 * l * 10) / 10,
                totalBezelHeightMM: Math.round(25.4 * n * 10) / 10,
                pixelPitchMM: Math.round(100 * y) / 100,
                minViewingAnalyticalM: Math.round((j / 1e3) * 10) / 10,
                minViewingBasicM: Math.round((_ / 1e3) * 10) / 10,
                minViewingVideoM: Math.round((v / 1e3) * 10) / 10,
                minViewingAnalyticalFt: Math.round((j / 304.8) * 10) / 10,
                minViewingBasicFt: Math.round((_ / 304.8) * 10) / 10,
                minViewingVideoFt: Math.round((v / 304.8) * 10) / 10,
            });
        },
        W = (t, a) => {
            I(t), F(a);
            const l = q(e, r),
                i = q(s, r);
            $(t, a, l, i);
        };
    return _jsxs("div", {
        className: "max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8",
        children: [
            _jsxs("div", {
                className: "flex items-center justify-between mb-4 sm:mb-6",
                children: [
                    _jsx("h1", {
                        className: "text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",
                        children: "Video Wall Builder",
                    }),
                    B !== null &&
                        _jsx("button", {
                            onClick: () => H(!0),
                            className:
                                "px-3 py-1.5 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white text-xs sm:text-sm transition-colors shadow-sm dark:shadow-gray-950/10",
                            children: "⟲ Reset Tool",
                        }),
                ],
            }),
            _jsx(ResetConfirmModal, {
                isOpen: L,
                onConfirm: () => {
                    t(47.6),
                        a(26.8),
                        l("in"),
                        n(1920),
                        d(1080),
                        m("preset"),
                        u(0),
                        p("dimension"),
                        b("width"),
                        y(10),
                        _("ft"),
                        N(16),
                        C(9),
                        k(12),
                        R(6.75),
                        A("ft"),
                        I(2),
                        F(2),
                        T(null),
                        H(!1);
                },
                onCancel: () => H(!1),
            }),
            _jsx("div", {
                className: "bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",
                children: _jsxs("p", {
                    className: "text-sm text-gray-600 dark:text-gray-400",
                    children: [
                        _jsx("span", { className: "font-semibold text-gray-700 dark:text-gray-300", children: "What this tool does:" }),
                        " Design video wall configurations by entering individual display dimensions and resolution. Adjust rows and columns to achieve your target wall size or aspect ratio. Calculates total dimensions, resolution, and pixel count.",
                    ],
                }),
            }),
            _jsxs("div", {
                className: "bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 sm:p-5 mb-6 border border-blue-200 dark:border-blue-800",
                children: [
                    _jsx("h2", {
                        className: "text-base sm:text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2 sm:mb-3",
                        children: "Video Wall Design Tool",
                    }),
                    _jsx("p", {
                        className: "text-xs sm:text-sm text-blue-700",
                        children:
                            "Design your video wall by specifying display dimensions and target size. Adjust rows and columns using the sliders to fine-tune your configuration.",
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children: "Display Specifications",
                    }),
                    _jsxs("div", {
                        className: "grid grid-cols-2 lg:grid-cols-4 gap-4",
                        children: [
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Display Width",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        value: e,
                                        onChange: (e) =>
                                            t("" === e.target.value ? "" : parseFloat(e.target.value) || 0),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Display Height",
                                    }),
                                    _jsx("input", {
                                        type: "number",
                                        step: "0.1",
                                        value: s,
                                        onChange: (e) =>
                                            a("" === e.target.value ? "" : parseFloat(e.target.value) || 0),
                                        className:
                                            "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Dimension Unit",
                                    }),
                                    _jsxs("select", {
                                        value: r,
                                        onChange: (e) => l(e.target.value),
                                        className:
                                            "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                        children: [
                                            _jsx("option", { value: "in", children: "Inches (in)" }),
                                            _jsx("option", { value: "mm", children: "Millimeters (mm)" }),
                                        ],
                                    }),
                                ],
                            }),
                            _jsxs("div", {
                                children: [
                                    _jsx("label", {
                                        className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                        children: "Resolution",
                                    }),
                                    _jsxs("select", {
                                        value: "custom" === c ? "custom" : `${i}x${o}`,
                                        onChange: (e) => {
                                            if ("custom" === e.target.value) m("custom");
                                            else {
                                                m("preset");
                                                const [t, s] = e.target.value.split("x").map(Number);
                                                n(t), d(s);
                                            }
                                        },
                                        className:
                                            "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                        children: [
                                            _jsx("option", { value: "1920x1080", children: "1920×1080 (FHD)" }),
                                            _jsx("option", { value: "2560x1440", children: "2560×1440 (QHD)" }),
                                            _jsx("option", { value: "3840x2160", children: "3840×2160 (4K)" }),
                                            _jsx("option", { value: "1280x720", children: "1280×720 (HD)" }),
                                            _jsx("option", { value: "1366x768", children: "1366×768 (WXGA)" }),
                                            _jsx("option", { value: "custom", children: "Custom Resolution" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    "custom" === c &&
                        _jsxs("div", {
                            className: "mt-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border",
                            children: [
                                _jsx("label", {
                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",
                                    children: "Custom Resolution",
                                }),
                                _jsxs("div", {
                                    className: "flex items-center gap-3",
                                    children: [
                                        _jsxs("div", {
                                            className: "flex-1",
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-xs text-gray-500 dark:text-gray-400 mb-1",
                                                    children: "Width (px)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    value: i,
                                                    onChange: (e) =>
                                                        n(
                                                            "" === e.target.value || "" === e.target.value
                                                                ? ""
                                                                : parseInt(e.target.value)
                                                        ),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    placeholder: "Width",
                                                }),
                                            ],
                                        }),
                                        _jsx("span", { className: "text-gray-400 font-medium pt-5", children: "×" }),
                                        _jsxs("div", {
                                            className: "flex-1",
                                            children: [
                                                _jsx("label", {
                                                    className: "block text-xs text-gray-500 dark:text-gray-400 mb-1",
                                                    children: "Height (px)",
                                                }),
                                                _jsx("input", {
                                                    type: "number",
                                                    min: "1",
                                                    value: o,
                                                    onChange: (e) =>
                                                        d(
                                                            "" === e.target.value || "" === e.target.value
                                                                ? ""
                                                                : parseInt(e.target.value)
                                                        ),
                                                    className:
                                                        "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                    placeholder: "Height",
                                                }),
                                            ],
                                        }),
                                        _jsx("div", {
                                            className: "pt-5",
                                            children: _jsxs("span", {
                                                className: "text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 px-2 py-1 rounded border",
                                                children: [((i * o) / 1e6).toFixed(2), " MP"],
                                            }),
                                        }),
                                    ],
                                }),
                                _jsx("p", {
                                    className: "text-xs text-gray-500 dark:text-gray-400 mt-2",
                                    children: "Enter your display's native resolution in pixels",
                                }),
                            ],
                        }),
                    _jsxs("div", {
                        className: "mt-4",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Bezel-to-Bezel Gap (optional)",
                            }),
                            _jsxs("div", {
                                className: "flex items-center gap-3",
                                children: [
                                    _jsx("input", {
                                        type: "number",
                                        min: "0",
                                        step: "0.1",
                                        value: x,
                                        onChange: (e) => u("" === e.target.value ? 0 : parseFloat(e.target.value) || 0),
                                        className: "w-32 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                    }),
                                    _jsx("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "mm" }),
                                    _jsxs("div", {
                                        className: "flex flex-wrap gap-1",
                                        children: [
                                            { label: "0mm (LED)", value: 0 },
                                            { label: "1.8mm", value: 1.8 },
                                            { label: "3.5mm", value: 3.5 },
                                            { label: "5mm", value: 5 },
                                        ].map((e) =>
                                            _jsx(
                                                "button",
                                                {
                                                    onClick: () => u(e.value),
                                                    className:
                                                        "px-2 py-1 text-xs rounded border transition-colors cursor-pointer " +
                                                        (x === e.value
                                                            ? "bg-blue-600 text-white border-blue-600"
                                                            : "bg-gray-50 dark:bg-gray-900/50 hover:bg-blue-50 dark:bg-blue-900/20 border-gray-300 dark:border-gray-600"),
                                                    children: e.label,
                                                },
                                                e.label
                                            )
                                        ),
                                    }),
                                ],
                            }),
                            _jsx("p", {
                                className: "text-xs text-gray-500 dark:text-gray-400 mt-1",
                                children: "Total gap between adjacent display edges. Set to 0 for LED walls.",
                            }),
                        ],
                    }),
                    _jsxs("div", {
                        className: "mt-4",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Quick Select - Common Displays",
                            }),
                            _jsx("div", {
                                className: "flex flex-wrap gap-2",
                                children: [
                                    { label: '55" FHD', w: 47.6, h: 26.8, rw: 1920, rh: 1080 },
                                    { label: '49" FHD', w: 42.5, h: 23.9, rw: 1920, rh: 1080 },
                                    { label: '46" FHD', w: 39.9, h: 22.5, rw: 1920, rh: 1080 },
                                    { label: '55" 4K', w: 47.6, h: 26.8, rw: 3840, rh: 2160 },
                                    { label: '65" 4K', w: 56.7, h: 31.9, rw: 3840, rh: 2160 },
                                ].map((e) =>
                                    _jsx(
                                        "button",
                                        {
                                            onClick: () => {
                                                t(e.w), a(e.h), n(e.rw), d(e.rh), l("in"), m("preset");
                                            },
                                            className:
                                                "px-3 py-1.5 text-xs rounded-lg border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:bg-blue-900/20 transition-colors cursor-pointer",
                                            children: e.label,
                                        },
                                        e.label
                                    )
                                ),
                            }),
                        ],
                    }),
                ],
            }),
            _jsxs("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 mb-6 border",
                children: [
                    _jsx("h2", {
                        className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                        children: "Video Wall Target Size",
                    }),
                    _jsxs("div", {
                        className: "mb-4",
                        children: [
                            _jsx("label", {
                                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                children: "Input Mode",
                            }),
                            _jsxs("div", {
                                className: "flex flex-col sm:flex-row gap-3 sm:gap-4",
                                children: [
                                    _jsxs("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            _jsx("input", {
                                                type: "radio",
                                                checked: "dimension" === h,
                                                onChange: () => p("dimension"),
                                                className: "text-blue-600",
                                            }),
                                            _jsx("span", {
                                                className: "text-sm",
                                                children: "Dimension + Aspect Ratio",
                                            }),
                                        ],
                                    }),
                                    _jsxs("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            _jsx("input", {
                                                type: "radio",
                                                checked: "size" === h,
                                                onChange: () => p("size"),
                                                className: "text-blue-600",
                                            }),
                                            _jsx("span", { className: "text-sm", children: "Width × Height" }),
                                        ],
                                    }),
                                    _jsxs("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            _jsx("input", {
                                                type: "radio",
                                                checked: "manual" === h,
                                                onChange: () => p("manual"),
                                                className: "text-blue-600",
                                            }),
                                            _jsx("span", { className: "text-sm", children: "Manual Grid" }),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                    "dimension" === h &&
                        _jsxs("div", {
                            className: "grid grid-cols-2 lg:grid-cols-4 gap-4",
                            children: [
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Specify",
                                        }),
                                        _jsxs("select", {
                                            value: g,
                                            onChange: (e) => b(e.target.value),
                                            className:
                                                "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                            children: [
                                                _jsx("option", { value: "width", children: "Width" }),
                                                _jsx("option", { value: "height", children: "Height" }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    children: [
                                        _jsxs("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: ["Target ", "width" === g ? "Width" : "Height"],
                                        }),
                                        _jsxs("div", {
                                            className: "flex gap-2",
                                            children: [
                                                _jsx("input", {
                                                    type: "number",
                                                    step: "0.1",
                                                    value: f,
                                                    onChange: (e) =>
                                                        y("" === e.target.value ? "" : parseFloat(e.target.value) || 0),
                                                    className:
                                                        "flex-1 min-w-0 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                                }),
                                                _jsxs("select", {
                                                    value: j,
                                                    onChange: (e) => {
                                                        return (t = e.target.value), void U(t);
                                                        var t;
                                                    },
                                                    className:
                                                        "px-2 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                                    children: [
                                                        _jsx("option", { value: "ft", children: "ft" }),
                                                        _jsx("option", { value: "m", children: "m" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "col-span-2",
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Target Aspect Ratio",
                                        }),
                                        _jsxs("div", {
                                            className: "flex flex-wrap gap-2 items-center",
                                            children: [
                                                _jsxs("div", {
                                                    className: "flex items-center gap-1",
                                                    children: [
                                                        _jsx("input", {
                                                            type: "number",
                                                            value: v,
                                                            onChange: (e) =>
                                                                N(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : parseFloat(e.target.value) || 0
                                                                ),
                                                            className:
                                                                "w-16 px-2 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-center",
                                                        }),
                                                        _jsx("span", {
                                                            className: "font-bold truncate",
                                                            children: ":",
                                                        }),
                                                        _jsx("input", {
                                                            type: "number",
                                                            value: w,
                                                            onChange: (e) =>
                                                                C(
                                                                    "" === e.target.value
                                                                        ? ""
                                                                        : parseFloat(e.target.value) || 0
                                                                ),
                                                            className:
                                                                "w-16 px-2 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-center",
                                                        }),
                                                    ],
                                                }),
                                                _jsx("div", {
                                                    className: "flex flex-wrap gap-1",
                                                    children: [
                                                        { label: "16:9", w: 16, h: 9 },
                                                        { label: "16:10", w: 16, h: 10 },
                                                        { label: "4:3", w: 4, h: 3 },
                                                        { label: "21:9", w: 21, h: 9 },
                                                        { label: "2.39:1", w: 239, h: 100 },
                                                        { label: "3:4", w: 3, h: 4 },
                                                        { label: "9:16", w: 9, h: 16 },
                                                    ].map((e) =>
                                                        _jsx(
                                                            "button",
                                                            {
                                                                onClick: () => {
                                                                    N(e.w), C(e.h);
                                                                },
                                                                className:
                                                                    "px-2 py-1 text-xs rounded border transition-colors cursor-pointer " +
                                                                    (v === e.w && w === e.h
                                                                        ? "bg-blue-600 text-white border-blue-600"
                                                                        : "bg-gray-50 dark:bg-gray-900/50 hover:bg-blue-50 dark:bg-blue-900/20 border-gray-300 dark:border-gray-600"),
                                                                children: e.label,
                                                            },
                                                            e.label
                                                        )
                                                    ),
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    "size" === h &&
                        _jsxs("div", {
                            className: "grid grid-cols-2 lg:grid-cols-3 gap-4",
                            children: [
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Total Width",
                                        }),
                                        _jsx("input", {
                                            type: "number",
                                            step: "0.1",
                                            value: M,
                                            onChange: (e) =>
                                                k("" === e.target.value ? "" : parseFloat(e.target.value) || 0),
                                            className:
                                                "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Total Height",
                                        }),
                                        _jsx("input", {
                                            type: "number",
                                            step: "0.1",
                                            value: S,
                                            onChange: (e) =>
                                                R("" === e.target.value ? "" : parseFloat(e.target.value) || 0),
                                            className:
                                                "w-full max-w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    children: [
                                        _jsx("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: "Unit",
                                        }),
                                        _jsxs("select", {
                                            value: P,
                                            onChange: (e) => {
                                                return (t = e.target.value), void U(t);
                                                var t;
                                            },
                                            className:
                                                "w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800",
                                            children: [
                                                _jsx("option", { value: "ft", children: "Feet (ft)" }),
                                                _jsx("option", { value: "m", children: "Meters (m)" }),
                                                _jsx("option", { value: "in", children: "Inches (in)" }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsx("div", {
                                    className: "col-span-2 lg:col-span-3",
                                    children: _jsxs("p", {
                                        className: "text-sm text-gray-500 dark:text-gray-400",
                                        children: [
                                            "Aspect ratio will be automatically calculated: ",
                                            _jsxs("strong", { children: [(M / S).toFixed(2), ":1"] }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                    "manual" === h &&
                        _jsxs("div", {
                            className: "grid grid-cols-2 gap-4",
                            children: [
                                _jsxs("div", {
                                    children: [
                                        _jsxs("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: ["Columns: ", E],
                                        }),
                                        _jsx("input", {
                                            type: "range",
                                            min: "1",
                                            max: "20",
                                            value: E,
                                            onChange: (e) => F(parseInt(e.target.value)),
                                            className:
                                                "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    children: [
                                        _jsxs("label", {
                                            className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                            children: ["Rows: ", D],
                                        }),
                                        _jsx("input", {
                                            type: "range",
                                            min: "1",
                                            max: "20",
                                            value: D,
                                            onChange: (e) => I(parseInt(e.target.value)),
                                            className:
                                                "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    _jsx("button", {
                        onClick: () => {
                            const t = q(_0x99bba9(e, 47.6, 1), r),
                                a = q(_0x99bba9(s, 26.8, 1), r);
                            let l, i;
                            if ("dimension" === h) {
                                const e = q(_0x99bba9(f, 10, 1), j),
                                    s = _0x99bba9(v, 16, 1) / _0x99bba9(w, 9, 1),
                                    r = t / a;
                                let n, o;
                                if ("width" === g) {
                                    n = Math.ceil(e / t);
                                    const r = (n * t) / s;
                                    o = Math.max(1, Math.round(r / a));
                                } else {
                                    o = Math.ceil(e / a);
                                    const r = o * a * s;
                                    n = Math.max(1, Math.round(r / t));
                                }
                                const d = n * o,
                                    c = Math.abs(s - r) / r > 0.3 ? 8 : 6;
                                let m = n,
                                    x = o,
                                    u = 1 / 0;
                                for (let r = Math.max(1, n - 2); r <= n + c; r++)
                                    for (let l = Math.max(1, o - 2); l <= o + c; l++) {
                                        const i = r * t,
                                            n = l * a;
                                        if ("width" === g && i < e) continue;
                                        if ("height" === g && n < e) continue;
                                        const o = i / n,
                                            c = r * l,
                                            h = c / d;
                                        let p = (Math.abs(o - s) / s) * 100;
                                        h > 1 &&
                                            (p +=
                                                h <= 1.5
                                                    ? 3 * (h - 1)
                                                    : h <= 2.5
                                                      ? 1.5 + 8 * (h - 1.5)
                                                      : h <= 4
                                                        ? 9.5 + 20 * (h - 2.5)
                                                        : 39.5 + 50 * (h - 4)),
                                            (p += 0.001 * c),
                                            p < u && ((u = p), (m = r), (x = l));
                                    }
                                (i = m), (l = x);
                            } else if ("size" === h) {
                                const e = q(_0x99bba9(M, 12, 1), P),
                                    s = q(_0x99bba9(S, 6.75, 1), P);
                                (i = Math.ceil(e / t)), (l = Math.ceil(s / a));
                            } else (l = D), (i = E);
                            (l = Math.max(1, l)), (i = Math.max(1, i)), I(l), F(i), $(l, i, t, a);
                        },
                        className:
                            "w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors cursor-pointer",
                        children: "Calculate Video Wall",
                    }),
                ],
            }),
            B &&
                _jsxs("div", {
                    className: "space-y-6",
                    children: [
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "Adjust Configuration",
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 gap-6",
                                    children: [
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: [
                                                        "Columns: ",
                                                        _jsx("span", {
                                                            className: "font-bold text-blue-600",
                                                            children: E,
                                                        }),
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "range",
                                                    min: "1",
                                                    max: "20",
                                                    value: E,
                                                    onChange: (e) => W(D, parseInt(e.target.value)),
                                                    className:
                                                        "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-xs text-gray-400 mt-1",
                                                    children: [
                                                        _jsx("span", { children: "1" }),
                                                        _jsx("span", { children: "5" }),
                                                        _jsx("span", { children: "10" }),
                                                        _jsx("span", { children: "15" }),
                                                        _jsx("span", { children: "20" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            children: [
                                                _jsxs("label", {
                                                    className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",
                                                    children: [
                                                        "Rows: ",
                                                        _jsx("span", {
                                                            className: "font-bold text-blue-600",
                                                            children: D,
                                                        }),
                                                    ],
                                                }),
                                                _jsx("input", {
                                                    type: "range",
                                                    min: "1",
                                                    max: "20",
                                                    value: D,
                                                    onChange: (e) => W(parseInt(e.target.value), E),
                                                    className:
                                                        "w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600",
                                                }),
                                                _jsxs("div", {
                                                    className: "flex justify-between text-xs text-gray-400 mt-1",
                                                    children: [
                                                        _jsx("span", { children: "1" }),
                                                        _jsx("span", { children: "5" }),
                                                        _jsx("span", { children: "10" }),
                                                        _jsx("span", { children: "15" }),
                                                        _jsx("span", { children: "20" }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        _jsxs("div", {
                            className: "bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-950/20 p-4 sm:p-6 border",
                            children: [
                                _jsx("h2", {
                                    className: "text-lg sm:text-xl font-semibold text-gray-800 mb-4",
                                    children: "Video Wall Specifications",
                                }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-blue-600 font-medium",
                                                    children: "Configuration",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-blue-700",
                                                    children: B.configuration,
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-blue-600",
                                                    children: [B.cols, " cols × ", B.rows, " rows"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-green-600 font-medium",
                                                    children: "Total Displays",
                                                }),
                                                _jsx("div", {
                                                    className: "text-3xl font-bold text-green-700",
                                                    children: B.totalDisplays,
                                                }),
                                                _jsx("div", {
                                                    className: "text-xs text-green-600",
                                                    children: "displays needed",
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border-2 border-purple-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-purple-600 font-medium",
                                                    children: "Diagonal Size",
                                                }),
                                                _jsxs("div", {
                                                    className: "text-3xl font-bold text-purple-700",
                                                    children: [Math.round(B.diagonalIn), '"'],
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-purple-600",
                                                    children: [B.diagonalFt.toFixed(1), " ft"],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className:
                                                "bg-orange-50 p-4 rounded-lg border-2 border-orange-300 text-center",
                                            children: [
                                                _jsx("div", {
                                                    className: "text-xs text-orange-600 font-medium",
                                                    children: "Actual Aspect Ratio",
                                                }),
                                                _jsx("div", {
                                                    className: "text-2xl font-bold text-orange-700",
                                                    children: B.aspectRatio,
                                                }),
                                                _jsxs("div", {
                                                    className: "text-xs text-orange-600",
                                                    children: ["≈ ", B.aspectDecimal, ":1"],
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                "dimension" === h &&
                                    _jsx("div", {
                                        className: "p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800 mb-6",
                                        children: _jsxs("p", {
                                            className: "text-sm text-yellow-800 dark:text-yellow-200",
                                            children: [
                                                _jsx("strong", { children: "Note:" }),
                                                " Target aspect ratio was ",
                                                v,
                                                ":",
                                                w,
                                                ". The actual wall aspect ratio (",
                                                B.aspectRatio,
                                                ") may differ slightly because displays must be arranged in whole units.",
                                            ],
                                        }),
                                    }),
                                _jsxs("div", {
                                    className: "grid sm:grid-cols-2 gap-4 mb-6",
                                    children: [
                                        _jsxs("div", {
                                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                                    children: "Physical Dimensions",
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-2 text-sm",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Width:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium truncate",
                                                                    children: [
                                                                        B.totalWidthFt.toFixed(2),
                                                                        " ft (",
                                                                        B.totalWidthM.toFixed(2),
                                                                        " m)",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Height:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium truncate",
                                                                    children: [
                                                                        B.totalHeightFt.toFixed(2),
                                                                        " ft (",
                                                                        B.totalHeightM.toFixed(2),
                                                                        " m)",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Diagonal:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium truncate",
                                                                    children: [
                                                                        B.diagonalFt.toFixed(2),
                                                                        " ft (",
                                                                        Math.round(B.diagonalIn),
                                                                        '")',
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-gray-700 dark:text-gray-300 mb-3",
                                                    children: "Total Resolution",
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-2 text-sm",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Resolution:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium truncate",
                                                                    children: [
                                                                        B.totalResWidth,
                                                                        " × ",
                                                                        B.totalResHeight,
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Total Pixels:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium truncate",
                                                                    children: [(B.totalPixels / 1e6).toFixed(2), " MP"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between min-w-0",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Aspect Ratio:",
                                                                }),
                                                                _jsx("span", {
                                                                    className: "font-medium",
                                                                    children: B.aspectRatio,
                                                                }),
                                                            ],
                                                        }),
                                                        B.bezelGapMM > 0 &&
                                                            _jsxs("div", {
                                                                className:
                                                                    "flex justify-between min-w-0 pt-2 border-t border-gray-200 dark:border-gray-700 mt-2",
                                                                children: [
                                                                    _jsx("span", {
                                                                        className: "text-gray-600 dark:text-gray-400",
                                                                        children: "Bezel Gaps:",
                                                                    }),
                                                                    _jsxs("span", {
                                                                        className: "font-medium text-orange-600",
                                                                        children: [
                                                                            "+",
                                                                            B.totalBezelWidthMM,
                                                                            "×",
                                                                            B.totalBezelHeightMM,
                                                                            " mm",
                                                                        ],
                                                                    }),
                                                                ],
                                                            }),
                                                    ],
                                                }),
                                            ],
                                        }),
                                        _jsxs("div", {
                                            className: "p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",
                                            children: [
                                                _jsx("h3", {
                                                    className: "font-semibold text-purple-800 dark:text-purple-200 mb-3",
                                                    children: "Viewing Distance (AVIXA DISCAS)",
                                                }),
                                                _jsxs("div", {
                                                    className: "space-y-2 text-sm",
                                                    children: [
                                                        _jsxs("div", {
                                                            className: "flex justify-between",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Pixel Pitch:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium",
                                                                    children: [B.pixelPitchMM, " mm"],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Analytical (data/text):",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium text-red-600",
                                                                    children: [
                                                                        "≥ ",
                                                                        B.minViewingAnalyticalFt,
                                                                        "' / ",
                                                                        B.minViewingAnalyticalM,
                                                                        "m",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Basic (presentations):",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium text-yellow-600",
                                                                    children: [
                                                                        "≥ ",
                                                                        B.minViewingBasicFt,
                                                                        "' / ",
                                                                        B.minViewingBasicM,
                                                                        "m",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                        _jsxs("div", {
                                                            className: "flex justify-between",
                                                            children: [
                                                                _jsx("span", {
                                                                    className: "text-gray-600 dark:text-gray-400",
                                                                    children: "Video content:",
                                                                }),
                                                                _jsxs("span", {
                                                                    className: "font-medium text-green-600",
                                                                    children: [
                                                                        "≥ ",
                                                                        B.minViewingVideoFt,
                                                                        "' / ",
                                                                        B.minViewingVideoM,
                                                                        "m",
                                                                    ],
                                                                }),
                                                            ],
                                                        }),
                                                    ],
                                                }),
                                                _jsx("p", {
                                                    className: "text-xs text-purple-600 mt-2",
                                                    children:
                                                        "Minimum viewing distances for comfortable viewing without visible pixels",
                                                }),
                                            ],
                                        }),
                                    ],
                                }),
                                _jsxs("div", {
                                    className: "p-4 bg-gray-900 rounded-lg",
                                    children: [
                                        _jsx("h3", {
                                            className: "font-semibold text-white mb-3 text-center",
                                            children: "Visual Preview",
                                        }),
                                        _jsx("div", {
                                            className: "flex justify-center items-center px-2 sm:px-4",
                                            children: _jsx("div", {
                                                className: "grid gap-0.5 sm:gap-1 p-2 bg-gray-800 rounded w-full",
                                                style: {
                                                    gridTemplateColumns: `repeat(${B.cols}, 1fr)`,
                                                    maxWidth: `min(100%, ${Math.min(600, 80 * B.cols)}px)`,
                                                    aspectRatio: `${B.cols * i} / ${B.rows * o}`,
                                                },
                                                children: Array.from({ length: B.totalDisplays }).map((e, t) =>
                                                    _jsx(
                                                        "div",
                                                        {
                                                            className:
                                                                "bg-blue-50 dark:bg-blue-900/200 rounded-sm flex items-center justify-center text-white font-bold border border-blue-400 overflow-hidden",
                                                            style: {
                                                                aspectRatio: `${i} / ${o}`,
                                                                fontSize: `clamp(8px, ${Math.min(2, 20 / Math.max(B.cols, B.rows))}vw, 14px)`,
                                                            },
                                                            children: B.totalDisplays <= 50 ? t + 1 : "",
                                                        },
                                                        t
                                                    )
                                                ),
                                            }),
                                        }),
                                        _jsxs("p", {
                                            className: "text-center text-gray-400 text-xs mt-3",
                                            children: [
                                                B.cols,
                                                " columns × ",
                                                B.rows,
                                                " rows = ",
                                                B.totalDisplays,
                                                " displays",
                                            ],
                                        }),
                                        _jsxs("p", {
                                            className: "text-center text-gray-500 dark:text-gray-400 text-xs mt-1",
                                            children: [
                                                B.totalWidthFt.toFixed(1),
                                                "' × ",
                                                B.totalHeightFt.toFixed(1),
                                                "' (",
                                                B.aspectRatio,
                                                ")",
                                            ],
                                        }),
                                    ],
                                }),
                            ],
                        }),
                    ],
                }),
        ],
    });
}
window.AVToolsWebsite = AVToolsWebsite;